// Generated by Construct, the game and animation creation tool
// Visit: https://www.construct.net

{let L=function(t){Mn=t},k=function(t){return t*kn},B=function(t,s){return Math.abs(t-s)<=xn*Math.max(1,Math.abs(t),Math.abs(s))},N=function(){var t=new Mn(4);return Mn!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},W=function(t){var s=new Mn(4);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s},j=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t},V=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},U=function(t,s,i,e){var n=new Mn(4);return n[0]=t,n[1]=s,n[2]=i,n[3]=e,n},H=function(t,s,i,e,n){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t},z=function(t,s){var i;return t===s?(i=s[1],t[1]=s[2],t[2]=i):(t[0]=s[0],t[1]=s[2],t[2]=s[1],t[3]=s[3]),t},J=function(t,s){var i=s[0],e=s[1],n=s[2],r=i*(s=s[3])-n*e;return r?(t[0]=s*(r=1/r),t[1]=-e*r,t[2]=-n*r,t[3]=i*r,t):null},q=function(t,s){var i=s[0];return t[0]=s[3],t[1]=-s[1],t[2]=-s[2],t[3]=i,t},$=function(t){return t[0]*t[3]-t[2]*t[1]},t=function(t,s,i){var e=s[0],n=s[1],r=s[2],s=s[3],h=i[0],o=i[1],a=i[2],i=i[3];return t[0]=e*h+r*o,t[1]=n*h+s*o,t[2]=e*a+r*i,t[3]=n*a+s*i,t},X=function(t,s,i){var e=s[0],n=s[1],r=s[2],s=s[3],h=Math.sin(i),i=Math.cos(i);return t[0]=e*i+r*h,t[1]=n*i+s*h,t[2]=e*-h+r*i,t[3]=n*-h+s*i,t},Y=function(t,s,i){var e=s[0],n=s[1],r=s[2],s=s[3],h=i[0],i=i[1];return t[0]=e*h,t[1]=n*h,t[2]=r*i,t[3]=s*i,t},Z=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=i,t[2]=-i,t[3]=s,t},K=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=s[1],t},Q=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},tt=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},st=function(t,s,i,e){return t[2]=e[2]/e[0],i[0]=e[0],i[1]=e[1],i[3]=e[3]-t[2]*i[1],[t,s,i]},it=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t},s=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t},et=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]},nt=function(t,s){var i=t[0],e=t[1],n=t[2],t=t[3],r=s[0],h=s[1],o=s[2],s=s[3];return Math.abs(i-r)<=xn*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(e-h)<=xn*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(n-o)<=xn*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(t-s)<=xn*Math.max(1,Math.abs(t),Math.abs(s))},rt=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t},ht=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t},ot=function(){var t=new Mn(6);return Mn!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t},at=function(t){var s=new Mn(6);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s},lt=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t},ut=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},ct=function(t,s,i,e,n,r){var h=new Mn(6);return h[0]=t,h[1]=s,h[2]=i,h[3]=e,h[4]=n,h[5]=r,h},ft=function(t,s,i,e,n,r,h){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t[4]=r,t[5]=h,t},dt=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],s=s[5],o=i*r-e*n;return o?(t[0]=r*(o=1/o),t[1]=-e*o,t[2]=-n*o,t[3]=i*o,t[4]=(n*s-r*h)*o,t[5]=(e*h-i*s)*o,t):null},pt=function(t){return t[0]*t[3]-t[1]*t[2]},i=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],s=s[5],a=i[0],l=i[1],u=i[2],c=i[3],f=i[4],i=i[5];return t[0]=e*a+r*l,t[1]=n*a+h*l,t[2]=e*u+r*c,t[3]=n*u+h*c,t[4]=e*f+r*i+o,t[5]=n*f+h*i+s,t},mt=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],s=s[5],a=Math.sin(i),i=Math.cos(i);return t[0]=e*i+r*a,t[1]=n*i+h*a,t[2]=e*-a+r*i,t[3]=n*-a+h*i,t[4]=o,t[5]=s,t},gt=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],s=s[5],a=i[0],i=i[1];return t[0]=e*a,t[1]=n*a,t[2]=r*i,t[3]=h*i,t[4]=o,t[5]=s,t},yt=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],s=s[5],a=i[0],i=i[1];return t[0]=e,t[1]=n,t[2]=r,t[3]=h,t[4]=e*a+r*i+o,t[5]=n*a+h*i+s,t},wt=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=i,t[2]=-i,t[3]=s,t[4]=0,t[5]=0,t},St=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=s[1],t[4]=0,t[5]=0,t},vt=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=s[0],t[5]=s[1],t},bt=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},xt=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)},Mt=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t},e=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t},Tt=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t},_t=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t},Gt=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]},It=function(t,s){var i=t[0],e=t[1],n=t[2],r=t[3],h=t[4],t=t[5],o=s[0],a=s[1],l=s[2],u=s[3],c=s[4],s=s[5];return Math.abs(i-o)<=xn*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(e-a)<=xn*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(n-l)<=xn*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-u)<=xn*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(h-c)<=xn*Math.max(1,Math.abs(h),Math.abs(c))&&Math.abs(t-s)<=xn*Math.max(1,Math.abs(t),Math.abs(s))},n=function(){var t=new Mn(9);return Mn!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},Ct=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[4],t[4]=s[5],t[5]=s[6],t[6]=s[8],t[7]=s[9],t[8]=s[10],t},Pt=function(t){var s=new Mn(9);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s},Et=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t},At=function(t,s,i,e,n,r,h,o,a){var l=new Mn(9);return l[0]=t,l[1]=s,l[2]=i,l[3]=e,l[4]=n,l[5]=r,l[6]=h,l[7]=o,l[8]=a,l},Rt=function(t,s,i,e,n,r,h,o,a,l){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t[4]=r,t[5]=h,t[6]=o,t[7]=a,t[8]=l,t},Ft=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Dt=function(t,s){var i,e,n;return t===s?(i=s[1],e=s[2],n=s[5],t[1]=s[3],t[2]=s[6],t[3]=i,t[5]=s[7],t[6]=e,t[7]=n):(t[0]=s[0],t[1]=s[3],t[2]=s[6],t[3]=s[1],t[4]=s[4],t[5]=s[7],t[6]=s[2],t[7]=s[5],t[8]=s[8]),t},Ot=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=(s=s[8])*h-o*l,c=-s*r+o*a,f=l*r-h*a,d=i*u+e*c+n*f;return d?(t[0]=u*(d=1/d),t[1]=(-s*e+n*l)*d,t[2]=(o*e-n*h)*d,t[3]=c*d,t[4]=(s*i-n*a)*d,t[5]=(-o*i+n*r)*d,t[6]=f*d,t[7]=(-l*i+e*a)*d,t[8]=(h*i-e*r)*d,t):null},Lt=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=s[6],l=s[7],s=s[8];return t[0]=h*s-o*l,t[1]=n*l-e*s,t[2]=e*o-n*h,t[3]=o*a-r*s,t[4]=i*s-n*a,t[5]=n*r-i*o,t[6]=r*l-h*a,t[7]=e*a-i*l,t[8]=i*h-e*r,t},kt=function(t){var s=t[0],i=t[3],e=t[4],n=t[5],r=t[6],h=t[7],o=t[8];return s*(o*e-n*h)+t[1]*(-o*i+n*r)+t[2]*(h*i-e*r)},r=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],s=s[8],c=i[0],f=i[1],d=i[2],p=i[3],m=i[4],g=i[5],y=i[6],w=i[7],i=i[8];return t[0]=c*e+f*h+d*l,t[1]=c*n+f*o+d*u,t[2]=c*r+f*a+d*s,t[3]=p*e+m*h+g*l,t[4]=p*n+m*o+g*u,t[5]=p*r+m*a+g*s,t[6]=y*e+w*h+i*l,t[7]=y*n+w*o+i*u,t[8]=y*r+w*a+i*s,t},Bt=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],s=s[8],c=i[0],i=i[1];return t[0]=e,t[1]=n,t[2]=r,t[3]=h,t[4]=o,t[5]=a,t[6]=c*e+i*h+l,t[7]=c*n+i*o+u,t[8]=c*r+i*a+s,t},Nt=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],s=s[8],c=Math.sin(i),i=Math.cos(i);return t[0]=i*e+c*h,t[1]=i*n+c*o,t[2]=i*r+c*a,t[3]=i*h-c*e,t[4]=i*o-c*n,t[5]=i*a-c*r,t[6]=l,t[7]=u,t[8]=s,t},Wt=function(t,s,i){var e=i[0],i=i[1];return t[0]=e*s[0],t[1]=e*s[1],t[2]=e*s[2],t[3]=i*s[3],t[4]=i*s[4],t[5]=i*s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t},jt=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=s[0],t[7]=s[1],t[8]=1,t},Vt=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=i,t[2]=0,t[3]=-i,t[4]=s,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Ut=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=s[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Ht=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=0,t[3]=s[2],t[4]=s[3],t[5]=0,t[6]=s[4],t[7]=s[5],t[8]=1,t},zt=function(t,s){var i=s[0],e=s[2],n=e+e,i=i*(l=i+i),r=(h=s[1])*l,h=h*(u=h+h),o=e*l,a=e*u,l=(s=s[3])*l,u=s*u,s=s*n;return t[0]=1-h-(e=e*n),t[3]=r-s,t[6]=o+u,t[1]=r+s,t[4]=1-i-e,t[7]=a-l,t[2]=o-u,t[5]=a+l,t[8]=1-i-h,t},Jt=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=i*o-e*h,w=i*a-n*h,S=i*l-r*h,v=e*a-n*o,b=e*l-r*o,x=n*l-r*a,M=u*m-c*p,T=u*g-f*p,_=c*g-f*m;return(d=y*(f=f*(s=s[15])-d*g)-w*(c=c*s-d*m)+S*_+v*(u=u*s-d*p)-b*T+x*M)?(t[0]=(o*f-a*c+l*_)*(d=1/d),t[1]=(a*u-h*f-l*T)*d,t[2]=(h*c-o*u+l*M)*d,t[3]=(n*c-e*f-r*_)*d,t[4]=(i*f-n*u+r*T)*d,t[5]=(e*u-i*c-r*M)*d,t[6]=(m*x-g*b+s*v)*d,t[7]=(g*S-p*x-s*w)*d,t[8]=(p*b-m*S+s*y)*d,t):null},qt=function(t,s,i){return t[0]=2/s,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},$t=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},Xt=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},Yt=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t[8]=s[8]+i[8],t},h=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t[6]=s[6]-i[6],t[7]=s[7]-i[7],t[8]=s[8]-i[8],t},Zt=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t[8]=s[8]*i,t},Kt=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t[6]=s[6]+i[6]*e,t[7]=s[7]+i[7]*e,t[8]=s[8]+i[8]*e,t},Qt=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]&&t[8]===s[8]},ts=function(t,s){var i=t[0],e=t[1],n=t[2],r=t[3],h=t[4],o=t[5],a=t[6],l=t[7],t=t[8],u=s[0],c=s[1],f=s[2],d=s[3],p=s[4],m=s[5],g=s[6],y=s[7],s=s[8];return Math.abs(i-u)<=xn*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(e-c)<=xn*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(n-f)<=xn*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-d)<=xn*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(h-p)<=xn*Math.max(1,Math.abs(h),Math.abs(p))&&Math.abs(o-m)<=xn*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-g)<=xn*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(l-y)<=xn*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(t-s)<=xn*Math.max(1,Math.abs(t),Math.abs(s))},ss=function(){var t=new Mn(16);return Mn!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},is=function(t){var s=new Mn(16);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s},es=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t},ns=function(t,s,i,e,n,r,h,o,a,l,u,c,f,d,p,m){var g=new Mn(16);return g[0]=t,g[1]=s,g[2]=i,g[3]=e,g[4]=n,g[5]=r,g[6]=h,g[7]=o,g[8]=a,g[9]=l,g[10]=u,g[11]=c,g[12]=f,g[13]=d,g[14]=p,g[15]=m,g},rs=function(t,s,i,e,n,r,h,o,a,l,u,c,f,d,p,m,g){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t[4]=r,t[5]=h,t[6]=o,t[7]=a,t[8]=l,t[9]=u,t[10]=c,t[11]=f,t[12]=d,t[13]=p,t[14]=m,t[15]=g,t},p=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},hs=function(t,s){var i,e,n,r,h,o;return t===s?(i=s[1],e=s[2],n=s[3],r=s[6],h=s[7],o=s[11],t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=i,t[6]=s[9],t[7]=s[13],t[8]=e,t[9]=r,t[11]=s[14],t[12]=n,t[13]=h,t[14]=o):(t[0]=s[0],t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=s[1],t[5]=s[5],t[6]=s[9],t[7]=s[13],t[8]=s[2],t[9]=s[6],t[10]=s[10],t[11]=s[14],t[12]=s[3],t[13]=s[7],t[14]=s[11],t[15]=s[15]),t},os=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=i*o-e*h,w=i*a-n*h,S=i*l-r*h,v=e*a-n*o,b=e*l-r*o,x=n*l-r*a,M=u*m-c*p,T=u*g-f*p,_=u*(s=s[15])-d*p,G=c*g-f*m,I=c*s-d*m,C=f*s-d*g,P=y*C-w*I+S*G+v*_-b*T+x*M;return P?(t[0]=(o*C-a*I+l*G)*(P=1/P),t[1]=(n*I-e*C-r*G)*P,t[2]=(m*x-g*b+s*v)*P,t[3]=(f*b-c*x-d*v)*P,t[4]=(a*_-h*C-l*T)*P,t[5]=(i*C-n*_+r*T)*P,t[6]=(g*S-p*x-s*w)*P,t[7]=(u*x-f*S+d*w)*P,t[8]=(h*I-o*_+l*M)*P,t[9]=(e*_-i*I-r*M)*P,t[10]=(p*b-m*S+s*y)*P,t[11]=(c*S-u*b-d*y)*P,t[12]=(o*T-h*G-a*M)*P,t[13]=(i*G-e*T+n*M)*P,t[14]=(m*w-p*v-g*y)*P,t[15]=(u*v-c*w+f*y)*P,t):null},as=function(t,s){var i=s[0],e=s[1],n=s[2],r=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=i*o-e*h,w=i*a-n*h,S=i*l-r*h,v=e*a-n*o,b=e*l-r*o,x=n*l-r*a,M=u*m-c*p,T=u*g-f*p,_=u*(s=s[15])-d*p,G=c*g-f*m,I=c*s-d*m,C=f*s-d*g;return t[0]=o*C-a*I+l*G,t[1]=n*I-e*C-r*G,t[2]=m*x-g*b+s*v,t[3]=f*b-c*x-d*v,t[4]=a*_-h*C-l*T,t[5]=i*C-n*_+r*T,t[6]=g*S-p*x-s*w,t[7]=u*x-f*S+d*w,t[8]=h*I-o*_+l*M,t[9]=e*_-i*I-r*M,t[10]=p*b-m*S+s*y,t[11]=c*S-u*b-d*y,t[12]=o*T-h*G-a*M,t[13]=i*G-e*T+n*M,t[14]=m*w-p*v-g*y,t[15]=u*v-c*w+f*y,t},ls=function(t){var s=t[0],i=t[1],e=t[2],n=t[4],r=t[5],h=t[6],o=t[8],a=t[9],l=t[10],u=t[12],c=t[13],f=t[14],d=s*r-i*n,p=s*h-e*n,m=i*h-e*r,g=o*c-a*u,y=o*f-l*u,w=a*f-l*c;return t[7]*(s*w-i*y+e*g)-t[3]*(n*w-r*y+h*g)+t[15]*(o*m-a*p+l*d)-t[11]*(u*m-c*p+f*d)},o=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=s[8],f=s[9],d=s[10],p=s[11],m=s[12],g=s[13],y=s[14],s=s[15],w=i[0],S=i[1],v=i[2],b=i[3];return t[0]=w*e+S*o+v*c+b*m,t[1]=w*n+S*a+v*f+b*g,t[2]=w*r+S*l+v*d+b*y,t[3]=w*h+S*u+v*p+b*s,t[4]=(w=i[4])*e+(S=i[5])*o+(v=i[6])*c+(b=i[7])*m,t[5]=w*n+S*a+v*f+b*g,t[6]=w*r+S*l+v*d+b*y,t[7]=w*h+S*u+v*p+b*s,t[8]=(w=i[8])*e+(S=i[9])*o+(v=i[10])*c+(b=i[11])*m,t[9]=w*n+S*a+v*f+b*g,t[10]=w*r+S*l+v*d+b*y,t[11]=w*h+S*u+v*p+b*s,t[12]=(w=i[12])*e+(S=i[13])*o+(v=i[14])*c+(b=i[15])*m,t[13]=w*n+S*a+v*f+b*g,t[14]=w*r+S*l+v*d+b*y,t[15]=w*h+S*u+v*p+b*s,t},us=function(t,s,i){var e,n,r,h,o,a,l,u,c,f,d,p,m=i[0],g=i[1],i=i[2];return s===t?(t[12]=s[0]*m+s[4]*g+s[8]*i+s[12],t[13]=s[1]*m+s[5]*g+s[9]*i+s[13],t[14]=s[2]*m+s[6]*g+s[10]*i+s[14],t[15]=s[3]*m+s[7]*g+s[11]*i+s[15]):(e=s[0],n=s[1],r=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=s[8],f=s[9],d=s[10],p=s[11],t[0]=e,t[1]=n,t[2]=r,t[3]=h,t[4]=o,t[5]=a,t[6]=l,t[7]=u,t[8]=c,t[9]=f,t[10]=d,t[11]=p,t[12]=e*m+o*g+c*i+s[12],t[13]=n*m+a*g+f*i+s[13],t[14]=r*m+l*g+d*i+s[14],t[15]=h*m+u*g+p*i+s[15]),t},cs=function(t,s,i){var e=i[0],n=i[1],i=i[2];return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t[4]=s[4]*n,t[5]=s[5]*n,t[6]=s[6]*n,t[7]=s[7]*n,t[8]=s[8]*i,t[9]=s[9]*i,t[10]=s[10]*i,t[11]=s[11]*i,t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t},fs=function(t,s,i,e){var n,r,h,o,a,l,u,c,f,d,p,m,g,y,w,S,v,b,x,M,T=e[0],_=e[1],e=e[2],G=Math.hypot(T,_,e);return G<xn?null:(T*=G=1/G,_*=G,e*=G,G=Math.sin(i),i=Math.cos(i),r=s[0],h=s[1],o=s[2],a=s[3],u=s[5],c=s[6],f=s[7],p=s[9],m=s[10],g=s[11],w=T*_*(n=1-i)-e*G,S=_*_*n+i,v=e*_*n+T*G,b=T*e*n+_*G,x=_*e*n-T*G,M=e*e*n+i,t[0]=r*(i=T*T*n+i)+(l=s[4])*(y=_*T*n+e*G)+(d=s[8])*(e=e*T*n-_*G),t[1]=h*i+u*y+p*e,t[2]=o*i+c*y+m*e,t[3]=a*i+f*y+g*e,t[4]=r*w+l*S+d*v,t[5]=h*w+u*S+p*v,t[6]=o*w+c*S+m*v,t[7]=a*w+f*S+g*v,t[8]=r*b+l*x+d*M,t[9]=h*b+u*x+p*M,t[10]=o*b+c*x+m*M,t[11]=a*b+f*x+g*M,s!==t&&(t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t)},ds=function(t,s,i){var e=Math.sin(i),i=Math.cos(i),n=s[4],r=s[5],h=s[6],o=s[7],a=s[8],l=s[9],u=s[10],c=s[11];return s!==t&&(t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[4]=n*i+a*e,t[5]=r*i+l*e,t[6]=h*i+u*e,t[7]=o*i+c*e,t[8]=a*i-n*e,t[9]=l*i-r*e,t[10]=u*i-h*e,t[11]=c*i-o*e,t},ps=function(t,s,i){var e=Math.sin(i),i=Math.cos(i),n=s[0],r=s[1],h=s[2],o=s[3],a=s[8],l=s[9],u=s[10],c=s[11];return s!==t&&(t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=n*i-a*e,t[1]=r*i-l*e,t[2]=h*i-u*e,t[3]=o*i-c*e,t[8]=n*e+a*i,t[9]=r*e+l*i,t[10]=h*e+u*i,t[11]=o*e+c*i,t},ms=function(t,s,i){var e=Math.sin(i),i=Math.cos(i),n=s[0],r=s[1],h=s[2],o=s[3],a=s[4],l=s[5],u=s[6],c=s[7];return s!==t&&(t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=n*i+a*e,t[1]=r*i+l*e,t[2]=h*i+u*e,t[3]=o*i+c*e,t[4]=a*i-n*e,t[5]=l*i-r*e,t[6]=u*i-h*e,t[7]=c*i-o*e,t},gs=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t},ys=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=s[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},ws=function(t,s,i){var e,n=i[0],r=i[1],i=i[2],h=Math.hypot(n,r,i);return h<xn?null:(n*=h=1/h,r*=h,i*=h,h=Math.sin(s),s=Math.cos(s),t[0]=n*n*(e=1-s)+s,t[1]=r*n*e+i*h,t[2]=i*n*e-r*h,t[3]=0,t[4]=n*r*e-i*h,t[5]=r*r*e+s,t[6]=i*r*e+n*h,t[7]=0,t[8]=n*i*e+r*h,t[9]=r*i*e-n*h,t[10]=i*i*e+s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},Ss=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},vs=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},bs=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},f=function(t,s,i){var e=s[0],n=s[2],r=n+n,h=e*(u=e+e),o=e*(c=(l=s[1])+l),e=e*r,a=l*c,l=l*r,u=(s=s[3])*u,c=s*c,s=s*r;return t[0]=1-(a+(n=n*r)),t[1]=o+s,t[2]=e-c,t[3]=0,t[4]=o-s,t[5]=1-(h+n),t[6]=l+u,t[7]=0,t[8]=e+c,t[9]=l-u,t[10]=1-(h+a),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},xs=function(t,s){var i=new Mn(3),e=-s[0],n=-s[1],r=-s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=e*e+n*n+r*r+h*h;return 0<c?(i[0]=2*(o*h+u*e+a*r-l*n)/c,i[1]=2*(a*h+u*n+l*e-o*r)/c,i[2]=2*(l*h+u*r+o*n-a*e)/c):(i[0]=2*(o*h+u*e+a*r-l*n),i[1]=2*(a*h+u*n+l*e-o*r),i[2]=2*(l*h+u*r+o*n-a*e)),f(t,s,i),t},a=function(t,s){return t[0]=s[12],t[1]=s[13],t[2]=s[14],t},d=function(t,s){var i=s[0],e=s[4],n=s[5],r=s[6],h=s[8],o=s[9],a=s[10];return t[0]=Math.hypot(i,s[1],s[2]),t[1]=Math.hypot(e,n,r),t[2]=Math.hypot(h,o,a),t},l=function(t,s){var i=new Mn(3),e=(d(i,s),1/i[0]),n=s[0]*e,r=s[1]*(u=1/i[1]),h=s[2]*(i=1/i[2]),o=s[4]*e,a=s[5]*u,l=s[6]*i,e=s[8]*e,u=s[9]*u,c=0;return 0<(i=n+a+(s=s[10]*i))?(c=2*Math.sqrt(1+i),t[3]=.25*c,t[0]=(l-u)/c,t[1]=(e-h)/c,t[2]=(r-o)/c):a<n&&s<n?(c=2*Math.sqrt(1+n-a-s),t[3]=(l-u)/c,t[0]=.25*c,t[1]=(r+o)/c,t[2]=(e+h)/c):s<a?(c=2*Math.sqrt(1+a-n-s),t[3]=(e-h)/c,t[0]=(r+o)/c,t[1]=.25*c,t[2]=(l+u)/c):(c=2*Math.sqrt(1+s-n-a),t[3]=(r-o)/c,t[0]=(e+h)/c,t[1]=(l+u)/c,t[2]=.25*c),t},Ms=function(t,s,i,e){s[0]=e[12],s[1]=e[13],s[2]=e[14];var s=e[0],n=e[1],r=e[2],h=e[4],o=e[5],a=e[6],l=e[8],u=e[9],e=e[10],c=(i[0]=Math.hypot(s,n,r),i[1]=Math.hypot(h,o,a),i[2]=Math.hypot(l,u,e),1/i[0]),f=1/i[1],s=s*c,n=n*f,r=r*(i=1/i[2]),h=h*c,a=a*i,l=l*c,c=u*f,u=e*i,e=0;return 0<(f=s+(o=o*f)+u)?(e=2*Math.sqrt(1+f),t[3]=.25*e,t[0]=(a-c)/e,t[1]=(l-r)/e,t[2]=(n-h)/e):o<s&&u<s?(e=2*Math.sqrt(1+s-o-u),t[3]=(a-c)/e,t[0]=.25*e,t[1]=(n+h)/e,t[2]=(l+r)/e):u<o?(e=2*Math.sqrt(1+o-s-u),t[3]=(l-r)/e,t[0]=(n+h)/e,t[1]=.25*e,t[2]=(a+c)/e):(e=2*Math.sqrt(1+u-s-o),t[3]=(n-h)/e,t[0]=(l+r)/e,t[1]=(a+c)/e,t[2]=.25*e),t},Ts=function(t,s,i,e){var n=(h=s[0])*(u=h+h),r=h*(c=(a=s[1])+a),h=h*(f=(l=s[2])+l),o=a*c,a=a*f,l=l*f,u=(s=s[3])*u,c=s*c,s=s*f,f=e[0],d=e[1],e=e[2];return t[0]=(1-(o+l))*f,t[1]=(r+s)*f,t[2]=(h-c)*f,t[3]=0,t[4]=(r-s)*d,t[5]=(1-(n+l))*d,t[6]=(a+u)*d,t[7]=0,t[8]=(h+c)*e,t[9]=(a-u)*e,t[10]=(1-(n+o))*e,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},_s=function(t,s,i,e,n){var r=(o=s[0])*(c=o+o),h=o*(f=(l=s[1])+l),o=o*(d=(u=s[2])+u),a=l*f,l=l*d,u=u*d,c=(s=s[3])*c,f=s*f,s=s*d,d=e[0],p=e[1],e=e[2],m=n[0],g=n[1],n=n[2],y=(1-(a+u))*d,w=(h+s)*d,d=(o-f)*d,h=(h-s)*p,s=(1-(r+u))*p,u=(l+c)*p,p=(o+f)*e,o=(l-c)*e,f=(1-(r+a))*e;return t[0]=y,t[1]=w,t[2]=d,t[3]=0,t[4]=h,t[5]=s,t[6]=u,t[7]=0,t[8]=p,t[9]=o,t[10]=f,t[11]=0,t[12]=i[0]+m-(y*m+h*g+p*n),t[13]=i[1]+g-(w*m+s*g+o*n),t[14]=i[2]+n-(d*m+u*g+f*n),t[15]=1,t},Gs=function(t,s){var i=s[0],e=s[2],n=e+e,i=i*(l=i+i),r=(h=s[1])*l,h=h*(u=h+h),o=e*l,a=e*u,l=(s=s[3])*l,u=s*u,s=s*n;return t[0]=1-h-(e=e*n),t[1]=r+s,t[2]=o-u,t[3]=0,t[4]=r-s,t[5]=1-i-e,t[6]=a+l,t[7]=0,t[8]=o+u,t[9]=a-l,t[10]=1-i-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Is=function(t,s,i,e,n,r,h){var o=1/(i-s),a=1/(n-e),l=1/(r-h);return t[0]=2*r*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*r*a,t[6]=0,t[7]=0,t[8]=(i+s)*o,t[9]=(n+e)*a,t[10]=(h+r)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=h*r*2*l,t[15]=0,t},u=function(t,s,i,e,n){return s=1/Math.tan(s/2),t[0]=s/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=n&&n!==1/0?(t[10]=(n+e)*(i=1/(e-n)),t[14]=2*n*e*i):(t[10]=-1,t[14]=-2*e),t},Cs=function(t,s,i,e,n){return s=1/Math.tan(s/2),t[0]=s/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=n&&n!==1/0?(t[10]=n*(i=1/(e-n)),t[14]=n*e*i):(t[10]=-1,t[14]=-e),t},Ps=function(t,s,i,e){var n=Math.tan(s.upDegrees*Math.PI/180),r=Math.tan(s.downDegrees*Math.PI/180),h=Math.tan(s.leftDegrees*Math.PI/180),o=2/(h+(s=Math.tan(s.rightDegrees*Math.PI/180))),a=2/(n+r);return t[0]=o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=-(h-s)*o*.5,t[9]=(n-r)*a*.5,t[10]=e/(i-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*i/(i-e),t[15]=0,t},c=function(t,s,i,e,n,r,h){var o=1/(s-i),a=1/(e-n),l=1/(r-h);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(s+i)*o,t[13]=(n+e)*a,t[14]=(h+r)*l,t[15]=1,t},Es=function(t,s,i,e,n,r,h){var o=1/(s-i),a=1/(e-n),h=1/(r-h);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=h,t[11]=0,t[12]=(s+i)*o,t[13]=(n+e)*a,t[14]=r*h,t[15]=1,t},As=function(t,s,i,e){var n,r,h,o,a=s[0],l=s[1],s=s[2],u=e[0],c=e[1],e=e[2],f=i[0],d=i[1],i=i[2];return Math.abs(a-f)<xn&&Math.abs(l-d)<xn&&Math.abs(s-i)<xn?p(t):(f=a-f,d=l-d,i=s-i,n=c*(i*=o=1/Math.hypot(f,d,i))-e*(d*=o),e=e*(f*=o)-u*i,u=u*d-c*f,(o=Math.hypot(n,e,u))?(n*=o=1/o,e*=o,u*=o):u=e=n=0,c=d*u-i*e,r=i*n-f*u,h=f*e-d*n,(o=Math.hypot(c,r,h))?(c*=o=1/o,r*=o,h*=o):h=r=c=0,t[0]=n,t[1]=c,t[2]=f,t[3]=0,t[4]=e,t[5]=r,t[6]=d,t[7]=0,t[8]=u,t[9]=h,t[10]=i,t[11]=0,t[12]=-(n*a+e*l+u*s),t[13]=-(c*a+r*l+h*s),t[14]=-(f*a+d*l+i*s),t[15]=1,t)},Rs=function(t,s,i,e){var n=s[0],r=s[1],s=s[2],h=e[0],o=e[1],e=e[2],a=n-i[0],l=r-i[1],u=a*a+l*l+(i=s-i[2])*i,c=(0<u&&(a*=u=1/Math.sqrt(u),l*=u,i*=u),o*i-e*l);return 0<(u=c*c+(e=e*a-h*i)*e+(h=h*l-o*a)*h)&&(c*=u=1/Math.sqrt(u),e*=u,h*=u),t[0]=c,t[1]=e,t[2]=h,t[3]=0,t[4]=l*h-i*e,t[5]=i*c-a*h,t[6]=a*e-l*c,t[7]=0,t[8]=a,t[9]=l,t[10]=i,t[11]=0,t[12]=n,t[13]=r,t[14]=s,t[15]=1,t},Fs=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},Ds=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},Os=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t[8]=s[8]+i[8],t[9]=s[9]+i[9],t[10]=s[10]+i[10],t[11]=s[11]+i[11],t[12]=s[12]+i[12],t[13]=s[13]+i[13],t[14]=s[14]+i[14],t[15]=s[15]+i[15],t},Ls=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t[6]=s[6]-i[6],t[7]=s[7]-i[7],t[8]=s[8]-i[8],t[9]=s[9]-i[9],t[10]=s[10]-i[10],t[11]=s[11]-i[11],t[12]=s[12]-i[12],t[13]=s[13]-i[13],t[14]=s[14]-i[14],t[15]=s[15]-i[15],t},ks=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t[8]=s[8]*i,t[9]=s[9]*i,t[10]=s[10]*i,t[11]=s[11]*i,t[12]=s[12]*i,t[13]=s[13]*i,t[14]=s[14]*i,t[15]=s[15]*i,t},Bs=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t[6]=s[6]+i[6]*e,t[7]=s[7]+i[7]*e,t[8]=s[8]+i[8]*e,t[9]=s[9]+i[9]*e,t[10]=s[10]+i[10]*e,t[11]=s[11]+i[11]*e,t[12]=s[12]+i[12]*e,t[13]=s[13]+i[13]*e,t[14]=s[14]+i[14]*e,t[15]=s[15]+i[15]*e,t},Ns=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]&&t[8]===s[8]&&t[9]===s[9]&&t[10]===s[10]&&t[11]===s[11]&&t[12]===s[12]&&t[13]===s[13]&&t[14]===s[14]&&t[15]===s[15]},Ws=function(t,s){var i=t[0],e=t[1],n=t[2],r=t[3],h=t[4],o=t[5],a=t[6],l=t[7],u=t[8],c=t[9],f=t[10],d=t[11],p=t[12],m=t[13],g=t[14],t=t[15],y=s[0],w=s[1],S=s[2],v=s[3],b=s[4],x=s[5],M=s[6],T=s[7],_=s[8],G=s[9],I=s[10],C=s[11],P=s[12],E=s[13],A=s[14],s=s[15];return Math.abs(i-y)<=xn*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(e-w)<=xn*Math.max(1,Math.abs(e),Math.abs(w))&&Math.abs(n-S)<=xn*Math.max(1,Math.abs(n),Math.abs(S))&&Math.abs(r-v)<=xn*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(h-b)<=xn*Math.max(1,Math.abs(h),Math.abs(b))&&Math.abs(o-x)<=xn*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-M)<=xn*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(l-T)<=xn*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(u-_)<=xn*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(c-G)<=xn*Math.max(1,Math.abs(c),Math.abs(G))&&Math.abs(f-I)<=xn*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(d-C)<=xn*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(p-P)<=xn*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(m-E)<=xn*Math.max(1,Math.abs(m),Math.abs(E))&&Math.abs(g-A)<=xn*Math.max(1,Math.abs(g),Math.abs(A))&&Math.abs(t-s)<=xn*Math.max(1,Math.abs(t),Math.abs(s))},m=function(){var t=new Mn(3);return Mn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t},js=function(t){var s=new Mn(3);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s},Vs=function(t){var s=t[0];return Math.hypot(s,t[1],t[2])},g=function(t,s,i){var e=new Mn(3);return e[0]=t,e[1]=s,e[2]=i,e},Us=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t},Hs=function(t,s,i,e){return t[0]=s,t[1]=i,t[2]=e,t},zs=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t},Js=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t},qs=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t[2]=s[2]*i[2],t},$s=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t[2]=s[2]/i[2],t},Xs=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t[2]=Math.ceil(s[2]),t},Ys=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t[2]=Math.floor(s[2]),t},Zs=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t[2]=Math.min(s[2],i[2]),t},Ks=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t[2]=Math.max(s[2],i[2]),t},Qs=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t[2]=Math.round(s[2]),t},ti=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t},si=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t},ii=function(t,s){var i=s[0]-t[0];return Math.hypot(i,s[1]-t[1],s[2]-t[2])},ei=function(t,s){var i=s[0]-t[0],e=s[1]-t[1];return i*i+e*e+(s=s[2]-t[2])*s},ni=function(t){var s=t[0],i=t[1];return s*s+i*i+(t=t[2])*t},ri=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t},hi=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t[2]=1/s[2],t},y=function(t,s){var i=s[0],e=s[1],n=s[2];return 0<(i=i*i+e*e+n*n)&&(i=1/Math.sqrt(i)),t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t},w=function(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]},S=function(t,s,i){var e=s[0],n=s[1],s=s[2],r=i[0],h=i[1],i=i[2];return t[0]=n*i-s*h,t[1]=s*r-e*i,t[2]=e*h-n*r,t},oi=function(t,s,i,e){var n=s[0],r=s[1],s=s[2];return t[0]=n+e*(i[0]-n),t[1]=r+e*(i[1]-r),t[2]=s+e*(i[2]-s),t},ai=function(t,s,i,e){var n=Math.acos(Math.min(Math.max(w(s,i),-1),1)),r=Math.sin(n),h=Math.sin((1-e)*n)/r,e=Math.sin(e*n)/r;return t[0]=h*s[0]+e*i[0],t[1]=h*s[1]+e*i[1],t[2]=h*s[2]+e*i[2],t},li=function(t,s,i,e,n,r){var h=r*r,o=h*(2*r-3)+1,a=h*(r-2)+r,l=h*(r-1);return t[0]=s[0]*o+i[0]*a+e[0]*l+n[0]*(h=h*(3-2*r)),t[1]=s[1]*o+i[1]*a+e[1]*l+n[1]*h,t[2]=s[2]*o+i[2]*a+e[2]*l+n[2]*h,t},ui=function(t,s,i,e,n,r){var h=1-r,o=h*h,a=r*r,l=o*h;return t[0]=s[0]*l+i[0]*(o=3*r*o)+e[0]*(h=3*a*h)+n[0]*(a=a*r),t[1]=s[1]*l+i[1]*o+e[1]*h+n[1]*a,t[2]=s[2]*l+i[2]*o+e[2]*h+n[2]*a,t},ci=function(t,s){s=s||1;var i=2*On()*Math.PI,e=2*On()-1,n=Math.sqrt(1-e*e)*s;return t[0]=Math.cos(i)*n,t[1]=Math.sin(i)*n,t[2]=e*s,t},fi=function(t,s,i){var e=s[0],n=s[1],s=s[2],r=i[3]*e+i[7]*n+i[11]*s+i[15];return t[0]=(i[0]*e+i[4]*n+i[8]*s+i[12])/(r=r||1),t[1]=(i[1]*e+i[5]*n+i[9]*s+i[13])/r,t[2]=(i[2]*e+i[6]*n+i[10]*s+i[14])/r,t},di=function(t,s,i){var e=s[0],n=s[1],s=s[2];return t[0]=e*i[0]+n*i[3]+s*i[6],t[1]=e*i[1]+n*i[4]+s*i[7],t[2]=e*i[2]+n*i[5]+s*i[8],t},pi=function(t,s,i){var e=i[0],n=i[1],r=s[0],h=s[1],o=n*(s=s[2])-(c=i[2])*h,a=c*r-e*s,l=e*h-n*r,u=n*l-c*a,c=c*o-e*l,e=e*a-n*o;return a*=n=2*i[3],l*=n,c*=2,e*=2,t[0]=r+(o*=n)+(u*=2),t[1]=h+a+c,t[2]=s+l+e,t},mi=function(t,s,i,e){var n=[],r=[];return n[0]=s[0]-i[0],n[1]=s[1]-i[1],n[2]=s[2]-i[2],r[0]=n[0],r[1]=n[1]*Math.cos(e)-n[2]*Math.sin(e),r[2]=n[1]*Math.sin(e)+n[2]*Math.cos(e),t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},gi=function(t,s,i,e){var n=[],r=[];return n[0]=s[0]-i[0],n[1]=s[1]-i[1],n[2]=s[2]-i[2],r[0]=n[2]*Math.sin(e)+n[0]*Math.cos(e),r[1]=n[1],r[2]=n[2]*Math.cos(e)-n[0]*Math.sin(e),t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},yi=function(t,s,i,e){var n=[],r=[];return n[0]=s[0]-i[0],n[1]=s[1]-i[1],n[2]=s[2]-i[2],r[0]=n[0]*Math.cos(e)-n[1]*Math.sin(e),r[1]=n[0]*Math.sin(e)+n[1]*Math.cos(e),r[2]=n[2],t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t},wi=function(t,s){var i=t[0],e=t[1],n=t[2],r=s[0],h=s[1],o=s[2],e=(i=Math.sqrt((i*i+e*e+n*n)*(r*r+h*h+o*o)))&&w(t,s)/i;return Math.acos(Math.min(Math.max(e,-1),1))},Si=function(t){return t[0]=0,t[1]=0,t[2]=0,t},vi=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},bi=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]},xi=function(t,s){var i=t[0],e=t[1],t=t[2],n=s[0],r=s[1],s=s[2];return Math.abs(i-n)<=xn*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(e-r)<=xn*Math.max(1,Math.abs(e),Math.abs(r))&&Math.abs(t-s)<=xn*Math.max(1,Math.abs(t),Math.abs(s))},v=function(){var t=new Mn(4);return Mn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t},Mi=function(t){var s=new Mn(4);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s},Ti=function(t,s,i,e){var n=new Mn(4);return n[0]=t,n[1]=s,n[2]=i,n[3]=e,n},_i=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t},Gi=function(t,s,i,e,n){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t},Ii=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t},Ci=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t},Pi=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t[2]=s[2]*i[2],t[3]=s[3]*i[3],t},Ei=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t[2]=s[2]/i[2],t[3]=s[3]/i[3],t},Ai=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t[2]=Math.ceil(s[2]),t[3]=Math.ceil(s[3]),t},Ri=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t[2]=Math.floor(s[2]),t[3]=Math.floor(s[3]),t},Fi=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t[2]=Math.min(s[2],i[2]),t[3]=Math.min(s[3],i[3]),t},Di=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t[2]=Math.max(s[2],i[2]),t[3]=Math.max(s[3],i[3]),t},Oi=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t[2]=Math.round(s[2]),t[3]=Math.round(s[3]),t},Li=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t},ki=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t},Bi=function(t,s){var i=s[0]-t[0];return Math.hypot(i,s[1]-t[1],s[2]-t[2],s[3]-t[3])},Ni=function(t,s){var i=s[0]-t[0],e=s[1]-t[1],n=s[2]-t[2];return i*i+e*e+n*n+(s=s[3]-t[3])*s},b=function(t){var s=t[0];return Math.hypot(s,t[1],t[2],t[3])},x=function(t){var s=t[0],i=t[1],e=t[2];return s*s+i*i+e*e+(t=t[3])*t},Wi=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=-s[3],t},ji=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t[2]=1/s[2],t[3]=1/s[3],t},Vi=function(t,s){var i=s[0],e=s[1],n=s[2],r=i*i+e*e+n*n+(s=s[3])*s;return 0<r&&(r=1/Math.sqrt(r)),t[0]=i*r,t[1]=e*r,t[2]=n*r,t[3]=s*r,t},M=function(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]+t[3]*s[3]},Ui=function(t,s,i,e){var n=i[0]*e[1]-i[1]*e[0],r=i[0]*e[2]-i[2]*e[0],h=i[0]*e[3]-i[3]*e[0],o=i[1]*e[2]-i[2]*e[1],a=i[1]*e[3]-i[3]*e[1],i=i[2]*e[3]-i[3]*e[2],e=s[0],l=s[1],u=s[2],s=s[3];return t[0]=l*i-u*a+s*o,t[1]=-e*i+u*h-s*r,t[2]=e*a-l*h+s*n,t[3]=-e*o+l*r-u*n,t},Hi=function(t,s,i,e){var n=s[0],r=s[1],h=s[2],s=s[3];return t[0]=n+e*(i[0]-n),t[1]=r+e*(i[1]-r),t[2]=h+e*(i[2]-h),t[3]=s+e*(i[3]-s),t},zi=function(t,s){var i,e,n,r,h,o;for(s=s||1;1<=(h=(i=2*On()-1)*i+(e=2*On()-1)*e););for(;1<=(o=(n=2*On()-1)*n+(r=2*On()-1)*r););var a=Math.sqrt((1-h)/o);return t[0]=s*i,t[1]=s*e,t[2]=s*n*a,t[3]=s*r*a,t},Ji=function(t,s,i){var e=s[0],n=s[1],r=s[2],s=s[3];return t[0]=i[0]*e+i[4]*n+i[8]*r+i[12]*s,t[1]=i[1]*e+i[5]*n+i[9]*r+i[13]*s,t[2]=i[2]*e+i[6]*n+i[10]*r+i[14]*s,t[3]=i[3]*e+i[7]*n+i[11]*r+i[15]*s,t},qi=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=i[0],o=i[1],a=i[2],l=(i=i[3])*e+o*r-a*n,u=i*n+a*e-h*r,c=i*r+h*n-o*e;return t[0]=l*i+(e=-h*e-o*n-a*r)*-h+u*-a-c*-o,t[1]=u*i+e*-o+c*-h-l*-a,t[2]=c*i+e*-a+l*-o-u*-h,t[3]=s[3],t},$i=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},Xi=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},Yi=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]},Zi=function(t,s){var i=t[0],e=t[1],n=t[2],t=t[3],r=s[0],h=s[1],o=s[2],s=s[3];return Math.abs(i-r)<=xn*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(e-h)<=xn*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(n-o)<=xn*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(t-s)<=xn*Math.max(1,Math.abs(t),Math.abs(s))},T=function(){var t=new Mn(4);return Mn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t},Ki=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},_=function(t,s,i){i*=.5;var e=Math.sin(i);return t[0]=e*s[0],t[1]=e*s[1],t[2]=e*s[2],t[3]=Math.cos(i),t},Qi=function(t,s){var i=2*Math.acos(s[3]),e=Math.sin(i/2);return xn<e?(t[0]=s[0]/e,t[1]=s[1]/e,t[2]=s[2]/e):(t[0]=1,t[1]=0,t[2]=0),i},te=function(t,s){return t=Jn(t,s),Math.acos(2*t*t-1)},se=function(t,s,i){var e=s[0],n=s[1],r=s[2],s=s[3],h=i[0],o=i[1],a=i[2],i=i[3];return t[0]=e*i+s*h+n*a-r*o,t[1]=n*i+s*o+r*h-e*a,t[2]=r*i+s*a+e*o-n*h,t[3]=s*i-e*h-n*o-r*a,t},G=function(t,s,i){i*=.5;var e=s[0],n=s[1],r=s[2],s=s[3],h=Math.sin(i),i=Math.cos(i);return t[0]=e*i+s*h,t[1]=n*i+r*h,t[2]=r*i-n*h,t[3]=s*i-e*h,t},I=function(t,s,i){i*=.5;var e=s[0],n=s[1],r=s[2],s=s[3],h=Math.sin(i),i=Math.cos(i);return t[0]=e*i-r*h,t[1]=n*i+s*h,t[2]=r*i+e*h,t[3]=s*i-n*h,t},C=function(t,s,i){i*=.5;var e=s[0],n=s[1],r=s[2],s=s[3],h=Math.sin(i),i=Math.cos(i);return t[0]=e*i+n*h,t[1]=n*i-e*h,t[2]=r*i+s*h,t[3]=s*i-r*h,t},ie=function(t,s){var i=s[0],e=s[1],s=s[2];return t[0]=i,t[1]=e,t[2]=s,t[3]=Math.sqrt(Math.abs(1-i*i-e*e-s*s)),t},P=function(t,s){var i=s[0],e=s[1],n=s[2],s=s[3],r=Math.sqrt(i*i+e*e+n*n),s=Math.exp(s),h=0<r?s*Math.sin(r)/r:0;return t[0]=i*h,t[1]=e*h,t[2]=n*h,t[3]=s*Math.cos(r),t},E=function(t,s){var i=s[0],e=s[1],n=s[2],s=s[3],r=0<(r=Math.sqrt(i*i+e*e+n*n))?Math.atan2(r,s)/r:0;return t[0]=i*r,t[1]=e*r,t[2]=n*r,t[3]=.5*Math.log(i*i+e*e+n*n+s*s),t},ee=function(t,s,i){return E(t,s),zn(t,t,i),P(t,t),t},A=function(t,s,i,e){var n,r,h=s[0],o=s[1],a=s[2],s=s[3],l=i[0],u=i[1],c=i[2],f=h*l+o*u+a*c+s*(i=i[3]);return f<0&&(f=-f,l=-l,u=-u,c=-c,i=-i),f=xn<1-f?(f=Math.acos(f),n=Math.sin(f),r=Math.sin((1-e)*f)/n,Math.sin(e*f)/n):(r=1-e,e),t[0]=r*h+f*l,t[1]=r*o+f*u,t[2]=r*a+f*c,t[3]=r*s+f*i,t},ne=function(t){var s=On(),i=On(),e=On(),n=Math.sqrt(1-s),s=Math.sqrt(s);return t[0]=n*Math.sin(2*Math.PI*i),t[1]=n*Math.cos(2*Math.PI*i),t[2]=s*Math.sin(2*Math.PI*e),t[3]=s*Math.cos(2*Math.PI*e),t},re=function(t,s){var i=s[0],e=s[1],n=s[2],r=i*i+e*e+n*n+(s=s[3])*s;return t[0]=-i*(r=r?1/r:0),t[1]=-e*r,t[2]=-n*r,t[3]=s*r,t},he=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t},R=function(t,s){var i,e,n,r=s[0]+s[4]+s[8];return 0<r?(n=Math.sqrt(r+1),t[3]=.5*n,t[0]=(s[5]-s[7])*(n=.5/n),t[1]=(s[6]-s[2])*n,t[2]=(s[1]-s[3])*n):(i=(1+(r=s[3*(r=s[4]>s[0]?1:0)+r]<s[8]?2:r))%3,e=(2+r)%3,n=Math.sqrt(s[3*r+r]-s[3*i+i]-s[3*e+e]+1),t[r]=.5*n,t[3]=(s[3*i+e]-s[3*e+i])*(n=.5/n),t[i]=(s[3*i+r]+s[3*r+i])*n,t[e]=(s[3*e+r]+s[3*r+e])*n),t},oe=function(t,s,i,e){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:Ln,r=Math.PI/360,h=(e*=r,i*=r,Math.sin(s*=r)),o=Math.cos(s),a=Math.sin(i),l=Math.cos(i),u=Math.sin(e),c=Math.cos(e);switch(n){case"xyz":t[0]=h*l*c+o*a*u,t[1]=o*a*c-h*l*u,t[2]=o*l*u+h*a*c,t[3]=o*l*c-h*a*u;break;case"xzy":t[0]=h*l*c-o*a*u,t[1]=o*a*c-h*l*u,t[2]=o*l*u+h*a*c,t[3]=o*l*c+h*a*u;break;case"yxz":t[0]=h*l*c+o*a*u,t[1]=o*a*c-h*l*u,t[2]=o*l*u-h*a*c,t[3]=o*l*c+h*a*u;break;case"yzx":t[0]=h*l*c+o*a*u,t[1]=o*a*c+h*l*u,t[2]=o*l*u-h*a*c,t[3]=o*l*c-h*a*u;break;case"zxy":t[0]=h*l*c-o*a*u,t[1]=o*a*c+h*l*u,t[2]=o*l*u+h*a*c,t[3]=o*l*c-h*a*u;break;case"zyx":t[0]=h*l*c-o*a*u,t[1]=o*a*c+h*l*u,t[2]=o*l*u-h*a*c,t[3]=o*l*c+h*a*u;break;default:throw new Error("Unknown angle order "+n)}return t},ae=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},le=function(t,s){return Math.abs(M(t,s))>=1-xn},ue=function(){var t=new Mn(8);return Mn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t},ce=function(t){var s=new Mn(8);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s},fe=function(t,s,i,e,n,r,h,o){var a=new Mn(8);return a[0]=t,a[1]=s,a[2]=i,a[3]=e,a[4]=n,a[5]=r,a[6]=h,a[7]=o,a},de=function(t,s,i,e,n,r,h){var o=new Mn(8),n=(o[0]=t,o[1]=s,o[2]=i,o[3]=e,.5*n),r=.5*r,h=.5*h;return o[4]=n*e+r*i-h*s,o[5]=r*e+h*t-n*i,o[6]=h*e+n*s-r*t,o[7]=-n*t-r*s-h*i,o},F=function(t,s,i){var e=.5*i[0],n=.5*i[1],i=.5*i[2],r=s[0],h=s[1],o=s[2],s=s[3];return t[0]=r,t[1]=h,t[2]=o,t[3]=s,t[4]=e*s+n*o-i*h,t[5]=n*s+i*r-e*o,t[6]=i*s+e*h-n*r,t[7]=-e*r-n*h-i*o,t},pe=function(t,s){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*s[0],t[5]=.5*s[1],t[6]=.5*s[2],t[7]=0,t},me=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},ge=function(t,s){var i=T(),e=(l(i,s),new Mn(3));return a(e,s),F(t,i,e),t},D=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t},ye=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},we=function(t,s,i,e,n,r,h,o,a){return t[0]=s,t[1]=i,t[2]=e,t[3]=n,t[4]=r,t[5]=h,t[6]=o,t[7]=a,t},Se=function(t,s){return t[0]=s[4],t[1]=s[5],t[2]=s[6],t[3]=s[7],t},ve=function(t,s){return t[4]=s[0],t[5]=s[1],t[6]=s[2],t[7]=s[3],t},be=function(t,s){var i=s[4],e=s[5],n=s[6],r=s[7],h=-s[0],o=-s[1],a=-s[2],s=s[3];return t[0]=2*(i*s+r*h+e*a-n*o),t[1]=2*(e*s+r*o+n*h-i*a),t[2]=2*(n*s+r*a+i*o-e*h),t},xe=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=.5*i[0],a=.5*i[1],i=.5*i[2],l=s[4],u=s[5],c=s[6],s=s[7];return t[0]=e,t[1]=n,t[2]=r,t[3]=h,t[4]=h*o+n*i-r*a+l,t[5]=h*a+r*o-e*i+u,t[6]=h*i+e*a-n*o+c,t[7]=-e*o-n*a-r*i+s,t},Me=function(t,s,i){var e=-s[0],n=-s[1],r=-s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=o*h+(d=s[7])*e+a*r-l*n,c=a*h+d*n+l*e-o*r,f=l*h+d*r+o*n-a*e,d=d*h-o*e-a*n-l*r;return G(t,s,i),e=t[0],t[4]=u*(h=t[3])+d*e+c*(r=t[2])-f*(n=t[1]),t[5]=c*h+d*n+f*e-u*r,t[6]=f*h+d*r+u*n-c*e,t[7]=d*h-u*e-c*n-f*r,t},Te=function(t,s,i){var e=-s[0],n=-s[1],r=-s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=o*h+(d=s[7])*e+a*r-l*n,c=a*h+d*n+l*e-o*r,f=l*h+d*r+o*n-a*e,d=d*h-o*e-a*n-l*r;return I(t,s,i),e=t[0],t[4]=u*(h=t[3])+d*e+c*(r=t[2])-f*(n=t[1]),t[5]=c*h+d*n+f*e-u*r,t[6]=f*h+d*r+u*n-c*e,t[7]=d*h-u*e-c*n-f*r,t},_e=function(t,s,i){var e=-s[0],n=-s[1],r=-s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=o*h+(d=s[7])*e+a*r-l*n,c=a*h+d*n+l*e-o*r,f=l*h+d*r+o*n-a*e,d=d*h-o*e-a*n-l*r;return C(t,s,i),e=t[0],t[4]=u*(h=t[3])+d*e+c*(r=t[2])-f*(n=t[1]),t[5]=c*h+d*n+f*e-u*r,t[6]=f*h+d*r+u*n-c*e,t[7]=d*h-u*e-c*n-f*r,t},Ge=function(t,s,i){var e=i[0],n=i[1],r=i[2],i=i[3],h=s[0],o=s[1],a=s[2],l=s[3];return t[0]=h*i+l*e+o*r-a*n,t[1]=o*i+l*n+a*e-h*r,t[2]=a*i+l*r+h*n-o*e,t[3]=l*i-h*e-o*n-a*r,t[4]=(h=s[4])*i+(l=s[7])*e+(o=s[5])*r-(a=s[6])*n,t[5]=o*i+l*n+a*e-h*r,t[6]=a*i+l*r+h*n-o*e,t[7]=l*i-h*e-o*n-a*r,t},Ie=function(t,s,i){var e=s[0],n=s[1],r=s[2],s=s[3],h=i[0],o=i[1],a=i[2],l=i[3];return t[0]=e*l+s*h+n*a-r*o,t[1]=n*l+s*o+r*h-e*a,t[2]=r*l+s*a+e*o-n*h,t[3]=s*l-e*h-n*o-r*a,t[4]=e*(l=i[7])+s*(h=i[4])+n*(a=i[6])-r*(o=i[5]),t[5]=n*l+s*o+r*h-e*a,t[6]=r*l+s*a+e*o-n*h,t[7]=s*l-e*h-n*o-r*a,t},Ce=function(t,s,i,e){var n,r,h,o,a,l;return Math.abs(e)<xn?D(t,s):(l=Math.hypot(i[0],i[1],i[2]),e*=.5,n=(h=Math.sin(e))*i[0]/l,r=h*i[1]/l,h=h*i[2]/l,i=Math.cos(e),l=s[0],t[0]=l*i+(e=s[3])*n+(o=s[1])*h-(a=s[2])*r,t[1]=o*i+e*r+a*n-l*h,t[2]=a*i+e*h+l*r-o*n,t[3]=e*i-l*n-o*r-a*h,t[4]=(e=s[4])*i+(l=s[7])*n+(o=s[5])*h-(a=s[6])*r,t[5]=o*i+l*r+a*n-e*h,t[6]=a*i+l*h+e*r-o*n,t[7]=l*i-e*n-o*r-a*h,t)},Pe=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t},Ee=function(t,s,i){var e=s[0],n=s[1],r=s[2],h=s[3],o=i[4],a=i[5],l=i[6],u=i[7],c=s[4],f=s[5],d=s[6],s=s[7],p=i[0],m=i[1],g=i[2],i=i[3];return t[0]=e*i+h*p+n*g-r*m,t[1]=n*i+h*m+r*p-e*g,t[2]=r*i+h*g+e*m-n*p,t[3]=h*i-e*p-n*m-r*g,t[4]=e*u+h*o+n*l-r*a+c*i+s*p+f*g-d*m,t[5]=n*u+h*a+r*o-e*l+f*i+s*m+d*p-c*g,t[6]=r*u+h*l+e*a-n*o+d*i+s*g+c*m-f*p,t[7]=h*u-e*o-n*a-r*l+s*i-c*p-f*m-d*g,t},Ae=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t},Re=function(t,s,i,e){var n=1-e;return Zn(s,i)<0&&(e=-e),t[0]=s[0]*n+i[0]*e,t[1]=s[1]*n+i[1]*e,t[2]=s[2]*n+i[2]*e,t[3]=s[3]*n+i[3]*e,t[4]=s[4]*n+i[4]*e,t[5]=s[5]*n+i[5]*e,t[6]=s[6]*n+i[6]*e,t[7]=s[7]*n+i[7]*e,t},Fe=function(t,s){var i=Kn(s);return t[0]=-s[0]/i,t[1]=-s[1]/i,t[2]=-s[2]/i,t[3]=s[3]/i,t[4]=-s[4]/i,t[5]=-s[5]/i,t[6]=-s[6]/i,t[7]=s[7]/i,t},De=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t[4]=-s[4],t[5]=-s[5],t[6]=-s[6],t[7]=s[7],t},Oe=function(t,s){var i,e,n,r,h,o,a,l,u=Kn(s);return 0<u&&(u=Math.sqrt(u),l=(i=s[0]/u)*(h=s[4])+(e=s[1]/u)*(o=s[5])+(n=s[2]/u)*(a=s[6])+(r=s[3]/u)*(s=s[7]),t[0]=i,t[1]=e,t[2]=n,t[3]=r,t[4]=(h-i*l)/u,t[5]=(o-e*l)/u,t[6]=(a-n*l)/u,t[7]=(s-r*l)/u),t},Le=function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},ke=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]},Be=function(t,s){var i=t[0],e=t[1],n=t[2],r=t[3],h=t[4],o=t[5],a=t[6],t=t[7],l=s[0],u=s[1],c=s[2],f=s[3],d=s[4],p=s[5],m=s[6],s=s[7];return Math.abs(i-l)<=xn*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(e-u)<=xn*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(n-c)<=xn*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-f)<=xn*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(h-d)<=xn*Math.max(1,Math.abs(h),Math.abs(d))&&Math.abs(o-p)<=xn*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-m)<=xn*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(t-s)<=xn*Math.max(1,Math.abs(t),Math.abs(s))},O=function(){var t=new Mn(2);return Mn!=Float32Array&&(t[0]=0,t[1]=0),t},Ne=function(t){var s=new Mn(2);return s[0]=t[0],s[1]=t[1],s},We=function(t,s){var i=new Mn(2);return i[0]=t,i[1]=s,i},je=function(t,s){return t[0]=s[0],t[1]=s[1],t},Ve=function(t,s,i){return t[0]=s,t[1]=i,t},Ue=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t},He=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t},ze=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t},Je=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t},qe=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t},$e=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t},Xe=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t},Ye=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t},Ze=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t},Ke=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t},Qe=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t},tn=function(t,s){var i=s[0]-t[0];return Math.hypot(i,s[1]-t[1])},sn=function(t,s){var i=s[0]-t[0];return i*i+(s=s[1]-t[1])*s},en=function(t){var s=t[0];return Math.hypot(s,t[1])},nn=function(t){var s=t[0];return s*s+(t=t[1])*t},rn=function(t,s){return t[0]=-s[0],t[1]=-s[1],t},hn=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t},on=function(t,s){var i=s[0],e=s[1];return 0<(i=i*i+e*e)&&(i=1/Math.sqrt(i)),t[0]=s[0]*i,t[1]=s[1]*i,t},an=function(t,s){return t[0]*s[0]+t[1]*s[1]},ln=function(t,s,i){return s=s[0]*i[1]-s[1]*i[0],t[0]=t[1]=0,t[2]=s,t},un=function(t,s,i,e){var n=s[0],s=s[1];return t[0]=n+e*(i[0]-n),t[1]=s+e*(i[1]-s),t},cn=function(t,s){s=s||1;var i=2*On()*Math.PI;return t[0]=Math.cos(i)*s,t[1]=Math.sin(i)*s,t},fn=function(t,s,i){var e=s[0],s=s[1];return t[0]=i[0]*e+i[2]*s,t[1]=i[1]*e+i[3]*s,t},dn=function(t,s,i){var e=s[0],s=s[1];return t[0]=i[0]*e+i[2]*s+i[4],t[1]=i[1]*e+i[3]*s+i[5],t},pn=function(t,s,i){var e=s[0],s=s[1];return t[0]=i[0]*e+i[3]*s+i[6],t[1]=i[1]*e+i[4]*s+i[7],t},mn=function(t,s,i){var e=s[0],s=s[1];return t[0]=i[0]*e+i[4]*s+i[12],t[1]=i[1]*e+i[5]*s+i[13],t},gn=function(t,s,i,e){var n=s[0]-i[0],s=s[1]-i[1],r=Math.sin(e),e=Math.cos(e);return t[0]=n*e-s*r+i[0],t[1]=n*r+s*e+i[1],t},yn=function(t,s){var i=t[0],t=t[1],e=s[0],s=s[1],n=Math.sqrt((i*i+t*t)*(e*e+s*s));return Math.acos(Math.min(Math.max(n&&(i*e+t*s)/n,-1),1))},wn=function(t){return t[0]=0,t[1]=0,t},Sn=function(t){return"vec2("+t[0]+", "+t[1]+")"},vn=function(t,s){return t[0]===s[0]&&t[1]===s[1]},bn=function(t,s){var i=t[0],t=t[1],e=s[0],s=s[1];return Math.abs(i-e)<=xn*Math.max(1,Math.abs(i),Math.abs(e))&&Math.abs(t-s)<=xn*Math.max(1,Math.abs(t),Math.abs(s))};n,p,f,a,d,l,m,g,y,w,S,v,M,T,_,G,I,C,P,E,A,R,F,D,O,xn=1e-6,Mn="undefined"!=typeof Float32Array?Float32Array:Array,On=Math.random,Ln="zyx",kn=Math.PI/180,Math.hypot||(Math.hypot=function(){for(var t=0,s=arguments.length;s--;)t+=arguments[s]*arguments[s];return Math.sqrt(t)}),Bn={__proto__:null,EPSILON:xn,get g(){return Mn},S:On,M:Ln,T:L,_:k,equals:B},Nn=Object.freeze({__proto__:null,create:N,clone:W,G:j,identity:V,I:U,set:H,C:z,P:J,A:q,R:$,multiply:t,rotate:X,scale:Y,F:Z,D:K,O:Q,L:tt,B:st,add:it,N:s,W:et,equals:nt,j:rt,V:ht,mul:t,sub:s}),Wn=Object.freeze({__proto__:null,create:ot,clone:at,G:lt,identity:ut,I:ct,set:ft,P:dt,R:pt,multiply:i,rotate:mt,scale:gt,translate:yt,F:wt,D:St,U:vt,O:bt,L:xt,add:Mt,N:e,j:Tt,V:_t,W:Gt,equals:It,mul:i,sub:e}),jn=Object.freeze({__proto__:null,create:n,H:Ct,clone:Pt,G:Et,I:At,set:Rt,identity:Ft,C:Dt,P:Ot,A:Lt,R:kt,multiply:r,translate:Bt,rotate:Nt,scale:Wt,U:jt,F:Vt,D:Ut,J:Ht,$:zt,X:Jt,Y:qt,O:$t,L:Xt,add:Yt,N:h,j:Zt,V:Kt,W:Qt,equals:ts,mul:r,sub:h}),Tn=Object.freeze({__proto__:null,create:ss,clone:is,G:es,I:ns,set:rs,identity:p,C:hs,P:os,A:as,R:ls,multiply:o,translate:us,scale:cs,rotate:fs,Z:ds,K:ps,tt:ms,U:gs,D:ys,F:ws,it:Ss,et:vs,nt:bs,ht:f,ot:xs,lt:a,ut:d,ct:l,gt:Ms,yt:Ts,St:_s,$:Gs,vt:Is,bt:u,perspective:u,xt:Cs,Mt:Ps,Tt:c,ortho:c,_t:Es,Gt:As,It:Rs,O:Fs,L:Ds,add:Os,N:Ls,j:ks,V:Bs,W:Ns,equals:Ws,mul:o,sub:Ls}),Yn=Js,Qn=qs,Hn=$s,tr=ii,sr=ei,Vn=Vs,ir=ni,Dn=m(),_n=Object.freeze({__proto__:null,create:m,clone:js,length:Vs,I:g,G:Us,set:Hs,add:zs,N:Js,multiply:qs,Ct:$s,ceil:Xs,floor:Ys,min:Zs,max:Ks,round:Qs,scale:ti,Pt:si,Et:ii,At:ei,Rt:ni,Ft:ri,inverse:hi,normalize:y,Dt:w,Ot:S,Lt:oi,kt:ai,Bt:li,Nt:ui,random:ci,Wt:fi,jt:di,Vt:pi,Z:mi,K:gi,tt:yi,angle:wi,Ut:Si,O:vi,W:bi,equals:xi,sub:Yn,mul:Qn,div:Hn,Ht:tr,zt:sr,Jt:Vn,qt:ir,forEach:function(t,s,i,e,n,r){var h,o;for(s=s||3,i=i||0,o=e?Math.min(e*s+i,t.length):t.length,h=i;h<o;h+=s)Dn[0]=t[h],Dn[1]=t[h+1],Dn[2]=t[h+2],n(Dn,Dn,r),t[h]=Dn[0],t[h+1]=Dn[1],t[h+2]=Dn[2];return t}}),Yn=Ci,Qn=Pi,Hn=Ei,tr=Bi,sr=Ni,ir=b,er=x,Fn=v(),Un=Object.freeze({__proto__:null,create:v,clone:Mi,I:Ti,G:_i,set:Gi,add:Ii,N:Ci,multiply:Pi,Ct:Ei,ceil:Ai,floor:Ri,min:Fi,max:Di,round:Oi,scale:Li,Pt:ki,Et:Bi,At:Ni,length:b,Rt:x,Ft:Wi,inverse:ji,normalize:Vi,Dt:M,Ot:Ui,Lt:Hi,random:zi,Wt:Ji,Vt:qi,Ut:$i,O:Xi,W:Yi,equals:Zi,sub:Yn,mul:Qn,div:Hn,Ht:tr,zt:sr,Jt:ir,qt:er,forEach:function(t,s,i,e,n,r){var h,o;for(s=s||4,i=i||0,o=e?Math.min(e*s+i,t.length):t.length,h=i;h<o;h+=s)Fn[0]=t[h],Fn[1]=t[h+1],Fn[2]=t[h+2],Fn[3]=t[h+3],n(Fn,Fn,r),t[h]=Fn[0],t[h+1]=Fn[1],t[h+2]=Fn[2],t[h+3]=Fn[3];return t}}),Yn=Mi,Qn=Ti,Hn=_i,tr=Gi,sr=Ii,ir=se,zn=Li,Jn=M,er=Hi,nr=qn=b,rr=$n=x,Xn=Vi,hr=Yi,En=m(),An=g(1,0,0),Rn=g(0,1,0),or=function(t,s,i){var e=w(s,i);return e<-.999999?(S(En,An,s),Vn(En)<1e-6&&S(En,Rn,s),y(En,En),_(t,En,Math.PI),t):.999999<e?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(S(En,s,i),t[0]=En[0],t[1]=En[1],t[2]=En[2],t[3]=1+e,Xn(t,t))},Cn=T(),Pn=T(),ar=function(t,s,i,e,n,r){return A(Cn,s,n,r),A(Pn,i,e,r),A(t,Cn,Pn,2*r*(1-r)),t},In=n(),Yn=Object.freeze({__proto__:null,create:T,identity:Ki,$t:_,Xt:Qi,Yt:te,multiply:se,Z:G,K:I,tt:C,Zt:ie,exp:P,Kt:E,pow:ee,kt:A,random:ne,P:re,Qt:he,ts:R,es:oe,O:ae,clone:Yn,I:Qn,G:Hn,set:tr,add:sr,mul:ir,scale:zn,Dt:Jn,Lt:er,length:qn,Jt:nr,Rt:$n,qt:rr,normalize:Xn,W:hr,equals:le,ns:or,rs:ar,hs:function(t,s,i,e){return In[0]=i[0],In[3]=i[1],In[6]=i[2],In[1]=e[0],In[4]=e[1],In[7]=e[2],In[2]=-s[0],In[5]=-s[1],In[8]=-s[2],Xn(t,R(t,In))}}),Zn=Jn,Qn=Kn=$n,tr=Object.freeze({__proto__:null,create:ue,clone:ce,I:fe,os:de,ht:F,U:pe,F:me,H:ge,G:D,identity:ye,set:we,ls:Hn,us:Se,cs:Hn,ds:ve,lt:be,translate:xe,Z:Me,K:Te,tt:_e,gs:Ge,ys:Ie,ws:Ce,add:Pe,multiply:Ee,mul:Ee,scale:Ae,Dt:Zn,Lt:Re,P:Fe,Qt:De,length:qn,Jt:qn,Rt:Kn,qt:Qn,normalize:Oe,O:Le,W:ke,equals:Be}),sr=en,ir=He,er=ze,nr=Je,rr=tn,hr=sn,or=nn,Gn=O(),ar=Object.freeze({__proto__:null,create:O,clone:Ne,I:We,G:je,set:Ve,add:Ue,N:He,multiply:ze,Ct:Je,ceil:qe,floor:$e,min:Xe,max:Ye,round:Ze,scale:Ke,Pt:Qe,Et:tn,At:sn,length:en,Rt:nn,Ft:rn,inverse:hn,normalize:on,Dt:an,Ot:ln,Lt:un,random:cn,Ss:fn,vs:dn,jt:pn,Wt:mn,rotate:gn,angle:yn,Ut:wn,O:Sn,W:vn,equals:bn,Jt:sr,sub:ir,mul:er,div:nr,Ht:rr,zt:hr,qt:or,forEach:function(t,s,i,e,n,r){var h,o;for(s=s||2,i=i||0,o=e?Math.min(e*s+i,t.length):t.length,h=i;h<o;h+=s)Gn[0]=t[h],Gn[1]=t[h+1],n(Gn,Gn,r),t[h]=Gn[0],t[h+1]=Gn[1];return t}}),globalThis.bs=Bn,globalThis.bs.xs=Nn,globalThis.bs.Ms=Wn,globalThis.bs.Ts=jn,globalThis.bs._s=Tn,globalThis.bs.Gs=Yn,globalThis.bs.Is=tr,globalThis.bs.Cs=ar,globalThis.bs.Ps=_n,globalThis.bs.Es=Un}var Gn,In,Cn,Pn,En,An,Rn,Fn,Dn,xn,Mn,On,Ln,kn,Bn,Nn,Wn,jn,Tn,Vn,_n,Un,Hn,zn,Jn,qn,$n,Xn,Yn,Zn,Kn,Qn,tr,sr,ir,er,nr,rr,hr,or,ar,D,O,L,k;{let a=function(t,s,i){var e=[0,0],n=t[1][1]-t[0][1],r=t[0][0]-t[1][0],t=n*t[0][0]+r*t[0][1],h=s[1][1]-s[0][1],o=s[0][0]-s[1][0],s=h*s[0][0]+o*s[0][1],a=n*o-h*r;return m(a,0,i=i||0)||(e[0]=(o*t-r*s)/a,e[1]=(n*s-h*t)/a),e},n=function(t,s,i,e){var n,r=s[0]-t[0],s=s[1]-t[1],h=e[0]-i[0];return h*s-(e=e[1]-i[1])*r!=0&&(n=(h*(t[1]-i[1])+e*(i[0]-t[0]))/(e*r-h*s),0<=(t=(r*(i[1]-t[1])+s*(t[0]-i[0]))/(h*s-e*r)))&&t<=1&&0<=n&&n<=1},o=function(t,s,i){return(s[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(s[1]-t[1])},M=function(t,s,i){return 0<o(t,s,i)},T=function(t,s,i){return 0<=o(t,s,i)},_=function(t,s,i){return o(t,s,i)<0},G=function(t,s,i){return o(t,s,i)<=0},r=function(t,s,i,e){var n,r,h;return e?(h=O,(r=D)[0]=s[0]-t[0],r[1]=s[1]-t[1],h[0]=i[0]-s[0],h[1]=i[1]-s[1],n=r[0]*h[0]+r[1]*h[1],r=Math.sqrt(r[0]*r[0]+r[1]*r[1]),h=Math.sqrt(h[0]*h[0]+h[1]*h[1]),Math.acos(n/(r*h))<e):0===o(t,s,i)},I=function(t,s){var i=s[0]-t[0];return i*i+(s=s[1]-t[1])*s},C=function(t,s){var i=t.length;return t[s<0?s%i+i:s%i]},h=function(t){t.length=0},P=function(t,s,i,e){for(var n=i;n<e;n++)t.push(s[n])},t=function(t){for(var s=0,i=t,e=1;e<t.length;++e)(i[e][1]<i[s][1]||i[e][1]===i[s][1]&&i[e][0]>i[s][0])&&(s=e);return!M(C(t,s-1),C(t,s),C(t,s+1))&&(l(t),!0)},l=function(t){for(var s=[],i=t.length,e=0;e!==i;e++)s.push(t.pop());for(e=0;e!==i;e++)t[e]=s[e]},E=function(t,s){return _(C(t,s-1),C(t,s),C(t,s+1))},u=function(t,s,i){var e,n=L,r=k;if(T(C(t,s+1),C(t,s),C(t,i))&&G(C(t,s-1),C(t,s),C(t,i)))return!1;for(var h=I(C(t,s),C(t,i)),o=0;o!==t.length;++o)if((o+1)%t.length!==s&&o!==s&&T(C(t,s),C(t,i),C(t,o+1))&&G(C(t,s),C(t,i),C(t,o))&&(n[0]=C(t,s),n[1]=C(t,i),r[0]=C(t,o),r[1]=C(t,o+1),e=a(n,r),I(C(t,s),e)<h))return!1;return!0},A=function(t,s,i){for(var e=0;e!==t.length;++e)if(e!==s&&e!==i&&(e+1)%t.length!==s&&(e+1)%t.length!==i&&n(C(t,s),C(t,i),C(t,e),C(t,e+1)))return!1;return!0},c=function(t,s,i,e){var n=e||[];if(h(n),s<i)for(var r=s;r<=i;r++)n.push(t[r]);else{for(r=0;r<=i;r++)n.push(t[r]);for(r=s;r<t.length;r++)n.push(t[r])}return n},f=function(t){for(var s=[],i=[],e=[],n=Number.MAX_VALUE,r=0;r<t.length;++r)if(E(t,r))for(var h=0;h<t.length;++h)if(u(t,r,h)){for(var i=f(c(t,r,h,e)),o=f(c(t,h,r,e)),a=0;a<o.length;a++)i.push(o[a]);i.length<n&&(n=(s=i).length,s.push([C(t,r),C(t,h)]))}return s},s=function(t){var s=f(t);return 0<s.length?d(t,s):[t]},d=function(t,s){if(0===s.length)return[t];if(s instanceof Array&&s.length&&s[0]instanceof Array&&2===s[0].length&&s[0][0]instanceof Array){for(var i=[t],e=0;e<s.length;e++)for(var n=s[e],r=0;r<i.length;r++){var h=d(i[r],n);if(h){i.splice(r,1),i.push(h[0],h[1]);break}}return i}return e=t.indexOf((n=s)[0]),r=t.indexOf(n[1]),-1!==e&&-1!==r&&[c(t,e,r),c(t,r,e)]},i=function(t){for(var s=t,i=0;i<s.length-1;i++)for(var e=0;e<i-1;e++)if(n(s[i],s[i+1],s[e],s[e+1]))return!1;for(i=1;i<s.length-2;i++)if(n(s[0],s[s.length-1],s[i],s[i+1]))return!1;return!0},R=function(t,s,i,e,n){var r=s[1]-t[1],s=t[0]-s[0],t=r*t[0]+s*t[1],h=e[1]-i[1],e=i[0]-e[0],i=h*i[0]+e*i[1],o=r*e-h*s;return m(o,0,n=n||0)?[0,0]:[(e*t-s*i)/o,(r*i-h*t)/o]},F=function(t,s,i,e,n,r,h){r=r||100,h=h||0,n=n||25,s=void 0!==s?s:[],i=i||[],e=e||[];var o=[0,0],a=[0,0],l=[0,0],u=0,c=0,f=0,d=0,p=0,m=0,g=0,y=[],w=[],S=t,v=t;if(!(v.length<3))if(r<++h)console.warn("quickDecomp: max level ("+r+") reached.");else{for(var b=0;b<t.length;++b)if(E(S,b)){i.push(S[b]);for(var u=c=Number.MAX_VALUE,x=0;x<t.length;++x)M(C(S,b-1),C(S,b),C(S,x))&&G(C(S,b-1),C(S,b),C(S,x-1))&&(l=R(C(S,b-1),C(S,b),C(S,x),C(S,x-1)),_(C(S,b+1),C(S,b),l))&&(f=I(S[b],l))<c&&(c=f,a=l,m=x),M(C(S,b+1),C(S,b),C(S,x+1))&&G(C(S,b+1),C(S,b),C(S,x))&&(l=R(C(S,b+1),C(S,b),C(S,x),C(S,x+1)),M(C(S,b-1),C(S,b),l))&&(f=I(S[b],l))<u&&(u=f,o=l,p=x);if(m===(p+1)%t.length)l[0]=(a[0]+o[0])/2,l[1]=(a[1]+o[1])/2,e.push(l),b<p?(P(y,S,b,p+1),y.push(l),w.push(l),0!==m&&P(w,S,m,S.length),P(w,S,0,b+1)):(0!==b&&P(y,S,b,S.length),P(y,S,0,p+1),y.push(l),w.push(l),P(w,S,m,b+1));else{if(p<m&&(p+=t.length),d=Number.MAX_VALUE,p<m)return s;for(x=m;x<=p;++x)T(C(S,b-1),C(S,b),C(S,x))&&G(C(S,b+1),C(S,b),C(S,x))&&(f=I(C(S,b),C(S,x)))<d&&A(S,b,x)&&(d=f,g=x%t.length);b<g?(P(y,S,b,g+1),0!==g&&P(w,S,g,v.length),P(w,S,0,b+1)):(0!==b&&P(y,S,b,v.length),P(y,S,0,g+1),P(w,S,g,b+1))}return y.length<w.length?(F(y,s,i,e,n,r,h),F(w,s,i,e,n,r,h)):(F(w,s,i,e,n,r,h),F(y,s,i,e,n,r,h)),s}s.push(t)}return s},e=function(t,s){for(var i=0,e=t.length-1;3<t.length&&0<=e;--e)r(C(t,e-1),C(t,e),C(t,e+1),s)&&(t.splice(e%t.length,1),i++);return i},p=function(t,s){for(var i=t.length-1;1<=i;--i)for(var e=t[i],n=i-1;0<=n;--n)g(e,t[n],s)&&t.splice(i,1)},m=function(t,s,i){return i=i||0,Math.abs(t-s)<=i},g=function(t,s,i){return m(t[0],s[0],i)&&m(t[1],s[1],i)};a,n,o,M,T,_,G,r,I,C,h,P,l,E,u,A,c,f,d,R,F,m,g,D=[],O=[],L=[],k=[],self.As={Rs:s,Fs:F,Ds:i,Os:e,Ls:p,ks:t}}{let t=!1,s=!1,i="dev",e=Symbol("Construct internal API token"),n=14,r=self.Bs=class{constructor(){throw TypeError("static class can't be instantiated")}static Ns(){if(n<=0)throw new Error("cannot obtain internal API token");return--n,e}static Ws(){t=!0}static js(){return t}static Vs(){s=!0}static Us(){return s}static Hs(t){i=t}static zs(){return i}static Js(){return"final"===i}};r.isDebug=!1,r.qs=!1,r.hardwareConcurrency=navigator.hardwareConcurrency||2,self.$s={}}{const s=self.Bs;s.Xs=class{constructor(t){this.Ys=t,this.Zs=new Map,this.Ks()}Ks(){let t=this.Ys,s=(t=t.startsWith("?")||t.startsWith("#")?t.substr(1):t).split("&");for(const i of s)this.Qs(i)}Qs(t){if(t)if(t.includes("=")){const s=t.indexOf("="),i=decodeURIComponent(t.substring(0,s)),e=decodeURIComponent(t.substring(s+1));this.Zs.set(i,e)}else this.Zs.set(t,null)}ti(){for(const t of this.Zs)console.log("[QueryParser] Parameter '"+t[0]+"' = "+(null===t[1]?"null":"'"+t[1]+"'"))}si(t){return this.Zs.has(t)}ei(t){const s=this.Zs.get(t);return void 0===s?null:s}ni(){history.replaceState("",document.title,location.pathname+location.search)}ri(t){this.Ys=t,this.Zs.clear(),this.Ks()}},s.hi=new s.Xs(location.search),s.oi=new s.Xs(location.hash),s.hi.si("perf")&&(s.ai=!0),"dev"!==s.hi.ei("mode")&&s.Hs("final")}{let e=function(t){const s=parseFloat(t),i=j.get(s);return i||(13<=s?"11":"NT "+t)};e;const a=self.Bs,W="(unknown)",j=(a.li={ci:W,fi:W,di:W,mi:W,gi:NaN,yi:W,wi:"browser",Si:!0,vi:!1,bi:!1,xi:!1,Mi:async()=>{}},new Map([[5,"2000"],[5.1,"XP"],[5.2,"XP"],[6,"Vista"],[6.1,"7"],[6.2,"8"],[6.3,"8.1"],[10,"10"]])),V=navigator.userAgent,U=navigator.userAgentData;if(U&&0<U.brands.length){let s=function(t){let s="",i="",e="",n="";for(const r of t){const h=H.get(r.brand),o=(!s&&h&&(s=h,i=r.version),z.get(r.brand));!e&&o&&(e=o,n=r.version)}s||"Chromium"!==e||(a.li.di="Chromium",a.li.mi=n),a.li.di=s||W,a.li.mi=i||W,a.li.yi=e||W};s,a.li.ci=U.platform,a.li.vi=U.mobile,a.li.Si=!a.li.vi;const H=new Map([["Google Chrome","Chrome"],["Microsoft Edge","Edge"],["Opera","Opera"],["Opera GX","Opera GX"],["Mozilla Firefox","Firefox"],["Apple Safari","Safari"],["NW.js","NW.js"]]),z=new Map([["Chromium","Chromium"],["Gecko","Gecko"],["WebKit","WebKit"]]);s(U.brands);let i=!1;a.li.Mi=async()=>{if(!i)try{const t=await navigator.userAgentData.getHighEntropyValues(["platformVersion","fullVersionList"]);s(t.fullVersionList),"Windows"===a.li.ci?a.li.fi=e(t.platformVersion):a.li.fi=t.platformVersion,i=!0}catch(t){console.warn("Failed to get detailed user agent information: ",t)}}}else{let t=function(t,s){const i=Array.isArray(t)?t:[t];for(const e of i){const n=e.exec(V);if(n){s(n);break}}};t(/windows\s+nt\s+([\d\.]+)/i,t=>{a.li.ci="Windows";const s=t[1];a.li.fi=e(s)}),t(/mac\s+os\s+x\s+([\d\._]+)/i,t=>{a.li.ci="macOS",a.li.fi=t[1].replace(/_/g,".")}),t(/CrOS/,()=>{a.li.ci="Chrome OS"}),t(/linux|openbsd|freebsd|netbsd/i,()=>{a.li.ci="Linux"}),t(/android/i,()=>{a.li.ci="Android"}),t(/android\s+([\d\.]+)/i,t=>{a.li.ci="Android",a.li.fi=t[1]}),a.li.ci===W&&(t(/(iphone|ipod|ipad)/i,t=>{a.li.ci="iOS"}),t([/iphone\s+os\s+([\d\._]+)/i,/ipad[^)]*os\s+([\d\._]+)/i],t=>{a.li.ci="iOS",a.li.fi=t[1].replace(/_/g,".")}));const J=/chrome\//i.test(V),q=/chromium\//i.test(V),$=/edg\//i.test(V),X=/OPR\//.test(V),Y=/nwjs/i.test(V),Z=/safari\//i.test(V),K=/webkit/i.test(V),Q=($||X||t(/chrome\/([\d\.]+)/i,t=>{a.li.di="Chrome",a.li.mi=t[1],a.li.yi="Chromium"}),t(/edg\/([\d\.]+)/i,t=>{a.li.di="Edge",a.li.mi=t[1],a.li.yi="Chromium"}),t(/OPR\/([\d\.]+)/,t=>{a.li.di="Opera",a.li.mi=t[1],a.li.yi="Chromium"}),t(/chromium\/([\d\.]+)/i,t=>{a.li.di="Chromium",a.li.mi=t[1],a.li.yi="Chromium"}),t(/nwjs\/[0-9.]+/i,t=>{a.li.di="NW.js",a.li.mi=t[1],a.li.yi="Chromium",a.li.wi="nwjs"}),t(/firefox\/([\d\.]+)/i,t=>{a.li.di="Firefox",a.li.mi=t[1],a.li.yi="Gecko"}),!Z||J||q||$||X||Y||(a.li.di="Safari",a.li.yi="WebKit",t(/version\/([\d\.]+)/i,t=>{a.li.mi=t[1]}),t(/crios\/([\d\.]+)/i,t=>{a.li.di="Chrome for iOS",a.li.mi=t[1]}),t(/fxios\/([\d\.]+)/i,t=>{a.li.di="Firefox for iOS",a.li.mi=t[1]}),t(/edgios\/([\d\.]+)/i,t=>{a.li.di="Edge for iOS",a.li.mi=t[1]})),a.li.yi===W&&K&&(a.li.yi="WebKit"),"Android"===a.li.ci&&"Safari"===a.li.di&&(a.li.di="Stock"),new Set(["Windows","macOS","Linux","Chrome OS"])),tt=Q.has(a.li.ci)||"nwjs"===a.li.wi;a.li.Si=tt,a.li.vi=!tt}"Chrome"===a.li.di&&"browser"===a.li.wi&&/wv\)/.test(V)&&(a.li.wi="webview"),"nwjs"!==a.li.wi&&"undefined"!=typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone)&&(a.li.wi="webapp"),a.li.gi=parseFloat(a.li.mi);const i="macOS"===a.li.ci&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;i&&(a.li.ci="iOS",a.li.fi=a.li.mi,a.li.Si=!1,a.li.vi=!0,a.li.xi=!0),a.li.bi="macOS"===a.li.ci||"iOS"===a.li.ci}{let h=function(i){return new Promise((t,s)=>{i.onsuccess=()=>t(i.result),i.onerror=()=>s(i.error)})},o=function(i){return new Promise((t,s)=>{i.oncomplete=()=>t(),i.onerror=()=>s(i.error),i.onabort=()=>s(i.error)})},t=function(t,s){return B(t,s)},s=function(t,s){return B(t,s,!0)},a=function(s){e(s);let t=et.get(s);return t instanceof Promise||(t=(async i=>{e(i);const t=indexedDB.open(i,st);return t.addEventListener("upgradeneeded",t=>{try{const s=t.target.result;s.createObjectStore(it)}catch(t){console.error("Failed to create objectstore for database "+i,t)}}),h(t)})(s),et.set(s,t),t.catch(t=>et.delete(s))),t},e=function(t){if("string"!=typeof t)throw new TypeError("expected string")},r=function(t,n){const s=t.objectStore(it).openCursor();return new Promise(i=>{const e=[];s.onsuccess=t=>{const s=t.target.result;if(s){switch(n){case"entries":e.push([s.key,s.value]);break;case"keys":e.push(s.key);break;case"values":e.push(s.value)}s.continue()}else i(e)}})};h,o,t,s,a,e,r;const st=2,it="keyvaluepairs",et=new Map,nt="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAll,rt="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAllKeys;async function B(s,i,e=!1,n=!0){const t=await a(s);try{const r=t.transaction([it],e?"readwrite":"readonly");return i(r)}catch(t){if(n&&"InvalidStateError"===t.name)return et.delete(s),B(s,i,e,!1);throw t}}class ht{constructor(t){e(t),this.name=t}async ready(){await a(this.name)}set(n,r){return e(n),s(this.name,async t=>{const s=t.objectStore(it).put(r,n),i=h(s),e=o(t);await Promise.all([e,i])})}get(r){return e(r),t(this.name,async t=>{const s=t.objectStore(it).get(r),i=h(s),e=o(t),[,n]=await Promise.all([e,i]);return n})}delete(n){return e(n),s(this.name,async t=>{const s=t.objectStore(it).delete(n),i=h(s),e=o(t);await Promise.all([e,i])})}clear(){return s(this.name,async t=>{const s=t.objectStore(it).clear(),i=h(s),e=o(t);await Promise.all([e,i])})}keys(){return t(this.name,async t=>{let s;if(rt){const n=t.objectStore(it).getAllKeys();s=h(n)}else s=r(t,"keys");const i=o(t),[,e]=await Promise.all([i,s]);return e})}values(){return t(this.name,async t=>{let s;if(nt){const n=t.objectStore(it).getAll();s=h(n)}else s=r(t,"values");const i=o(t),[,e]=await Promise.all([i,s]);return e})}entries(){return t(this.name,async t=>{const s=r(t,"entries"),i=o(t),[,e]=await Promise.all([i,s]);return e})}}self.Ti=ht}{let i=function(t){throw new Error(`"${t}" is not implemented`)},e=function(t){if("function"==typeof t)throw new Error("localforage callback API is not implemented; please use the promise API instead")},n=function(e){return"object"==typeof e?new Promise(s=>{const{port1:t,port2:i}=new MessageChannel;i.onmessage=t=>s(t.data),t.postMessage(e)}):Promise.resolve(e)};i,e,n;const ot=self.Ti,at=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i];new WeakMap;class lt{constructor(t){this._i=t,this.Gi=!this._i,this.Gi||"undefined"!=typeof indexedDB||(this.Gi=!0,console.warn("Unable to use local storage because IndexedDB API is not available")),this.Ii=new Map}Ci(t){if(!this.Gi)for(const s of at)if(t&&s.test(t.message)){console.error("Unable to use local storage, reverting to in-memory store: ",t,t.message),this.Gi=!0;break}}async Pi(t){const s=this.Ii.get(t),i=await n(s);return void 0===i?null:i}async Ei(t,s){s=await n(s),this.Ii.set(t,s)}Ai(t){this.Ii.delete(t)}Ri(){this.Ii.clear()}Fi(){return Array.from(this.Ii.keys())}Di(){return this.Gi}Oi(){return this.Ii}Li(t){this.Ii=t}async getItem(s,t){if(e(t),this.Gi)return this.Pi(s);let i;try{i=await this._i.get(s)}catch(t){return this.Ci(t),this.Gi?this.Pi(s):(console.error(`Error reading '${s}' from storage, returning null: `,t),null)}return void 0===i?null:i}async setItem(s,i,t){if(e(t),void 0===i&&(i=null),this.Gi)await this.Ei(s,i);else try{await this._i.set(s,i)}catch(t){if(this.Ci(t),!this.Gi)throw t;await this.Ei(s,i)}}async removeItem(s,t){if(e(t),this.Gi)this.Ai(s);else try{await this._i.delete(s)}catch(t){this.Ci(t),this.Gi?this.Ai(s):console.error(`Error removing '${s}' from storage: `,t)}}async clear(t){if(e(t),this.Gi)this.Ri();else try{await this._i.clear()}catch(t){this.Ci(t),this.Gi?this.Ri():console.error("Error clearing storage: ",t)}}async keys(t){if(e(t),this.Gi)return this.Fi();let s=[];try{s=await this._i.keys()}catch(t){if(this.Ci(t),this.Gi)return this.Fi();console.error("Error getting storage keys: ",t)}return s}ready(t){return e(t),this.Gi?Promise.resolve(!0):this._i.ready()}ki(t){if(t.Bi)return new lt(null);{const s=t.name;if("string"!=typeof s)throw new TypeError("invalid store name");const i=new ot(s);return new lt(i)}}length(t){i("localforage.length()")}key(t,s){i("localforage.key()")}iterate(t,s){i("localforage.iterate()")}Ni(t){i("localforage.setDriver()")}config(t){i("localforage.config()")}Wi(t){i("localforage.defineDriver()")}ji(){i("localforage.driver()")}supports(t){i("localforage.supports()")}dropInstance(){i("localforage.dropInstance()")}}self.localforage=new lt(new ot("localforage"))}{const e=self.Bs;if(e.Vi={},e.Vi.Ui=(()=>{try{if("undefined"==typeof document)return!1;const t=document.createElement("div");if(void 0===t.animate)return!1;const s=t.animate([{opacity:"0"},{opacity:"1"}],1e3);return void 0!==s.reverse}catch(t){return!1}})(),e.Vi.Hi="undefined"!=typeof HTMLDialogElement,e.Vi.Ji=!!self.requestIdleCallback,e.Vi.ImageBitmap=!!self.createImageBitmap,e.Vi.ImageBitmapOptions=!1,e.Vi.$i=!1,e.Vi.ImageBitmap){try{self.createImageBitmap(new ImageData(32,32),{premultiplyAlpha:"none"}).then(()=>{e.Vi.ImageBitmapOptions=!0}).catch(()=>{e.Vi.ImageBitmapOptions=!1})}catch(t){e.Vi.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(t=>{e.Vi.$i=10===t.width&&10===t.height}).catch(()=>{e.Vi.$i=!1})}catch(t){e.Vi.$i=!1}}if(e.Vi.Xi=!(!navigator.clipboard||!navigator.clipboard.readText),e.Vi.Yi=!(!navigator.permissions||!navigator.permissions.query),e.Vi.Zi=!1,e.Vi.Yi){const ut={name:"clipboard-read"};navigator.permissions.query(ut).then(()=>{e.Vi.Zi=!0}).catch(()=>{e.Vi.Zi=!1})}e.Vi.Ki=!!(navigator.permissions&&navigator.clipboard&&self.ClipboardItem),e.Vi.Qi="undefined"!=typeof Proxy,e.Vi.te=(()=>{if("undefined"==typeof document)return!1;const t=document.createElement("a");return void 0!==t.download})(),e.Vi.ie="function"==typeof fetch,e.Vi.ne=!!(self.isSecureContext&&"Opera"!==e.li.di&&navigator.storage&&navigator.storage.persist),e.Vi.re=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate),e.Vi.he=(()=>{if("undefined"==typeof document)return!1;if("iOS"===e.li.ci)return!1;const t=document.documentElement;return!!(t.requestFullscreen||t.msRequestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullscreen)})(),e.Vi.ImageDecoder=void 0!==self.ImageDecoder,e.Vi.oe=!!self.VideoEncoder,e.Vi.ae=!!self.showOpenFilePicker,e.Vi.le=!!self.queryLocalFonts,e.Vi.UserActivation=!!navigator.userActivation,e.Vi.ue=!1,(async()=>{let s;"undefined"==typeof document?s=new OffscreenCanvas(32,32):((s=document.createElement("canvas")).width=32,s.height=32);const t=s.getContext("2d");t.fillStyle="blue",t.fillRect(0,0,32,32);let i=null;try{s.convertToBlob?i=await s.convertToBlob({type:"image/webp",quality:1}):s.toBlob&&(i=await new Promise(t=>s.toBlob(t,"image/webp",1))),e.Vi.ue=i&&"image/webp"===i.type}catch(t){e.Vi.ue=!1}})()}{let e=function(t,i){return t.reduce((t,s)=>(0<i&&Array.isArray(s)?Array.prototype.push.apply(t,e(s,i-1)):t.push(s),t),[])};e;const ct=self.Bs;if(!String.prototype.trimStart){const ft=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(ft,"")}}if(!String.prototype.trimEnd){const dt=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(dt,"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(t,s){return this.replace(new RegExp(ct.fe(t),"g"),s)}),Array.prototype.values||(Array.prototype.values=function*(){for(const t of this)yield t}),Array.prototype.flat||(Array.prototype.flat=function(t=1){return e(this,t)}),Array.prototype.at||(Array.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}),String.prototype.at||(String.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}),RegExp.escape||(RegExp.escape=function(t){return String(t).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}),Set.prototype.de||(Set.prototype.de=function(t){if(!(t instanceof Set))throw new TypeError("argument must be a Set");for(const s of this)if(!t.has(s))return!1;return!0}),navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((i,t)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((t,s)=>i({usage:t,quota:s}),t))}),void 0===self.isSecureContext&&(self.isSecureContext="https:"===location.protocol),void 0===self.globalThis&&(self.globalThis=self)}{let i=function(t){let s=pt.pe(),i="Assertion failure: "+t+"\n\nStack trace:\n"+s;console.error(i)};i;const pt=self.Bs;self.assert=function(t,s){t||i(s)}}{const n=self.Bs,mt=self.$s,gt=(n.me=function(t){return"number"==typeof t},n.ge=function(t){return n.me(t)&&isFinite(t)},n.ye=function(t){if(!n.me(t))throw new TypeError("expected number")},n.we=function(t){n.Se(t)},n.ve=function(t,s,i){if(!n.me(t)||isNaN(t)||t<s||i<t)throw new RangeError("number outside of range")},n.xe=function(...s){for(let t of s);},n.Me=function(t){if(!n.ge(t))throw new TypeError("expected finite number")},n.Te=function(t){n.Se(t)},n._e=function(...s){for(let t of s);},n.Ge=function(t){return"string"==typeof t},n.Ie=function(t){if(!n.Ge(t))throw new TypeError("expected string")},n.Ce=function(t){n.Se(t)},n.Pe=function(...s){for(let t of s);},n.Ee=function(t){if("object"!=typeof t||null===t)return!1;let s=Object.getPrototypeOf(t);return s?s.constructor===Object:null===s},n.Ae=function(t){if(!n.Ee(t))throw new TypeError("expected simple object")},n.Re=function(t){if(!n.Se(t)&&!n.Ee(t))throw new TypeError("expected simple object")},n.Fe=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)},n.De=function(t){if(!n.Fe(t))throw new TypeError("expected object")},n.Oe=function(t){n.Se(t)},n.Le=function(...s){for(let t of s);},n.ke=function(t){return n.Be(t,Blob)&&"string"==typeof t.name},n.Ne=function(t){if(!n.ke(t))throw new TypeError("expected file")},n.We=function(t){n.Se(t)},n.je=function(t){return Array.isArray(t)},n.Ve=function(t){if(!n.je(t))throw new TypeError("expected array")},n.Ue=function(t){n.Se(t)},n.He=function(...s){for(let t of s);},n.Je=function(t){return!(!n.je(t)||t.length&&!n.je(t[0]))},n.qe=function(s){if(!n.Je(s))throw new TypeError("expected 2d array");for(let t of s)if(!n.je(t))throw new TypeError("expected 2d array")},n.$e=function(t){n.Se(t)},n.Xe=function(t){return"function"==typeof t},n.Ye=function(t,s){if(!n.Xe(t))throw new TypeError("expected function");if(!n.Se(s)&&t!==s)throw new TypeError("expected same function reference")},n.Ze=function(t){n.Se(t)},n.Ke=function(...s){for(let t of s);},n.Qe=function(s,...i){if(!n.Xe(s))throw new TypeError("expected function");if(!i.length)throw new Error("missing comparison functions");for(let t of i)if(!n.Se(t)&&s===t)return;throw new TypeError("expected same function reference")},n.tn=function(...s){if(!n.Se(s))for(let t of s);},n.sn=function(t,s){return t instanceof s},n.nn=function(s,...i){for(let t of i)if(n.sn(s,t))return!0;return!1},n.rn=function(t,s){if(!n.sn(t,s))throw new TypeError("unexpected type")},n.hn=function(t,s){n.Se(t)},n.an=function(t,...s){for(let t of s);},n.ln=function(t,...s){if(!n.nn(t,...s))throw new TypeError("unexpected type")},n.un=function(t,...s){if(!n.Se(t)&&!n.nn(t,...s))throw new TypeError("unexpected type")},n.cn=function(s,i){for(let t of s)if(!n.sn(t,i))return!1;return!0},n.dn=function(s){for(let t of s)if(!n.ge(t))return!1;return!0},n.pn=function(s,t){for(let t of s);},n.mn=function(s,t){if(!n.Se(s))for(let t of s);},n.gn=function(s,t){if(!n.Se(s))for(let t of s);},n.yn=function(s){for(let t of s);},n.wn=function(s){if(!n.Se(s))for(let t of s);},n.Sn=function(t,s){return!(n.Se(t)||!n.Ge(t.nodeName))&&(!s||n.vn(t.nodeName,s))},n.bn=function(t,s){if(n.Se(t)||!n.Ge(t.nodeName))throw new TypeError("expected DOM node");if(s&&!n.vn(t.nodeName,s))throw new TypeError(`expected DOM '${s}' node`)},n.xn=function(t,s){n.Se(t)},n.Mn=function(t,s){return!(n.Se(t)||!n.Ge(t.tagName))&&(!s||n.vn(t.tagName,s))},n.Tn=function(t,s){if(n.Se(t)||!n.Ge(t.tagName))throw new TypeError("expected HTML element");if(s&&!n.vn(t.tagName,s))throw new TypeError(`expected HTML '${s}' element`)},n._n=function(t,s){n.Se(t)},n.Gn=function(t){return n.Mn(t,"img")||n.Mn(t,"canvas")||n.Mn(t,"video")||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap},n.In=function(t){if(!n.Gn(t))throw new TypeError("expected drawable")},n.Cn=function(t){n.Se(t)},n.Pn=function(t){return t instanceof ImageData||n.Gn(t)},n.En=function(t){if(!n.Pn(t))throw new TypeError("expected drawable or image data")},n.An=function(t){if(!n.Se(t)&&!n.Pn(t))throw new TypeError("expected drawable or image data")},n.Rn=function(t){return"string"==typeof t||n.HtmlString&&t instanceof n.HtmlString||t instanceof n.Fn},n.Dn=function(t){if(!n.Rn(t))throw new TypeError("expected string-like")},n.On=function(t){n.Se(t)},n.Ln=function(...s){for(let t of s);},n.kn=function(){throw new Error("must be overridden")},n.Bn=function(){throw new Error("not yet implemented")},n.Nn=function(t,...s){let i=t;if(void 0===i)return!1;for(let t of s){if(void 0===i[t])return!1;i=i[t]}return!0},n.Se=function(t){return null==t},n.Wn=function(s){let i=s[0].constructor;for(let t of s)if(t.constructor!==i)return!1;return i},n.jn=function(s,i){for(let t of s)if(!(t instanceof i))return!1;return!0},Object.getPrototypeOf(Uint8Array));n.Vn=function(t){return n.sn(t,gt)},n.Un=function(t){},n.Hn=function(t){n.zn(t,gt)},n.Jn=function(t,...s){if(!n.qn(t,...s))throw new TypeError("unexpected type")},n.qn=function(t,...s){for(const i of s)if(n.Be(t,i))return!0;return!1},n.zn=function(t,s){if(!n.Be(t,s))throw new TypeError("unexpected type")},n.Be=function(t,s){for(;t=Object.getPrototypeOf(t);)if(t.constructor.name===s.name)return!0;return!1},mt.ye=n.ye,mt.we=n.we,mt.Me=n.Me,mt.Te=n.Te,mt.Ie=n.Ie,mt.Ce=n.Ce,mt.De=n.De,mt.Oe=n.Oe,mt.Ve=n.Ve,mt.Ue=n.Ue,mt.Ye=n.Ye,mt.Ze=n.Ze,mt.rn=n.rn,mt.hn=n.hn,mt.Se=n.Se}{let e=function(t,s){let i=p.getType(t),e=p.getType(s);return"null"===i||"null"===e||"undefined"!==i&&"undefined"!==e&&i===e},n=function(t){console.warn("[Defence] "+t+" @",p.pe())},i=function(){if(f=-1,0<a.size||0<l.size){let t=new Set([...a.keys()].map(t=>p.$n(t))),s=[...t].join(",");console.warn("An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: "+s),a.clear(),l.clear()}},r=function(s){let i=new Set;for(let t in s)i.add(t);return i},h=function(t,s){let i=r(s),e=d.get(t);if(e){let s=[];for(let t of e.values())i.has(t)?i.delete(t):s.push(t);p.Xn(s,[...i]),s.length&&console.warn(`[Defence] '${p.$n(t)}' constructor creates inconsistent properties: `+s.join(", "))}else d.set(t,i)};e,n,i,r,h;const p=self.Bs,yt=new Map;p.Yn=function(t,s){console.log("%c"+t,"font-weight: bold; color:"+s)},p.Zn=function(t,...s){yt.has(t)||yt.set(t,-1),-1===yt.get(t)&&yt.set(t,requestAnimationFrame(()=>{console.log("%c"+t,"font-weight: bold",...s),yt.set(t,-1)}))};let o,a=(p.Kn=function(t){performance.mark(t),(o=o||new Map).has(t)||o.set(t,{current:0,total:0,Qn:0,tr:1,toString:function(){return`${t} :: current => ${this.current.toPrecision(3)} :: average => ${this.Qn.toPrecision(3)} :: calls => `+this.tr}})},p.ir=function(t){performance.measure("measure-"+t,t);const s=performance.getEntriesByName("measure-"+t)[0],i=o.get(t);i.current=s.duration,i.total+=i.current,i.Qn=i.total/i.tr,console.log(i.toString()),i.tr++,performance.clearMarks(t),performance.clearMeasures("measure-"+t)},p.pe=function(){return(new Error).stack},p.er=function(){},p.cast=function(t,s){return t&&t instanceof s?t:null},p.$n=function(t){return void 0===t?"undefined":null===t?"null":"boolean"==typeof t?"<boolean>":p.me(t)?"<number>":p.Ge(t)?"<string>":p.je(t)?"<array>":"symbol"==typeof t?"<"+t.toString()+">":p.Xe(t)?t.name&&"Function"!==t.name?t.name:"<anonymous function>":"object"==typeof t?t.constructor&&t.constructor.name&&"Object"!==t.constructor.name?t.constructor.name:"<anonymous object>":"<unknown>"},p.getType=function(t){return null===t?"null":Array.isArray(t)?"array":typeof t},p.range=function*(s,i){if(!isFinite(Math.abs(s-i)))throw new Error("Invalid parameters");if(i<s)for(let t=s-1;t>=i;t--)yield t;else for(let t=s;t<i;t++)yield t},new Map),l=new Map,u=new WeakMap,c=new WeakMap;p.nr={};const wt=new Set(["then","splice"]);p.nr.get=function(t,s){return s in t||"symbol"==typeof s||wt.has(s)||n(`Accessed missing property '${s}' from defended object '${p.$n(t)}', returning undefined`),c.has(t)&&"symbol"!=typeof s&&!wt.has(s)&&n(`Accessed property '${s}' on a released object '${p.$n(t)}'
Object was originally released at: ${c.get(t)})
Call stack at access: `),t[s]},p.nr.set=function(t,s,i){return s in t||a.has(t)||n(`Set non-existent property '${s}' to '${i}' on defended object '${p.$n(t)}'`),e(t[s],i)||a.has(t)||n(`Set '${p.getType(t[s])}' property '${s}' to type '${p.getType(i)}' on defended object '${p.$n(t)}'`),c.has(t)&&n(`Set property '${s}' on a released object '${p.$n(t)}'
Object was originally released at: ${c.get(t)})
Call stack at access: `),t[s]=i,!0},p.nr.deleteProperty=function(t,s){throw new ReferenceError(`Cannot delete property '${s}' from defended object '${p.$n(t)}'`)},p.nr.defineProperty=function(t,s,i){throw new ReferenceError(`Cannot define property '${s}' on defended object '${p.$n(t)}'`)},p.nr.enumerate=function(t){throw new ReferenceError(`Cannot enumerate defended object '${p.$n(t)}'`)};let f=-1,d=(p.rr=class{constructor(){if(p.qs&&p.Vi.Qi){let t=Object.create(new.target.prototype),s=new Proxy(t,p.nr);return a.set(t,s),l.set(s,t),u.set(s,t),-1===f&&(f=requestAnimationFrame(i)),s}}},p.hr=function(s){if(p.qs&&p.Vi.Qi&&s instanceof p.rr){if(l.has(s)){let t=l.get(s);l.delete(s),a.delete(t)}return s}return p.isDebug?Object.seal(s):s},p.lr=function(t,...s){let i;try{i=new t(...s)}catch(t){throw l.clear(),a.clear(),t}return p.qs&&h(t,i),p.hr(i)},p.ur=function(t){let s=u.get(t);s&&c.set(s,p.pe())},p.cr=function(t){let s=u.get(t);return!!s&&!!c.get(s)},new Map);p.dr=class{constructor(t){this.pr="",t&&this.start(t)}start(t){p.ai&&(this.pr=t,performance.mark(this.pr+"-Start"))}end(){p.ai&&(performance.mark(this.pr+"-End"),performance.measure(this.pr,this.pr+"-Start",this.pr+"-End"))}next(t){p.ai&&(this.end(),this.pr=t,performance.mark(this.pr+"-Start"))}}}{let i=function(t){return 0===t&&1/t<0};i;const y=self.Bs,St=2*Math.PI,vt=Math.PI/180,bt=180/Math.PI,xt=(y.wrap=function(t,s,i){t=Math.floor(t),s=Math.floor(s);const e=(i=Math.floor(i))-s;if(0==e)return i;if(t<s){const n=i-(s-t)%e;return n===i?0:n}return s+(t-s)%e},y.mr=function(t,s,i,e,n){const r=i-s;if(0==r&&0===e)return t;const h=n-e;return(t-s)*h/r+e},y.normalize=function(t,s,i){return s-i==0?1:(t-s)/(i-s)},y.gr=function(t,s,i){return t<s?s:i<t?i:t},y.yr=function(t){return(t%=St)<0&&(t+=St),t},y.Sr=function(t){return t*vt},y.vr=function(t){return t*bt},y.br=function(t,s,i,e){return Math.hypot(i-t,e-s)},y.Mr=function(t,s,i,e){const n=i-t,r=e-s;return n*n+r*r},y.Tr=function(t,s,i,e){return Math.atan2(e-s,i-t)},y._r=function(t,s){if(t===s)return 0;let i=Math.sin(t),e=Math.cos(t),n=Math.sin(s),r=Math.cos(s),h=i*n+e*r;return 1<=h?0:h<=-1?Math.PI:Math.acos(h)},y.Gr=function(t,s,i){let e=Math.sin(t),n=Math.cos(t),r=Math.sin(s),h=Math.cos(s);return Math.acos(e*r+n*h)>i?0<n*r-e*h?y.yr(t+i):y.yr(t-i):y.yr(s)},y.Ir=function(t,s){let i=Math.sin(t),e=Math.cos(t),n=Math.sin(s),r=Math.cos(s);return e*n-i*r<=0},y.Cr=function(t,s,i,e=0){let n=y._r(t,s),r=St*e;return y.Ir(s,t)?y.yr(t+(n+r)*i):y.yr(t-(n+r)*i)},y.Pr=function(t,s,i,e=0){const n=y._r(t,s),r=St*e;return y.Ir(s,t)?y.yr(t+(n+r)*i):y.yr(t+(St-n+r)*i)},y.Er=function(t,s,i,e=0){const n=y._r(t,s),r=St*e;return y.Ir(s,t)?y.yr(t-(-St+n-r)*i):y.yr(t-(n+r)*i)},y.Ar=function(t,s){const i=y._r(t,s);return y.Ir(t,s)?y.yr(s-i):y.yr(s+i)},y.Lt=function(t,s,i){return t+i*(s-t)},y.Rr=function(t,s,i){return t===s?0:(i-t)/(s-t)},y.Fr=function(t,s,i,e,n){return y.Lt(e,n,y.Rr(t,s,i))},y.Dr=function(t,s,i,e){return y.Lt(y.Lt(t,s,e),y.Lt(s,i,e),e)},y.Or=function(t,s,i,e,n){return y.Lt(y.Dr(t,s,i,n),y.Dr(s,i,e,n),n)},y.Lr=function(t,s,i){return(t+s+(t-s)*Math.cos(i*Math.PI))/2},y.kr=function(t){return 0<t&&0==(t-1&t)},y.Br=function(s){--s;for(let t=1;t<32;t<<=1)s|=s>>t;return s+1},y.Nr=function(t,s){return Math.round(t*s)/s},y.Wr=function(t,s){return Math.floor(t*s)/s},y.jr=function(t,s){s=Math.max(Math.floor(s),0);const i=Math.pow(10,s);return Math.round(t*i)/i},y.Vr=function(t){return Math.floor(t)!==t&&t.toString().split(".")[1].length||0},y.toFixed=function(t,s){let i=t.toFixed(s),e=i.length-1;for(;0<=e&&"0"===i.charAt(e);--e);return 0<=e&&"."===i.charAt(e)&&--e,e<0?i:i.substr(0,e+1)},y.Ur=function(t,s,i){return y.gr(t,0,255)|y.gr(s,0,255)<<8|y.gr(i,0,255)<<16},1024),Mt=16384,Tt=8191,_t=(y.Hr=function(t,s,i,e){return t=y.gr(Math.floor(1024*t),-8192,Tt),s=y.gr(Math.floor(1024*s),-8192,Tt),i=y.gr(Math.floor(1024*i),-8192,Tt),e=y.gr(Math.floor(1023*e),0,1023),t<0&&(t+=Mt),s<0&&(s+=Mt),i<0&&(i+=Mt),-(t*Mt*Mt*xt+s*Mt*xt+i*xt+e)},y.zr=function(t,s,i){return y.Hr(t,s,i,1)},y.Jr=function(s){if(0<=s)return(255&s)/255;{let t=Math.floor(-s/(Mt*Mt*xt));return t>Tt&&(t-=Mt),t/1024}},y.qr=function(s){if(0<=s)return((65280&s)>>8)/255;{let t=Math.floor(-s%(Mt*Mt*xt)/(Mt*xt));return t>Tt&&(t-=Mt),t/1024}},y.$r=function(s){if(0<=s)return((16711680&s)>>16)/255;{let t=Math.floor(-s%(Mt*xt)/xt);return t>Tt&&(t-=Mt),t/1024}},y.Xr=function(t){if(i(t))return 0;if(0<=t)return 1;{const s=Math.floor(-t%xt);return s/1023}},y.Yr=function(s,i){for(s=Math.floor(s),i=Math.floor(i);0!==i;){let t=i;i=s%i,s=t}return s},[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]]);y.Zr=function(i,e){if((i=Math.floor(i))===(e=Math.floor(e)))return[1,1];for(let s of _t){let t=i/s[0]*s[1];if(Math.abs(e-t)<1)return s.slice(0);if(t=i/s[1]*s[0],Math.abs(e-t)<1)return[s[1],s[0]]}let t=y.Yr(i,e);return[i/t,e/t]},y.Kr=function(t,s,i,e,n,r,h,o){const a=Math.min(t,i),l=Math.max(t,i),u=Math.min(n,h),c=Math.max(n,h);if(l<u||c<a)return!1;const f=Math.min(s,e),d=Math.max(s,e),p=Math.min(r,o),m=Math.max(r,o);if(d<p||m<f)return!1;const g=n-t+h-i,y=r-s+o-e,w=i-t,S=e-s,v=h-n,b=o-r,x=Math.abs(S*v-b*w),M=v*y-b*g;if(Math.abs(M)>x)return!1;const T=w*y-S*g;return Math.abs(T)<=x},y.Qr=function(t,s,i,e,n,r,h,o,a,l,u,c){const f=Math.min(a,u),d=Math.max(a,u);if(r<f||d<n)return!1;const p=Math.min(l,c),m=Math.max(l,c);if(o<p||m<h)return!1;const g=a-t+u-i,y=l-s+c-e,w=i-t,S=e-s,v=u-a,b=c-l,x=Math.abs(S*v-b*w),M=v*y-b*g;if(Math.abs(M)>x)return!1;const T=w*y-S*g;return Math.abs(T)<=x},y.th=function(t,s,i,e,n){const r=Math.min(t,i),h=Math.max(t,i),o=Math.min(s,e),a=Math.max(s,e),l=n.ih(),u=n.eh(),c=n.nh(),f=n.rh(),d=n.hh(),p=n.oh(),m=n.ah(),g=n.lh();return y.Qr(t,s,i,e,r,h,o,a,l,u,c,f)||y.Qr(t,s,i,e,r,h,o,a,c,f,d,p)||y.Qr(t,s,i,e,r,h,o,a,d,p,m,g)||y.Qr(t,s,i,e,r,h,o,a,m,g,l,u)},y.uh=function(s,i,e,n,r){let h=Math.min(s,e),o=Math.max(s,e),a=Math.min(i,n),l=Math.max(i,n),u=0;for(let t=r.length-4;u<=t;u+=2)if(y.Qr(s,i,e,n,h,o,a,l,r[u],r[u+1],r[u+2],r[u+3]))return!0;return y.Qr(s,i,e,n,h,o,a,l,r[u],r[u+1],r[0],r[1])};y.fh=function(t,s,i,e,n,r,h,o){const a=i-t,l=e-s,u=h-n,c=o-r,f=a*c-l*u;if(0==f)return 2;const d=((s-e)*(h-t)+a*(o-s))/f;return 0<d&&d<1+1e-6?(c*(h-t)+(n-h)*(o-s))/f:2},y.ph=function(t,s,i,e,n,r,h,o,a){const l=(h-n)*a,u=(o-r)*a;return y.fh(t,s,i,e,n-l,r-u,h+l,o+u)},y.mh=function(t,s,i,e,n,r,h,o){const a=n-i,l=r-e,u=h-i,c=o-e,f=t-i,d=s-e,p=a*a+l*l,m=a*u+l*c,g=a*f+l*d,y=u*u+c*c,w=u*f+c*d,S=1/(p*y-m*m),v=(y*g-m*w)*S,b=(p*w-m*g)*S;return 0<=v&&0<=b&&v+b<=1},y.gh=function(t,s,i,e,n,r,h,o){const a=n-i,l=r-e,u=h-i,c=o-e,f=t-i,d=s-e,p=a*a+l*l,m=a*u+l*c,g=u*u+c*c,y=f*a+d*l,w=f*u+d*c,S=p*g-m*m,v=(g*y-m*w)/S,b=(p*w-m*y)/S,x=1-v-b;return[x,v,b]},y.yh=function(t,s,i,e,n,r,h,o,a,l,u,c){return[t*e+s*h+i*l,t*n+s*o+i*u,t*r+s*a+i*c]}}{let l=self.Bs,s=null,i="";if("undefined"!=typeof document){const Gt=(s=document).querySelector("base");(i=Gt&&Gt.hasAttribute("href")?Gt.getAttribute("href"):"")&&!(i=i.startsWith("/")?i.substr(1):i).endsWith("/")&&(i+="/")}l.wh=function(){return i},l.Sh=function(){if(!s)return"";const t=s.location;return l.bh(t.origin+t.pathname)+i},l.bh=function(t){if(!t.length)return t;if(t.endsWith("/")||t.endsWith("\\"))return t;const s=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===s?"":t.substr(0,s+1)},l.xh=function(t){if(!t.length)return t;if(t.endsWith("/")||t.endsWith("\\"))return"";const s=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===s?t:t.substr(s+1)},l.Mh=function(t){let s=t.lastIndexOf(".");return s<1?"":t.substr(s)},l.Th=function(t,s){const i=t.lastIndexOf(".");return-1===i?t+"."+s:t.substr(0,i+1)+s},l._h=function(t){let s=t.lastIndexOf(".");return s<1?t:t.substr(0,s)},l.Gh=function(t){return t.replace(/\\/g,"/")},l.Ih=function(t,s){const i=t?l.Mh(t).slice(1):"";return s===i},l.Ch=function(t,s){let i,e;return l.ke(t)&&(i=l._h(t.name)),l.Ge(t)&&(i=l._h(t)),l.ke(s)&&(e=l._h(s.name)),l.Ge(s)&&(e=l._h(s)),i===e},l.Ph=function(t){t=l.Gh(t);let s=/^\w\:\//.exec(t),i=(s?(s=s[0],"/"!==(t=t.slice(3))[0]&&(t="/"+t)):s="",(t=1<(t=t.replace(/\/{2,}/g,"/")).length&&"/"===t.slice(-1)?t.slice(0,-1):t).lastIndexOf("/")+1),e="",n=t,r,h="";0<i&&(e=t.slice(0,i),n=t.slice(i));const o=(r=n).lastIndexOf("."),a=(0<o&&(h=n.slice(o),r=n.slice(0,-h.length)),s+e+n);return{dir:e,Eh:n,name:r,root:s,ext:h,Ah:a}},l.Rh=function(i,e){return new Promise((t,s)=>{self.setTimeout(t,i,e)})},l.Fh=function(t){try{t()}catch(t){l.isDebug&&console.warn("Swallowed exception: ",t)}},l.Dh=function(){},l.vn=function(t,s){return"string"==typeof t&&"string"==typeof s&&(t===s||t.normalize().toLowerCase()===s.normalize().toLowerCase())},l.Oh=function(t,s){return"string"==typeof t&&"string"==typeof s&&(t===s||t.normalize()===s.normalize())},l.Lh=function(t,s,i){t[i++]=s[0],t[i++]=s[1],t[i++]=s[2],t[i++]=s[3],t[i++]=s[4],t[i++]=s[5],t[i++]=s[6],t[i++]=s[7],t[i++]=s[8],t[i++]=s[9],t[i++]=s[10],t[i++]=s[11],t[i++]=s[12],t[i++]=s[13],t[i++]=s[14],t[i]=s[15]},l.kh=function(t,s){t.length=s},l.Bh=function(t){t&&0!==t.length&&l.kh(t,0)},l.Nh=function(i){if(i){for(let s=0;s<i.length;s++){let t=i[s];l.kh(t,0)}l.kh(i,0)}},l.Wh=function(s,i,e){const n=s.length;if(!((i|=0)<=n))for(let t=n;t<i;++t)s.push(e)},l.jh=function(t,s,i){const e=t.length;(s|=0)<e?l.kh(t,s):e<s&&l.Wh(t,s,i)},l.Vh=function(t,s){l.Bh(t),l.Xn(t,s)},l.Xn=function(i,e){if(e.length<1e4)i.push(...e);else for(let t=0,s=e.length;t<s;++t)i.push(e[t])},l.Uh=function(i,e){if(!((e=Math.floor(e))<0||e>=i.length)){let s=i.length-1;for(let t=e;t<s;++t)i[t]=i[t+1];l.kh(i,s)}},l.Hh=function(t,s){let i=t.indexOf(s);0<=i&&t.splice(i,1)},l.zh=function(s,i){let e=s.length;if(i.length!==e)return!1;for(let t=0;t<e;++t)if(s[t]!==i[t])return!1;return!0},l.Jh=function(i,e){let n=[],r=0;for(let s=0,t=i.length;s<t;++s){let t=i[s];e(t)?n.push(t):(i[r]=t,++r)}return l.kh(i,r),n},l.qh=function(i,e){let t=i.length,n=0;for(let s=0,t=i.length;s<t;++s){let t=i[s];e.has(t)||(i[n++]=t)}return l.kh(i,n),t-n},l.$h=function(t,s){return t===Math.floor(t)&&0<=t&&t<s.length},l.Xh=function(t,s){if(!l.$h(t,s))throw new RangeError("array index out of bounds")},l.Yh=function(t){return t.slice()},l.Zh=function(t,i){let e=[];for(let s of t)if(l.Fe(s)){let t=i(s);if(!t)throw new Error("missing clone");if(t.constructor!==s.constructor)throw new Error("object is not a clone");e.push(t)}else l.je(s)?e.push(l.Zh(s,i)):e.push(s);return e},l.Kh=function(s){let i=[];for(let t of s)i.push(t.slice());return i},l.Qh=function(t,s=" "){return t?t.split(s).map(t=>t.trim()).filter(t=>!!t):[]},l.io=function(t,s,i){const e=new Set;for(const n of t.values())s(n)&&(i?e.add(i(n)):e.add(n));return e},l.eo=function(t,s){return t.union?t.union(s):new Set([...t,...s])},l.no=function(t,s){for(const i of s)t.add(i);return t},l.first=function(s){for(let t of s)return t;return null},l.xor=function(t,s){return!t!=!s},l.compare=function(t,s,i){switch(s){case 0:return t===i;case 1:return t!==i;case 2:return t<i;case 3:return t<=i;case 4:return i<t;case 5:return i<=t;default:return!1}},l.ro=function(s){for(let t in s)if(s.hasOwnProperty(t))return!0;return!1},l.ho=function(o,a){return o.length?new Promise((i,e)=>{let n=[],r=0,h=!1;for(let s=0,t=o.length;s<t;++s)n.push(void 0),o[s].then(t=>{h||(n[s]=t,++r===o.length?i(n):a(r,o.length))}).catch(t=>{h=!0,e(t)})}):Promise.resolve([])};let e=[],n=(l.ao=function(t){e.push(t)},l.lo=function(){let i=0;for(let s of e){let t=s();i+=t}return Math.floor(i)},1),r=new Map,h=new MessageChannel,o=(h.port2.onmessage=function(t){const s=t.data,i=r.get(s);r.delete(s),i&&i(performance.now())},l.uo=function(t){const s=n++;return r.set(s,t),h.port1.postMessage(s),s},l.co=function(t){r.delete(t)},l.fo=l.uo,l.do=function(){return new Promise(t=>l.fo(t))},new Set);l.po=function(s){const i=self.requestAnimationFrame(async t=>{await l.do(),o.has(i)&&(o.delete(i),s(t))});return o.add(i),i},l.yo=function(t){o.has(t)&&(self.cancelAnimationFrame(t),o.delete(t))}}{const r=self.Bs;r.wo=function(t){return/^(?:[a-z\-]+:)?\/\//.test(t)||"data:"===t.substr(0,5)||"blob:"===t.substr(0,5)},r.So=function(t){return!r.wo(t)},r.vo=function(t){if(!t.ok)throw new Error(`fetch '${t.url}' response returned ${t.status} `+t.statusText)},r.bo=function(t,s){return fetch(t,s).then(t=>(r.vo(t),t))},r.xo=function(t){return r.bo(t).then(t=>t.text())},r.Mo=function(t){return r.bo(t).then(t=>t.json())},r.To=function(t){return r.bo(t).then(t=>t.blob())},r._o=function(t){return r.bo(t).then(t=>t.arrayBuffer())},r.Go=function(e){return new Promise((t,s)=>{const i=new Image;i.onload=()=>t(i),i.onerror=t=>s(t),i.src=e})},r.Io=function(e){return"function"==typeof e.arrayBuffer?e.arrayBuffer():new Promise((t,s)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=()=>s(i.error),i.readAsArrayBuffer(e)})},r.Co=function(e){return"function"==typeof e.text?e.text():new Promise((t,s)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=()=>s(i.error),i.readAsText(e)})},r.Po=function(t){return r.Co(t).then(t=>JSON.parse(t))},r.Eo=async function(t,s){let i=URL.createObjectURL(t);try{const e=await r.Go(i);return URL.revokeObjectURL(i),i="",s&&"function"==typeof e.decode&&await e.decode(),e}finally{i&&URL.revokeObjectURL(i)}},r.Ao=function(t,s){if("undefined"==typeof document||"function"!=typeof document.createElement)return new OffscreenCanvas(t,s);{const i=document.createElement("canvas");return i.width=t,i.height=s,i}},r.Ro=function(s,i,e){if("number"!=typeof e&&(e=1),i=i||"image/png",e=r.gr(e,0,1),s.convertToBlob)return s.convertToBlob({type:i,quality:e});if(s.toBlob)return new Promise(t=>s.toBlob(t,i,e));throw new Error("could not convert canvas to blob")},r.Fo=function(t,s,i){const e=r.Ao(t.width,t.height),n=e.getContext("2d");return n.drawImage(t,0,0),r.Ro(e,s,i)},r.Do=function(t,s,i){if(r.Vi.ImageBitmapOptions)return createImageBitmap(t,{premultiplyAlpha:"none"}).then(t=>r.Fo(t,s,i));if(r.Vi.ImageBitmap)return createImageBitmap(t).then(t=>r.Fo(t,s,i));{const e=r.Ao(t.width,t.height),n=e.getContext("2d");return n.putImageData(t,0,0),r.Ro(e,s,i)}},r.Oo=function(t,s){t.clear();for(const i of s)t.add(i)},r.Lo=function(t){const s=Object.create(null);for(const[i,e]of t.entries())s[i]=e;return s},r.ko=function(t,s){s.clear();for(const[i,e]of Object.entries(t))s.set(i,e)},r.Bo=function s(t){if("object"!=typeof t||null===t)return t;if(t instanceof Set)return{_c3type_:"set",data:[...t].map(t=>s(t))};if(t instanceof Map)return{_c3type_:"map",data:[...t].map(t=>[t[0],s(t[1])])};{const i=Object.create(null);for(const[e,n]of Object.entries(t))i[e]=s(n);return i}},r.No=function s(t){if("object"==typeof t&null!==t){if("set"===t._c3type_)return new Set(t.data.map(t=>s(t)));if("map"===t._c3type_)return new Map(t.data.map(t=>[t[0],s(t[1])]));{const i=Object.create(null);for(const[e,n]of Object.entries(t))i[e]=s(n);return i}}return t},r.Wo=function(t){if(t.startsWith("--"))return t;let s="",i=!1,e=0;for(const n of t)"-"===n?0<e&&(i=!0):i?(s+=n.toUpperCase(),i=!1):s+=n,++e;return s},r.jo=function(t){return"object"==typeof t&&"function"==typeof t.next},r.Vo=function(s,i){const e=[];if("function"==typeof i)for(let t=0;t<s;++t)e.push(i());else for(let t=0;t<s;++t)e.push(i);return e}}{let e=function(t){return 0===t.length?"00":1===t.length?"0"+t:t},l=function(t,s,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(s-t)*i:i<.5?s:i<2/3?t+(s-t)*(2/3-i)*6:t};e,l;const u=self.Bs,It=/([0-9.]+),([0-9.]+)\%?,([0-9.]+)\%?/i,Ct=/([0-9.]+),([0-9.]+)\%?,([0-9.]+)\%?,([0-9.])/i;u.Uo=class{constructor(t,s,i,e){this.Ho=NaN,this.zo=NaN,this.Jo=NaN,this.qo=NaN,this.Ho=0,this.zo=0,this.Jo=0,this.qo=0,t instanceof u.Uo?this.set(t):this.$o(t||0,s||0,i||0,e||0)}Xo(t,s,i){return this.Ho=+t,this.zo=+s,this.Jo=+i,this.gr(),this}$o(t,s,i,e){return this.Ho=+t,this.zo=+s,this.Jo=+i,this.qo=+e,this.gr(),this}set(t){return this.Ho=t.Ho,this.zo=t.zo,this.Jo=t.Jo,this.qo=t.qo,this}G(t){return this.set(t)}add(t){this.Ho+=t.Ho,this.zo+=t.zo,this.Jo+=t.Jo,this.qo+=t.qo,this.gr()}Yo(t,s,i,e=0){this.Ho+=+t,this.zo+=+s,this.Jo+=+i,this.qo+=+e,this.gr()}Zo(t){this.Ko(Math.max(this.Ho,t.Ho)-Math.min(this.Ho,t.Ho)),this.Qo(Math.max(this.zo,t.zo)-Math.min(this.zo,t.zo)),this.ta(Math.max(this.Jo,t.Jo)-Math.min(this.Jo,t.Jo)),this.ia(Math.max(this.qo,t.qo)-Math.min(this.qo,t.qo)),this.gr()}ea(t){this.Ho=t.Ho,this.zo=t.zo,this.Jo=t.Jo}Ko(t){this.Ho=u.gr(+t,0,1)}na(){return this.Ho}Qo(t){this.zo=u.gr(+t,0,1)}ra(){return this.zo}ta(t){this.Jo=u.gr(+t,0,1)}oa(){return this.Jo}ia(t){this.qo=u.gr(+t,0,1)}aa(){return this.qo}clone(){return u.lr(u.Uo,this.Ho,this.zo,this.Jo,this.qo)}toArray(){return[this.Ho,this.zo,this.Jo,this.qo]}la(){return new Float64Array(this.toArray())}ua(t,s){t[s++]=this.Ho,t[s++]=this.zo,t[s++]=this.Jo,t[s]=this.qo}ca(t,s){t[s++]=this.Ho,t[s++]=this.zo,t[s]=this.Jo}equals(t){return this.Ho===t.Ho&&this.zo===t.zo&&this.Jo===t.Jo&&this.qo===t.qo}fa(t){return this.Ho===t.Ho&&this.zo===t.zo&&this.Jo===t.Jo}ma(t,s,i){return this.Ho===t&&this.zo===s&&this.Jo===i}ga(t,s,i,e){return this.Ho===t&&this.zo===s&&this.Jo===i&&this.qo===e}ya(t,s){return t[s]===Math.fround(this.Ho)&&t[s+1]===Math.fround(this.zo)&&t[s+2]===Math.fround(this.Jo)&&t[s+3]===Math.fround(this.qo)}wa(t,s){return t[s]===Math.fround(this.Ho)&&t[s+1]===Math.fround(this.zo)&&t[s+2]===Math.fround(this.Jo)}multiply(t){this.Ho*=t.Ho,this.zo*=t.zo,this.Jo*=t.Jo,this.qo*=t.qo}Sa(t){this.Ho*=t,this.zo*=t,this.Jo*=t,this.qo*=t}ba(){return this.Ho*=this.qo,this.zo*=this.qo,this.Jo*=this.qo,this}xa(){return this.Ho/=this.qo,this.zo/=this.qo,this.Jo/=this.qo,this}gr(){return this.Ho=u.gr(this.Ho,0,1),this.zo=u.gr(this.zo,0,1),this.Jo=u.gr(this.Jo,0,1),this.qo=u.gr(this.qo,0,1),this}Ma(t){this.Ho=u.Jr(t),this.zo=u.qr(t),this.Jo=u.$r(t),this.qo=u.Xr(t)}Ta(t,s,i){const e=u.ge(t)?t:this.na(),n=u.ge(s)?s:this.ra(),r=u.ge(i)?i:this.oa();return`rgb(${100*e}%, ${100*n}%, ${100*r}%)`}_a(t,s,i,e){const n=u.ge(t)?t:this.na(),r=u.ge(s)?s:this.ra(),h=u.ge(i)?i:this.oa(),o=u.ge(e)?e:this.aa();return`rgba(${100*n}%, ${100*r}%, ${100*h}%, ${o})`}Ga(){const t=Math.round(255*this.na()),s=Math.round(255*this.ra()),i=Math.round(255*this.oa());return"#"+e(t.toString(16))+e(s.toString(16))+e(i.toString(16))}Ia(t){if("string"!=typeof t)return!1;let s,i,e;if(3===(t="#"===(t=t.trim()).charAt(0)?t.substr(1):t).length)s=parseInt(t[0],16)/15,i=parseInt(t[1],16)/15,e=parseInt(t[2],16)/15;else{if(6!==t.length)return!1;s=parseInt(t.substr(0,2),16)/255,i=parseInt(t.substr(2,2),16)/255,e=parseInt(t.substr(4,2),16)/255}return isFinite(s)&&this.Ko(s),isFinite(i)&&this.Qo(i),isFinite(e)&&this.ta(e),this.ia(1),!0}Ca(){const t=Math.round(255*this.na()),s=Math.round(255*this.ra()),i=Math.round(255*this.oa());return t+`, ${s}, `+i}Pa(){const t=Math.round(255*this.na()),s=Math.round(255*this.ra()),i=Math.round(255*this.oa());return[t,s,i]}Ea(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgb\(|\)|%/,"")).split(",");if(s.length<3)return!1;const i=parseInt(s[0].trim(),10)/255,e=parseInt(s[1].trim(),10)/255,n=parseInt(s[2].trim(),10)/255;return isFinite(i)&&this.Ko(i),isFinite(e)&&this.Qo(e),isFinite(n)&&this.ta(n),this.ia(1),!0}Aa(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgb\(|\)|%/,"")).split(",");if(s.length<3)return!1;const i=parseInt(s[0].trim(),10)/100,e=parseInt(s[1].trim(),10)/100,n=parseInt(s[2].trim(),10)/100;return isFinite(i)&&this.Ko(i),isFinite(e)&&this.Qo(e),isFinite(n)&&this.ta(n),this.ia(1),!0}Ra(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgba\(|\)|%/,"")).split(",");if(s.length<4)return!1;const i=parseInt(s[0].trim(),10)/255,e=parseInt(s[1].trim(),10)/255,n=parseInt(s[2].trim(),10)/255,r=parseFloat(s[3].trim());return isFinite(i)&&this.Ko(i),isFinite(e)&&this.Qo(e),isFinite(n)&&this.ta(n),isFinite(r)&&this.ia(r),!0}Fa(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgba\(|\)|%/,"")).split(",");if(s.length<4)return!1;const i=parseInt(s[0].trim(),10)/100,e=parseInt(s[1].trim(),10)/100,n=parseInt(s[2].trim(),10)/100,r=parseFloat(s[3].trim());return isFinite(i)&&this.Ko(i),isFinite(e)&&this.Qo(e),isFinite(n)&&this.ta(n),isFinite(r)&&this.ia(r),!0}Da(t){if("string"!=typeof t)return!1;if((t=t.replace(/\s+/,"")).includes(",")){if(t.startsWith("rgb("))return t.includes("%")?this.Aa(t):this.Ea(t);if(t.startsWith("rgba("))return t.includes("%")?this.Fa(t):this.Ra(t);if(t.startsWith("hsl(")||t.startsWith("hsla("))return this.Oa(t);{const s=t.split(",");return t.includes("%")?3===s.length?this.Aa(t):4===s.length&&this.Fa(t):3===s.length?this.Ea(t):4===s.length&&this.Ra(t)}}return this.Ia(t)}toJSON(){return[this.Ho,this.zo,this.Jo,this.qo]}La(t,s,i,e){let n,r,h;if(t%=360,s=u.gr(s,0,100),i=u.gr(i,0,100),e=u.gr(e,0,1),t/=360,i/=100,0==(s/=100))n=r=h=i;else{const o=i<.5?i*(1+s):i+s-i*s,a=2*i-o;n=l(a,o,t+1/3),r=l(a,o,t),h=l(a,o,t-1/3)}return this.Ko(n),this.Qo(r),this.ta(h),this.ia(e),this}Oa(t){const s=t.replace(/ |hsl|hsla|\(|\)|;/gi,""),i=It.exec(s),e=Ct.exec(s);return i&&4===i.length?(this.La(+i[1],+i[2],+i[3],1),!0):!(!e||5!==e.length||(this.La(+i[1],+i[2],+i[3],+i[4]),0))}ka(){const t=this.Ho,s=this.zo,i=this.Jo,e=this.qo,n=u.Uo.Ba(t,s,i),r=u.Uo.Na(t,s,i),h=u.Uo.Wa(t,s,i);return`hsla(${n}, ${r}%, ${h}%, ${e})`}ja(){const t=this.Ho,s=this.zo,i=this.Jo;return[u.Uo.Ba(t,s,i),u.Uo.Na(t,s,i),u.Uo.Wa(t,s,i),this.qo]}Va(t){!Array.isArray(t)||t.length<3||(this.Ho=t[0],this.zo=t[1],this.Jo=t[2],this.qo=4<=t.length?t[3]:1)}set r(t){this.Ko(t)}get r(){return this.na()}set Ua(t){this.Qo(t)}get Ua(){return this.ra()}set b(t){this.ta(t)}get b(){return this.oa()}set a(t){this.ia(t)}get a(){return this.aa()}Ha(t,s){switch(t){case 0:this.Ko(s);break;case 1:this.Qo(s);break;case 2:this.ta(s);break;case 3:this.ia(s);break;default:throw new RangeError("invalid color index")}}za(t){switch(t){case 0:return this.na();case 1:return this.ra();case 2:return this.oa();case 3:return this.aa();default:throw new RangeError("invalid color index")}}static Ja(t,s){let i,e;if(Array.isArray(t))(i=new u.Uo).Va(t);else{if(!(t instanceof u.Uo))throw new Error("unexpected type");i=t}if(Array.isArray(s))(e=new u.Uo).Va(s);else{if(!(s instanceof u.Uo))throw new Error("unexpected type");e=s}return i.equals(e)}static qa(t,s){return u.gr(Math.max(t,s)-Math.min(t,s),0,1)}static $a(t,s){const i=new u.Uo;return i.Ko(Math.max(t.Ho,s.Ho)-Math.min(t.Ho,s.Ho)),i.Qo(Math.max(t.zo,s.zo)-Math.min(t.zo,s.zo)),i.ta(Math.max(t.Jo,s.Jo)-Math.min(t.Jo,s.Jo)),i.ia(Math.max(t.qo,s.qo)-Math.min(t.qo,s.qo)),i}static Xa(t,s){const i=new u.Uo(0,0,0,1);return i.Ko(Math.max(t.Ho,s.Ho)-Math.min(t.Ho,s.Ho)),i.Qo(Math.max(t.zo,s.zo)-Math.min(t.zo,s.zo)),i.ta(Math.max(t.Jo,s.Jo)-Math.min(t.Jo,s.Jo)),i}static Ba(t,s,i){const e=Math.max(t,s,i),n=Math.min(t,s,i);if(e===n)return 0;let r=0;switch(e){case t:r=(s-i)/(e-n)+(s<i?6:0);break;case s:r=(i-t)/(e-n)+2;break;case i:r=(t-s)/(e-n)+4}return Math.round(r/6*360)}static Na(t,s,i){const e=Math.max(t,s,i),n=Math.min(t,s,i);if(e===n)return 0;const r=(e+n)/2,h=e-n,o=.5<r?h/(2-e-n):h/(e+n);return Math.round(100*o)}static Wa(t,s,i){const e=Math.max(t,s,i),n=Math.min(t,s,i),r=(e+n)/2;return e?Math.round(100*r):0}},u.Uo.Ya=Object.freeze(u.lr(u.Uo,1,1,1,1)),u.Uo.Za=Object.freeze(u.lr(u.Uo,0,0,0,1)),u.Uo.Ka=Object.freeze(u.lr(u.Uo,0,0,0,0))}{const Pt=self.Bs;Pt.Qa=class{constructor(t,s){this.tl=0,this.sl=0,t instanceof Pt.Qa?this.G(t):this.set(t||0,s||0)}set(t,s){this.tl=+t,this.sl=+s}G(t){this.tl=t.tl,this.sl=t.sl}equals(t){return this.tl===t.tl&&this.sl===t.sl}il(t,s){return this.tl===t&&this.sl===s}ya(t,s){return t[s]===Math.fround(this.tl)&&t[s+1]===Math.fround(this.sl)}el(t){this.tl=+t}nl(){return this.tl}rl(t){this.sl=+t}hl(){return this.sl}toArray(){return[this.tl,this.sl]}la(){return new Float64Array(this.toArray())}ua(t,s){t[s++]=this.tl,t[s]=this.sl}offset(t,s){this.tl+=+t,this.sl+=+s}scale(t,s){this.tl*=t,this.sl*=s}Ct(t,s){this.tl/=t,this.sl/=s}round(){this.tl=Math.round(this.tl),this.sl=Math.round(this.sl)}floor(){this.tl=Math.floor(this.tl),this.sl=Math.floor(this.sl)}ceil(){this.tl=Math.ceil(this.tl),this.sl=Math.ceil(this.sl)}angle(){return Pt.Tr(0,0,this.tl,this.sl)}ol(){return this.tl*this.tl+this.sl*this.sl}length(){return Math.hypot(this.tl,this.sl)}al(t,s){const i=this.tl*s-this.sl*t;this.sl=this.sl*s+this.tl*t,this.tl=i}rotate(t){0!==t&&this.al(Math.sin(t),Math.cos(t))}ll(t,s,i){0===t||s===this.tl&&i===this.sl||(this.tl-=s,this.sl-=i,this.al(Math.sin(t),Math.cos(t)),this.tl+=+s,this.sl+=+i)}move(t,s){0!==s&&(this.tl+=Math.cos(t)*s,this.sl+=Math.sin(t)*s)}normalize(){const t=this.length();0!==t&&1!==t&&(this.tl/=t,this.sl/=t)}gr(t,s){this.tl=Pt.gr(this.tl,t,s),this.sl=Pt.gr(this.sl,t,s)}Dt(t){return this.tl*t.tl+this.sl*t.sl}reverse(){this.tl=-this.tl,this.sl=-this.sl}ul(){let t=this.tl;return this.tl=this.sl,this.sl=-t,this}}}{const Et=self.Bs;Et.Rect=class{constructor(t,s,i,e){this.cl=NaN,this.fl=NaN,this.dl=NaN,this.pl=NaN,this.cl=0,this.fl=0,this.dl=0,this.pl=0,t instanceof Et.Rect?this.G(t):this.set(t||0,s||0,i||0,e||0)}set(t,s,i,e){this.cl=+t,this.fl=+s,this.dl=+i,this.pl=+e}ml(t,s,i,e){s=+s,this.cl=t=+t,this.fl=s,this.dl=t+ +i,this.pl=s+ +e}G(t){this.cl=+t.cl,this.fl=+t.fl,this.dl=+t.dl,this.pl=+t.pl}clone(){return new Et.Rect(this.cl,this.fl,this.dl,this.pl)}static gl(t,s){const i=new Et.Rect;return i.yl(Math.min(t.cl,s.cl)),i.wl(Math.min(t.fl,s.fl)),i.Sl(Math.max(t.dl,s.dl)),i.vl(Math.max(t.pl,s.pl)),i}static bl(t){return new Et.Rect(t.left,t.top,t.right,t.bottom)}equals(t){return this.cl===t.cl&&this.fl===t.fl&&this.dl===t.dl&&this.pl===t.pl}xl(t,s,i,e){return this.cl===t&&this.fl===s&&this.width()===i&&this.height()===e}ya(t,s){return t[s]===Math.fround(this.cl)&&t[s+1]===Math.fround(this.fl)&&t[s+2]===Math.fround(this.dl)&&t[s+3]===Math.fround(this.pl)}yl(t){this.cl=+t}Ml(){return this.cl}wl(t){this.fl=+t}Tl(){return this.fl}Sl(t){this.dl=+t}_l(){return this.dl}vl(t){this.pl=+t}Gl(){return this.pl}toArray(){return[this.cl,this.fl,this.dl,this.pl]}la(){return new Float64Array(this.toArray())}Il(){return new DOMRect(this.cl,this.fl,this.width(),this.height())}static Cl(t){return Et.lr(Et.Rect,t.left,t.top,t.right,t.bottom)}ua(t,s){t[s++]=this.cl,t[s++]=this.fl,t[s++]=this.dl,t[s]=this.pl}Pl(t,s){t[s++]=this.cl,t[s++]=this.fl,t[s++]=this.dl,t[s++]=this.fl,t[s++]=this.dl,t[s++]=this.pl,t[s++]=this.cl,t[s]=this.pl}El(t,s,i){t[s++]=this.cl,t[s++]=this.fl,t[s++]=i,t[s++]=this.dl,t[s++]=this.fl,t[s++]=i,t[s++]=this.dl,t[s++]=this.pl,t[s++]=i,t[s++]=this.cl,t[s++]=this.pl,t[s]=i}width(){return this.dl-this.cl}height(){return this.pl-this.fl}Al(){return(this.cl+this.dl)/2}Rl(){return(this.fl+this.pl)/2}offset(t,s){s=+s,this.cl+=t=+t,this.fl+=s,this.dl+=t,this.pl+=s}offsetLeft(t){this.cl+=+t}offsetTop(t){this.fl+=+t}Fl(t){this.dl+=+t}Dl(t){this.pl+=+t}Ol(t){if("x"!==t)throw new Error("invalid axis, only 'x' supported");this.fl<this.pl?this.cl<this.dl?this.pl=this.fl+this.width():this.pl=this.fl-this.width():this.cl<this.dl?this.pl=this.fl-this.width():this.pl=this.fl+this.width()}Ll(t,s){s=+s,this.cl-=t=+t,this.fl-=s,this.dl+=t,this.pl+=s}kl(t,s){s=+s,this.cl+=t=+t,this.fl+=s,this.dl-=t,this.pl-=s}multiply(t,s){this.cl*=t,this.fl*=s,this.dl*=t,this.pl*=s}Ct(t,s){this.cl/=t,this.fl/=s,this.dl/=t,this.pl/=s}Bl(t){this.cl=+t-this.cl,this.dl=+t-this.dl}Nl(t){this.fl=+t-this.fl,this.pl=+t-this.pl}Wl(t,s){const i=this.width(),e=this.height(),n=this.Ml()+i*t,r=this.Tl()+e*s;this.ml(n-e*s,r-i*t,e,i)}jl(){const t=this.cl;this.cl=this.dl,this.dl=t}Vl(){const t=this.fl;this.fl=this.pl,this.pl=t}Ul(t){const s=this.fl;this.fl=+t-this.pl,this.pl=+t-s}round(){this.cl=Math.round(this.cl),this.fl=Math.round(this.fl),this.dl=Math.round(this.dl),this.pl=Math.round(this.pl)}Hl(){this.cl=Math.ceil(this.cl),this.fl=Math.ceil(this.fl),this.dl=Math.floor(this.dl),this.pl=Math.floor(this.pl)}zl(){this.cl=Math.floor(this.cl),this.fl=Math.floor(this.fl),this.dl=Math.ceil(this.dl),this.pl=Math.ceil(this.pl)}floor(){this.cl=Math.floor(this.cl),this.fl=Math.floor(this.fl),this.dl=Math.floor(this.dl),this.pl=Math.floor(this.pl)}ceil(){this.cl=Math.ceil(this.cl),this.fl=Math.ceil(this.fl),this.dl=Math.ceil(this.dl),this.pl=Math.ceil(this.pl)}gr(t,s,i,e){this.cl=Math.max(this.cl,+t),this.fl=Math.max(this.fl,+s),this.dl=Math.min(this.dl,+i),this.pl=Math.min(this.pl,+e)}Jl(t,s,i,e){t=+t,s=+s,i=+i,e=+e,this.cl=Et.gr(this.cl,t,i),this.fl=Et.gr(this.fl,s,e),this.dl=Et.gr(this.dl,t,i),this.pl=Et.gr(this.pl,s,e)}normalize(){this.cl>this.dl&&this.jl(),this.fl>this.pl&&this.Vl()}ql(t){return!(t.dl<this.cl||t.pl<this.fl||t.cl>this.dl||t.fl>this.pl)}$l(t,s,i){return!(t.dl+s<this.cl||t.pl+i<this.fl||t.cl+s>this.dl||t.fl+i>this.pl)}Xl(t,s){return t>=this.cl&&t<=this.dl&&s>=this.fl&&s<=this.pl}Yl(t){return t.cl>=this.cl&&t.fl>=this.fl&&t.dl<=this.dl&&t.pl<=this.pl}Zl(t){t.cl<this.cl&&(this.cl=+t.cl),t.fl<this.fl&&(this.fl=+t.fl),t.dl>this.dl&&(this.dl=+t.dl),t.pl>this.pl&&(this.pl=+t.pl)}Kl(t){this.cl=Et.Lt(t.cl,t.dl,this.cl),this.fl=Et.Lt(t.fl,t.pl,this.fl),this.dl=Et.Lt(t.cl,t.dl,this.dl),this.pl=Et.Lt(t.fl,t.pl,this.pl)}}}{const At=self.Bs;At.Ql=class{constructor(t,s,i,e,n,r,h,o){this.tu=NaN,this.su=NaN,this.iu=NaN,this.eu=NaN,this.nu=NaN,this.ru=NaN,this.hu=NaN,this.ou=NaN,this.tu=0,this.su=0,this.iu=0,this.eu=0,this.nu=0,this.ru=0,this.hu=0,this.ou=0,t instanceof At.Ql?this.G(t):this.set(t||0,s||0,i||0,e||0,n||0,r||0,h||0,o||0)}set(t,s,i,e,n,r,h,o){this.tu=+t,this.su=+s,this.iu=+i,this.eu=+e,this.nu=+n,this.ru=+r,this.hu=+h,this.ou=+o}au(t,s,i,e){this.set(t,s,i,s,i,e,t,e)}G(t){this.tu=t.tu,this.su=t.su,this.iu=t.iu,this.eu=t.eu,this.nu=t.nu,this.ru=t.ru,this.hu=t.hu,this.ou=t.ou}equals(t){return this.tu===t.tu&&this.su===t.su&&this.iu===t.iu&&this.eu===t.eu&&this.nu===t.nu&&this.ru===t.ru&&this.hu===t.hu&&this.ou===t.ou}lu(t){this.tu=+t}ih(){return this.tu}uu(t){this.su=+t}eh(){return this.su}cu(t){this.iu=+t}nh(){return this.iu}fu(t){this.eu=+t}rh(){return this.eu}du(t){this.nu=+t}hh(){return this.nu}pu(t){this.ru=+t}oh(){return this.ru}mu(t){this.hu=+t}ah(){return this.hu}gu(t){this.ou=+t}lh(){return this.ou}yu(){return new DOMQuad(new DOMPoint(this.tu,this.su),new DOMPoint(this.iu,this.eu),new DOMPoint(this.nu,this.ru),new DOMPoint(this.hu,this.ou))}static wu(t){return At.lr(At.Ql,t.p1.x,t.p1.y,t.p2.x,t.p2.y,t.p3.x,t.p3.y,t.p4.x,t.p4.y)}toArray(){return[this.tu,this.su,this.iu,this.eu,this.nu,this.ru,this.hu,this.ou]}la(){return new Float64Array(this.toArray())}ua(t,s){t[s++]=this.tu,t[s++]=this.su,t[s++]=this.iu,t[s++]=this.eu,t[s++]=this.nu,t[s++]=this.ru,t[s++]=this.hu,t[s]=this.ou}Su(t,s,i){t[s++]=this.tu,t[s++]=this.su,t[s++]=i,t[s++]=this.iu,t[s++]=this.eu,t[s++]=i,t[s++]=this.nu,t[s++]=this.ru,t[s++]=i,t[s++]=this.hu,t[s++]=this.ou,t[s]=i}offset(t,s){s=+s,this.tu+=t=+t,this.su+=s,this.iu+=t,this.eu+=s,this.nu+=t,this.ru+=s,this.hu+=t,this.ou+=s}round(){this.tu=Math.round(this.tu),this.su=Math.round(this.su),this.iu=Math.round(this.iu),this.eu=Math.round(this.eu),this.nu=Math.round(this.nu),this.ru=Math.round(this.ru),this.hu=Math.round(this.hu),this.ou=Math.round(this.ou)}floor(){this.tu=Math.floor(this.tu),this.su=Math.floor(this.su),this.iu=Math.floor(this.iu),this.eu=Math.floor(this.eu),this.nu=Math.floor(this.nu),this.ru=Math.floor(this.ru),this.hu=Math.floor(this.hu),this.ou=Math.floor(this.ou)}ceil(){this.tu=Math.ceil(this.tu),this.su=Math.ceil(this.su),this.iu=Math.ceil(this.iu),this.eu=Math.ceil(this.eu),this.nu=Math.ceil(this.nu),this.ru=Math.ceil(this.ru),this.hu=Math.ceil(this.hu),this.ou=Math.ceil(this.ou)}vu(t){this.tu=t.cl,this.su=t.fl,this.iu=t.dl,this.eu=t.fl,this.nu=t.dl,this.ru=t.pl,this.hu=t.cl,this.ou=t.pl}bu(t,s){0===s?this.vu(t):this.xu(t,Math.sin(s),Math.cos(s))}xu(t,s,i){const e=t.cl*s,n=t.fl*s,r=t.dl*s,h=t.pl*s,o=t.cl*i,a=t.fl*i,l=t.dl*i,u=t.pl*i;this.tu=o-n,this.su=a+e,this.iu=l-n,this.eu=a+r,this.nu=l-h,this.ru=u+r,this.hu=o-h,this.ou=u+e}Mu(t){t.set(Math.min(this.tu,this.iu,this.nu,this.hu),Math.min(this.su,this.eu,this.ru,this.ou),Math.max(this.tu,this.iu,this.nu,this.hu),Math.max(this.su,this.eu,this.ru,this.ou))}Xl(t,s){let i=this.iu-this.tu,e=this.eu-this.su,n=this.nu-this.tu,r=this.ru-this.su,h=t-this.tu,o=s-this.su,a=i*i+e*e,l=i*n+e*r,u=i*h+e*o,c=n*n+r*r,f=n*h+r*o,d=1/(a*c-l*l),p=(c*u-l*f)*d,m=(a*f-l*u)*d;return 0<=p&&0<m&&p+m<1||(m=((a=(i=this.hu-this.tu)*i+(e=this.ou-this.su)*e)*f-(l=i*n+e*r)*(u=i*h+e*o))*(d=1/(a*c-l*l)),0<=(p=(c*u-l*f)*d)&&0<m&&p+m<1)}Al(){return(this.tu+this.iu+this.nu+this.hu)/4}Rl(){return(this.su+this.eu+this.ru+this.ou)/4}Tu(t,s,i,e){return!(!this.Xl(t,s)&&!this.Xl(i,e))||At.th(t,s,i,e,this)}_u(t){let s=t.Al(),i=t.Rl();if(this.Xl(s,i))return!0;if(s=this.Al(),i=this.Rl(),t.Xl(s,i))return!0;const e=this.tu,n=this.su,r=this.iu,h=this.eu,o=this.nu,a=this.ru,l=this.hu,u=this.ou;return At.th(e,n,r,h,t)||At.th(r,h,o,a,t)||At.th(o,a,l,u,t)||At.th(l,u,e,n,t)}Gu(){const t=this.tu,s=this.su;this.tu=this.iu,this.su=this.eu,this.iu=this.nu,this.eu=this.ru,this.nu=this.hu,this.ru=this.ou,this.hu=t,this.ou=s}Iu(){this.Cu(0,2),this.Cu(1,3),this.Cu(6,4),this.Cu(7,5)}Pu(){this.Cu(0,6),this.Cu(1,7),this.Cu(2,4),this.Cu(3,5)}Eu(){this.Cu(2,6),this.Cu(3,7)}Cu(t,s){const i=this.Au(t);this.Ru(t,this.Au(s)),this.Ru(s,i)}Au(t){switch(t){case 0:return this.tu;case 1:return this.su;case 2:return this.iu;case 3:return this.eu;case 4:return this.nu;case 5:return this.ru;case 6:return this.hu;case 7:return this.ou;default:throw new RangeError("invalid quad point index")}}Ru(t,s){switch(s=+s,t){case 0:this.tu=s;break;case 1:this.su=s;break;case 2:this.iu=s;break;case 3:this.eu=s;break;case 4:this.nu=s;break;case 5:this.ru=s;break;case 6:this.hu=s;break;case 7:this.ou=s;break;default:throw new RangeError("invalid quad point index")}}}}{const Rt=self.Bs,Ft=[0,0,1,0,1,1,0,1],Dt=Rt.lr(Rt.Ql);Rt.Fu=class extends Rt.rr{constructor(t,s=!0){super(),t=t||Ft,this.Du=Float64Array.from(t),this.Ou=new Rt.Rect,this.Lu=!0,this.ku=s}ur(){}Bu(){return this.Du}Nu(){return this.Du.length/2}Wu(t){this.Du.length===t.length?this.Du.set(t):this.Du=Float64Array.from(t),this.Lu=!0}ju(){this.Wu(Ft)}G(t){this.Wu(t.Du)}Vu(){this.Lu=!0}Uu(){if(this.Lu){let i=this.Du,e=i[0],n=i[1],r=e,h=n;for(let t=0,s=i.length;t<s;t+=2){const o=i[t],a=i[t+1];o<e&&(e=o),o>r&&(r=o),a<n&&(n=a),a>h&&(h=a)}this.Ou.set(e,n,r,h),this.Lu=!1}}vu(t,s,i){let e=this.Du;8!==e.length&&(e=new Float64Array(8),this.Du=e),e[0]=t.Ml()-s,e[1]=t.Tl()-i,e[2]=t._l()-s,e[3]=t.Tl()-i,e[4]=t._l()-s,e[5]=t.Gl()-i,e[6]=t.Ml()-s,e[7]=t.Gl()-i,this.Ou.G(t),0===s&&0===i||this.Ou.offset(-s,-i),this.Lu=!1}Hu(t,s,i){Dt.G(t),Dt.offset(s,i),this.Wu(Dt.toArray()),this.Lu=!0}transform(t,s,i){let e=0,n=1;0!==i&&(e=Math.sin(i),n=Math.cos(i)),this.zu(t,s,e,n)}zu(i,e,n,r){const h=this.Du;for(let t=0,s=h.length;t<s;t+=2){const o=t+1,a=h[t]*i,l=h[o]*e;h[t]=a*r-l*n,h[o]=l*r+a*n}this.Lu=!0}offset(i,e){const n=this.Du;for(let t=0,s=n.length;t<s;t+=2)n[t]+=i,n[t+1]+=e}Xl(i,e){const n=this.Du;if(i===n[0]&&e===n[1])return!0;this.Uu();let t=this.Ou,r=t.Ml()-110,h=t.Tl()-101,o=t._l()+131,a=t.Gl()+120,l=0,u=0,c,f,d=0,p=0,m,g,y=(c=r<i?(l=r,i):(l=i,r),f=h<e?(u=h,e):(u=e,h),m=o<i?(d=o,i):(d=i,o),g=a<e?(p=a,e):(p=e,a),0),w=0;for(let t=0,s=n.length;t<s;t+=2){const S=(t+2)%s,v=n[t],b=n[t+1],x=n[S],M=n[1+S];Rt.Qr(r,h,i,e,l,c,u,f,v,b,x,M)&&++y,Rt.Qr(o,a,i,e,d,m,p,g,v,b,x,M)&&++w}return y%2==1||w%2==1}Ju(t,c,f){const d=t.Du,p=this.Du;if(this.Xl(d[0]+c,d[1]+f))return!0;if(t.Xl(p[0]-c,p[1]-f))return!0;for(let s=0,u=p.length;s<u;s+=2){let t=(s+2)%u,i=p[s],e=p[s+1],n=p[t],r=p[1+t],h=0,o=0,a,l;a=i<n?(h=i,n):(h=n,i),l=e<r?(o=e,r):(o=r,e);for(let t=0,s=d.length;t<s;t+=2){const m=(t+2)%s,g=d[t]+c,y=d[t+1]+f,w=d[m]+c,S=d[1+m]+f;if(Rt.Qr(i,e,n,r,h,a,o,l,g,y,w,S))return!0}}return!1}Tu(i,e,n,r,h,o){if(this.Xl(n-i,r-e))return!0;if(this.Xl(h-i,o-e))return!0;let a=0,l=0,u,c;u=n<h?(a=n,h):(a=h,n),c=r<o?(l=r,o):(l=o,r);const f=this.Du;for(let t=0,s=f.length;t<s;t+=2){const d=(t+2)%s,p=f[t]+i,m=f[t+1]+e,g=f[d]+i,y=f[1+d]+e;if(Rt.Qr(n,r,h,o,a,u,l,c,p,m,g,y))return!0}return!1}Iu(i){const e=this.Du;for(let t=0,s=e.length;t<s;t+=2)e[t]=2*i-e[t];this.Lu=!0}Pu(i){const e=this.Du;for(let t=0,s=e.length;t<s;t+=2){const n=t+1;e[n]=2*i-e[n]}this.Lu=!0}Eu(){const i=this.Du;for(let t=0,s=i.length;t<s;t+=2){const e=t+1,n=i[t];i[t]=i[e],i[e]=n}this.Lu=!0}qu(){let i=this.Du,e=0;for(let t=0,s=i.length;t<s;t+=2)e+=i[t];return e/this.Nu()}$u(){let i=this.Du,e=0;for(let t=0,s=i.length;t<s;t+=2)e+=i[t+1];return e/this.Nu()}Xu(){return this.Du}Yu(){return this.Nu()}Zu(){return this.ku}}}{const Ot=self.Bs;Ot.Ku=class extends Ot.rr{constructor(t){if(super(),this.Qu=new Map,t)for(const[s,i,e]of t)this.Set(s,i,e)}ur(){this.tc(),this.Qu=null}sc(){return 0===this.Qu.size}tc(){const t=this.Qu;for(const s of t.values())s.clear();t.clear()}Set(t,s,i){let e=this.Qu,n=e.get(t);n||(n=new Map,e.set(t,n)),n.set(s,i)}ei(t,s){const i=this.Qu.get(t);return i&&i.get(s)}si(t,s){const i=this.Qu.get(t);return!!i&&i.has(s)}ic(t,s){const i=this.Qu,e=i.get(t);if(!e)return!1;const n=e.delete(s);return n&&0===e.size&&i.delete(t),n}ec(t){const s=this.Qu,i=s.get(t);i&&(i.clear(),s.delete(t));for(const[e,n]of s.entries())n.delete(t)&&0===n.size&&s.delete(e)}nc(){let t=0;for(const s of this.Qu.values())t+=s.size;return t}*values(){for(const t of this.Qu.values())yield*t.values()}*rc(){for(const[t,s]of this.Qu.entries())for(const i of s.keys())yield[t,i]}*entries(){for(const[t,s]of this.Qu.entries())for(const[i,e]of s.entries())yield[t,i,e]}}}{const Lt=self.Bs;Lt.hc=class extends Lt.rr{constructor(){super(),this.oc=new Set,this.ac=[],this.lc=!1}ur(){this.tc()}tc(){this.oc.clear(),Lt.Bh(this.ac),this.lc=!1}uc(t){this.oc.has(t)||(this.oc.add(t),this.lc)||this.ac.push(t)}si(t){return this.oc.has(t)}ic(t){this.oc.delete(t)&&(this.lc=!0)}nc(){return this.oc.size}sc(){return 0===this.oc.size}cc(){return this.lc&&(this.fc(),this.lc=!1),this.ac}fc(){const t=this.ac;Lt.Bh(t);for(const s of this.oc)t.push(s)}}}{const kt=self.Bs,Bt=new Map,Nt=new Map,Wt=new Map,jt=new Map,Vt=new Map,Ut=new Map,Ht=new Map,zt=new Map,Jt=new Map,qt=(Jt.set("linear","noease"),Jt.set("default","noease"),["default","noease","easeinquad","easeoutquad","easeinoutquad","easeincubic","easeoutcubic","easeinoutcubic","easeinquart","easeoutquart","easeinoutquart","easeinquint","easeoutquint","easeinoutquint","easeinsine","easeoutsine","easeinoutsine","easeinexpo","easeoutexpo","easeinoutexpo","easeincirc","easeoutcirc","easeinoutcirc","easeinelastic","easeoutelastic","easeinoutelastic","easeinback","easeoutback","easeinoutback","easeinbounce","easeoutbounce","easeinoutbounce"]),$t=["default","noease","quad","cubic","quart","quint","sine","expo","circ","elastic","back","bounce"],Xt=new Map([["linear","noease"],["in-sine","easeinsine"],["out-sine","easeoutsine"],["in-out-sine","easeinoutsine"],["in-elastic","easeinelastic"],["out-elastic","easeoutelastic"],["in-out-elastic","easeinoutelastic"],["in-back","easeinback"],["out-back","easeoutback"],["in-out-back","easeinoutback"],["in-bounce","easeinbounce"],["out-bounce","easeoutbounce"],["in-out-bounce","easeinoutbounce"],["in-cubic","easeincubic"],["out-cubic","easeoutcubic"],["in-out-cubic","easeinoutcubic"],["in-quadratic","easeinquad"],["out-quadratic","easeoutquad"],["in-out-quadratic","easeinoutquad"],["in-quartic","easeinquart"],["out-quartic","easeoutquart"],["in-out-quartic","easeinoutquart"],["in-quintic","easeinquint"],["out-quintic","easeoutquint"],["in-out-quintic","easeinoutquint"],["in-circular","easeincirc"],["out-circular","easeoutcirc"],["in-out-circular","easeinoutcirc"],["in-exponential","easeinexpo"],["out-exponential","easeoutexpo"],["in-out-exponential","easeinoutexpo"]]),Yt=(self.mc=class ns{constructor(){}static yc(){return"default"}static wc(){return"noease"}static Sc(t){return Xt.get(t)}static vc(s,...i){this.xc();let t,e=(s?(Wt.has(s)||Wt.set(s,new Map),[...(t=Wt.get(s)).keys()].filter(t=>!ns.Mc(t,s)||ns.Mc(t,s).transition.IsForAnyPurpose())):[...(t=Vt).keys()]).sort();return[...Nt.keys()].concat(e).filter(t=>!i.includes(t))}static Tc(){this.xc();const t=[...Vt.keys()];return t.sort(),[...Nt.keys()].concat(t)}static _c(){this.xc();const t=[...Vt.keys()];return t.sort(),t}static Gc(t){for(const s of qt){const i=self.lang("ui.bars.timeline.eases."+s);if(i===t)return!0}for(const e of $t){const n=self.lang("ui.bars.timeline.short-eases."+e);if(n===t)return!0}}static Ic(t){return this.xc(),[...Nt.keys()].includes(t)}static Cc(t){const s=Jt.get(t);return s?Bt.get(s):ns.Ic(t)?Bt.get(t):Ht.has(t)?Ht.get(t):void 0}static Pc(t){return this.xc(),zt.get(t)}static Ec(t,s){this.xc();const i=ns.Cc(t);if(i)return i;if(s)return Wt.get(s).get(t);throw new Error("missing ease function")}static Mc(t,s){this.xc();const i=jt.get(s);if(i)return i.get(t)}static Ac(t,s){this.xc();const i=ns.Cc(t);return!!i||!!Wt.get(s).get(t)}static Rc(t){this.xc();const s=ns.Cc(t);return s||Vt.get(t)}static Fc(t){return this.xc(),Ut.get(t)}static Dc(t){this.xc();const s=this.Tc();return s[t]}static Oc(t,s){this.xc();const i=this.vc(s);return i.indexOf(t)}static Lc(t){return this.Oc(t)}static xc(){0===Bt.size&&(this.kc("default",()=>{}),this.kc("noease",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}],!0),this.kc("easeinsine",[{x:0,y:0,sax:.485,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.038,eay:0,se:!1,ee:!0}]),this.kc("easeoutsine",[{x:0,y:0,sax:.038,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.485,eay:0,se:!1,ee:!0}]),this.kc("easeinoutsine",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}]),this.kc("easeinelastic",[{x:0,y:0,sax:.018,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.116,y:.002,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.266,y:-.005,sax:.024,say:0,eax:-.021,eay:0,se:!0,ee:!0},{x:.416,y:.016,sax:.024,say:0,eax:-.026,eay:0,se:!0,ee:!0},{x:.566,y:-.045,sax:.061,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.716,y:.132,sax:.072,say:-.004,eax:-.045,eay:0,se:!0,ee:!0},{x:.866,y:-.373,sax:.06,say:0,eax:-.049,eay:-.002,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.038,eay:-.263,se:!1,ee:!0}]),this.kc("easeoutelastic",[{x:0,y:0,sax:.038,say:.263,eax:0,eay:0,se:!0,ee:!1},{x:.136,y:1.373,sax:.049,say:.002,eax:-.06,eay:0,se:!0,ee:!0},{x:.286,y:.868,sax:.045,say:0,eax:-.072,eay:.004,se:!0,ee:!0},{x:.436,y:1.045,sax:.025,say:0,eax:-.061,eay:0,se:!0,ee:!0},{x:.586,y:.984,sax:.026,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.736,y:1.005,sax:.021,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.886,y:.998,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.018,eay:0,se:!1,ee:!0}]),this.kc("easeinoutelastic",[{x:0,y:0,sax:.025,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.067,y:.001,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.18,y:-.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.292,y:.025,sax:.053,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.405,y:-.118,sax:.069,say:0,eax:-.027,eay:0,se:!0,ee:!0},{x:.597,y:1.118,sax:.027,say:0,eax:-.069,eay:0,se:!0,ee:!0},{x:.71,y:.975,sax:.025,say:0,eax:-.053,eay:0,se:!0,ee:!0},{x:.822,y:1.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.935,y:.999,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.025,eay:0,se:!1,ee:!0}]),this.kc("easeinback",[{x:0,y:0,sax:.35,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.34,eay:-1.579,se:!1,ee:!0}]),this.kc("easeoutback",[{x:0,y:0,sax:.34,say:1.579,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.35,eay:0,se:!1,ee:!0}]),this.kc("easeinoutback",[{x:0,y:0,sax:.035,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.242,y:-.1,sax:.258,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.76,y:1.1,sax:.025,say:0,eax:-.26,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.035,eay:0,se:!1,ee:!0}]),this.kc("easeinbounce",[{x:0,y:0,sax:.033,say:.025,eax:0,eay:0,se:!0,ee:!1},{x:.092,y:0,sax:.026,say:.078,eax:-.033,eay:.025,se:!0,ee:!0},{x:.274,y:0,sax:.097,say:.319,eax:-.026,eay:.078,se:!0,ee:!0},{x:.637,y:0,sax:.105,say:.625,eax:-.097,eay:.319,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:-.004,se:!1,ee:!0}]),this.kc("easeoutbounce",[{x:0,y:0,sax:.125,say:.004,eax:0,eay:0,se:!0,ee:!1},{x:.365,y:1,sax:.097,say:-.319,eax:-.105,eay:-.625,se:!0,ee:!0},{x:.728,y:1,sax:.026,say:-.078,eax:-.097,eay:-.319,se:!0,ee:!0},{x:.91,y:1,sax:.033,say:-.025,eax:-.026,eay:-.078,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.033,eay:-.025,se:!1,ee:!0}]),this.kc("easeinoutbounce",[{x:0,y:0,sax:.01,say:.006,eax:0,eay:0,se:!0,ee:!1},{x:.046,y:0,sax:.021,say:.038,eax:-.01,eay:.006,se:!0,ee:!0},{x:.137,y:0,sax:.059,say:.158,eax:-.021,eay:.038,se:!0,ee:!0},{x:.319,y:0,sax:.117,say:.744,eax:-.059,eay:.158,se:!0,ee:!0},{x:.683,y:1,sax:.059,say:-.158,eax:-.117,eay:-.744,se:!0,ee:!0},{x:.865,y:1,sax:.021,say:-.038,eax:-.059,eay:-.158,se:!0,ee:!0},{x:.956,y:1,sax:.01,say:-.006,eax:-.021,eay:-.038,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.01,eay:-.006,se:!1,ee:!0}]),this.kc("easeincubic",[{x:0,y:0,sax:.75,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.138,eay:-.321,se:!1,ee:!0}]),this.kc("easeoutcubic",[{x:0,y:0,sax:.138,say:.321,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.75,eay:0,se:!1,ee:!0}]),this.kc("easeinoutcubic",[{x:0,y:0,sax:.285,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.081,say:.272,eax:-.081,eay:-.272,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.285,eay:0,se:!1,ee:!0}]),this.kc("easeinquad",[{x:0,y:0,sax:.4,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.178,eay:-.392,se:!1,ee:!0}]),this.kc("easeoutquad",[{x:0,y:0,sax:.178,say:.392,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.4,eay:0,se:!1,ee:!0}]),this.kc("easeinoutquad",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.03,say:.065,eax:-.03,eay:-.065,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.kc("easeinquart",[{x:0,y:0,sax:.25,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.5,eay:0,se:!1,ee:!0}]),this.kc("easeoutquart",[{x:0,y:0,sax:.5,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:-1,se:!1,ee:!0}]),this.kc("easeinoutquart",[{x:0,y:0,sax:.765,say:.03,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.765,eay:-.03,se:!1,ee:!0}]),this.kc("easeinquint",[{x:0,y:0,sax:.6,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.2,eay:-1,se:!1,ee:!0}]),this.kc("easeoutquint",[{x:0,y:0,sax:.2,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.6,eay:0,se:!1,ee:!0}]),this.kc("easeinoutquint",[{eax:0,eay:0,ee:!1,sax:.84,say:0,se:!0,x:0,y:0},{eax:-.84,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.kc("easeincirc",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.024,eay:-.808,se:!1,ee:!0}]),this.kc("easeoutcirc",[{x:0,y:0,sax:.024,say:.808,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.kc("easeinoutcirc",[{x:0,y:0,sax:.125,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.02,say:.428,eax:-.02,eay:-.428,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:0,se:!1,ee:!0}]),this.kc("easeinexpo",[{x:0,y:0,sax:.66,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.14,eay:-1,se:!1,ee:!0}]),this.kc("easeoutexpo",[{x:0,y:0,sax:.14,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.66,eay:0,se:!1,ee:!0}]),this.kc("easeinoutexpo",[{eax:0,eay:0,ee:!1,sax:.345,say:0,se:!0,x:0,y:0},{eax:-.06,eay:-.5,ee:!0,sax:.06,say:.5,se:!0,x:.5,y:.5},{eax:-.335,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.Bc("cubicbezier",this.Nc),this.Bc("spline",this.Wc))}static kc(t,s,i=!1){if("function"==typeof s)ns.jc(t,s,"predefined");else{if(!kt.je(s))throw new Error("unexpected arguments");if(self.BuiltInTransition){const n=kt.lr(self.BuiltInTransition,t,i);n.SetFromJson(s),ns.jc(t,(t,s,i,e)=>n.Vc(t,s,i,e),"predefined"),zt.set(t,n)}else{const r=kt.lr(kt.Uc,[t,s.map(t=>[t.x,t.y,t.sax,t.say,t.eax,t.eay,t.se,t.ee])],!1);r.Hc(i),ns.jc(t,(t,s,i,e)=>r.Vc(t,s,i,e),"predefined")}}}static Bc(t,s){ns.jc(t,s,"private")}static zc(t,s,i,e){this.xc(),ns.jc(t,s,"custom",i,e)}static Jc(t,s){if(!this.Ic(t)&&![...Ht.keys()].includes(t)){const i=Wt.get(s),e=(i&&i.delete(t),jt.get(s));e&&e.delete(t)}}static jc(t,s,i,e,n){switch(i){case"predefined":Bt.set(t,s),Nt.set(t,s);break;case"custom":if(e){Wt.has(e)||Wt.set(e,new Map),jt.has(e)||jt.set(e,new Map);const r=Wt.get(e),h=(r.set(t,s),jt.get(e));h.set(t,n)}else Vt.set(t,s),Ut.set(t,n);break;case"private":Bt.set(t,s),Ht.set(t,s);break;default:throw new Error("unexpected ease mode")}}static qc(t,s,i,e){return 0===e?s:i*t/e+s}static Nc(t,s,i,e,n){const r=s,h=3*t*(i-s),o=3*t**2*(s+e-2*i),a=t**3*(n-s+3*i-3*e);return r+h+o+a}static Wc(t,s,i,e,n,r,h,o,a,l){if(e===n&&r===h)return t;const u=es(t,s,e,r,o,l),c=Kt(i,n,h,a),f=Qt(i,n,h,a),d=ts(i,n,h,a);return ss(u,c,f,d)}static $c(t,s,i,e){const n=[],r=Kt(t,s,i,e),h=Qt(t,s,i,e),o=ts(t,s,i,e);for(let t=0;t<Yt;++t){const a=ss(t*Zt,r,h,o);n.push(a)}return n}},11),Zt=1/(Yt-1),Kt=(t,s,i,e)=>e-3*i+3*s-t,Qt=(t,s,i,e)=>3*i-6*s+3*t,ts=(t,s,i,e)=>3*(s-t),ss=(t,s,i,e)=>((s*t+i)*t+e)*t,is=(t,s,i,e)=>3*s*t*t+2*i*t+e,es=(h,t,s,i,e,n)=>{if(1==h)return 1;let o=0,r=1,a=n[r],l=Yt-1;for(Yt;r!=l&&a<=h;)r++,a=n[r],o+=Zt;r--;let u=(h-(a=n[r]))/(n[r+1]-a),c=o+u*Zt,f=Kt(t,s,i,e),d=Qt(t,s,i,e),p=ts(t,s,i,e),m=is(c,f,d,p);if(0===m)return c;if(.01<=m){for(let t=0;t<4;++t){const g=ss(c,f,d,p)-h,y=is(c,f,d,p);c-=g/y}return c}{let s=o,i=o+Zt,e=0,n,r;do{c=s+(i-s)/2;let t=ss(c,f,d,p)-h;0<t?i=c:s=c,n=1e-7<Math.abs(t),r=++e<10}while(n&&r);return c}}}{let o=function(t){rs.Ge(t)};o;const rs=self.Bs;rs.Xc=class{constructor(t){this.Yc=[],this.pr=t||"",this.Zc=0}ur(){this.tc(),this.Yc=null}Kc(){return this.pr}tc(){rs.Nh(this.Yc),this.Zc=0}Qc(){return this.Zc}tf(t=Math.random()*this.Qc()){let s=0;for(const[i,e]of this.Yc)if(t<(s+=i))return e;return 0}if(t,s){o(s),this.Zc+=t,this.Yc.push([t,s])}ef(s,i){o(i);const e=0===s;for(let t=0;t<this.Yc.length;t++){const n=this.Yc[t],r=e||n[0]===s,h=n[1]===i;if(r&&h){this.Yc.splice(t,1),this.Zc-=n[0];break}}}nf(){return JSON.stringify(this.Yc)}static rf(t,s){const i=new rs.Xc(s),e=JSON.parse(t);for(const n of e){const r=n[0],h=n[1];i.if(r,h)}return i}}}{let t=self.Bs,i=0;t.hf=class{constructor(t,s){this.lf=t,this.uf=s,this.cf=i++,this.lf.ff("runtime","screen-reader-text",{type:"create",id:this.cf,text:this.uf})}ur(){this.lf.ff("runtime","screen-reader-text",{type:"release",id:this.cf}),this.lf=null,this.uf="",this.cf=-1}df(t){this.uf!==t&&(this.uf=t,this.lf.ff("runtime","screen-reader-text",{type:"update",id:this.cf,text:this.uf}))}}}{const hs=self.Bs;hs.Event=class{constructor(t,s){this.type=t,this.cancelable=!!s,this.defaultPrevented=!1,this.pf=!1,this.mf=!1}preventDefault(){if(!this.cancelable)throw new Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw new Error(`event '${this.type}' cannot be stopped`);if(this.mf)throw new Error(`cannot stop async event '${this.type}' propagation`);this.pf=!0}}}{const os=self.Bs;os.Event.gf=class extends os.rr{constructor(t){super(),this.yf=t,this.wf=[],this.Sf=new Set,this.vf=[],this.bf=new Set,this.xf=0,this.Mf=[]}ur(){0<this.xf||(os.Bh(this.wf),this.Sf.clear(),os.Bh(this.vf),this.bf.clear(),os.Bh(this.Mf),os.ur(this))}Tf(t,s){this._f()?this.Mf.push({Gf:"add",If:t,capture:s}):s?this.Sf.has(t)||(this.wf.push(t),this.Sf.add(t)):this.bf.has(t)||(this.vf.push(t),this.bf.add(t))}Cf(t,s){this._f()?this.Mf.push({Gf:"remove",If:t,capture:s}):s?this.Sf.has(t)&&(this.Sf.delete(t),os.Hh(this.wf,t)):this.bf.has(t)&&(this.bf.delete(t),os.Hh(this.vf,t))}Pf(){return!this.wf.length&&!this.vf.length}_f(){return 0<this.xf}Ef(){const t=new Set,s=new Set;for(const i of this.Mf)if("add"===i.Gf)this.Tf(i.If,i.capture),(i.capture?s:t).delete(i.If);else{if("remove"!==i.Gf)throw new Error("invalid op");(i.capture?(this.Sf.delete(i.If),s):(this.bf.delete(i.If),t)).add(i.If)}os.qh(this.vf,t),os.qh(this.wf,s),os.Bh(this.Mf)}Af(i){this.Rf();let e=!1;for(let t=0,s=this.wf.length;t<s;++t)if(this.wf[t](i),i.pf){e=!0;break}if(!e)for(let t=0,s=this.vf.length;t<s&&(this.vf[t](i),!i.pf);++t);return this.Ff(),!i.defaultPrevented}Df(i){this.Rf();for(let t=0,s=this.wf.length;t<s;++t)this.wf[t](i);for(let t=0,s=this.vf.length;t<s;++t)this.vf[t](i);return this.Ff(),!0}Rf(){this.xf++}Ff(){this.xf--,0===this.xf&&0<this.Mf.length&&this.Ef()}Of(t){t?this.Rf():this.Ff()}Lf(i){let e=[];for(let s=0,t=this.wf.length;s<t;++s){let t=this.wf[s];e.push(os.kf(()=>t(i)))}for(let s=0,t=this.vf.length;s<t;++s){let t=this.vf[s];e.push(os.kf(()=>t(i)))}return Promise.all(e).then(()=>!i.defaultPrevented)}Bf(i){const e=[];this.Rf();for(let t=0,s=this.wf.length;t<s;++t){const n=this.wf[t](i);n instanceof Promise&&e.push(n)}for(let t=0,s=this.vf.length;t<s;++t){const r=this.vf[t](i);r instanceof Promise&&e.push(r)}return this.Ff(),e.length?Promise.all(e).then(()=>!i.defaultPrevented):!i.defaultPrevented}async Nf(t){return this.Bf(t)}async Wf(i){this.Rf();for(let t=0,s=this.wf.length;t<s;++t){const e=this.wf[t](i);e instanceof Promise&&await e}for(let t=0,s=this.vf.length;t<s;++t){const n=this.vf[t](i);n instanceof Promise&&await n}return this.Ff(),!i.defaultPrevented}*jf(i){this.Rf();for(let t=0,s=this.wf.length;t<s;++t){const e=this.wf[t](i);os.jo(e)&&(yield*e)}for(let t=0,s=this.vf.length;t<s;++t){const n=this.vf[t](i);os.jo(n)&&(yield*n)}this.Ff()}}}{const as=self.Bs;as.Event.Vf=class extends as.rr{constructor(){super(),this.Uf=new Map,this.Hf=!1}ur(){if(this.Hf)throw new Error("already released");this.zf(),this.Hf=!0,as.ur(this)}cr(){return this.Hf}zf(){if(this.Uf){for(let t of this.Uf.values())t.ur();this.Uf.clear()}}Jf(t,s){let i=this.Uf.get(t);return i||(s?(i=as.lr(as.Event.gf,t),this.Uf.set(t,i),i):null)}qf(t){return this.Uf.has(t)}addEventListener(t,s,i){let e=this.Jf(t,!0);e.Tf(s,!!i)}removeEventListener(t,s,i){let e=this.Jf(t,!1);e&&(e.Cf(s,!!i),e.Pf())&&this.Uf.delete(t)}dispatchEvent(t){const s=this.Jf(t.type,!1);return!s||(t.cancelable?s.Af(t):s.Df(t))}$f(t){const s=this.Jf(t.type,!1);return s?(t.mf=!0,s.Lf(t)):Promise.resolve(!0)}async Xf(t){const s=this.Jf(t.type,!1);if(!s)return!0;this.Uf.delete(t.type),t.mf=!0;const i=await s.Lf(t);return s.ur(),i}async Yf(t){const s=this.Jf(t.type,!1);return!s||s.Nf(t)}Zf(t){const s=this.Jf(t.type,!1);return!s||s.Bf(t)}async Kf(t){const s=this.Jf(t.type,!1);return!s||s.Wf(t)}Qf(t){const s=this.Jf(t.type,!1);if(!s)return null;if(t.cancelable)throw new Error("not supported");return s.jf(t)}Of(t){for(const s of this.Uf.values())s.Of(t)}}}{let r=function(t){c=l&&0===f?requestIdleCallback(s,{timeout:i}):setTimeout(s,0<f?1:t)},s=function(n){if(c=-1,u.length){let i=performance.now(),e=i,t=0,s;for(;h(u.shift()),e=performance.now(),++t,s=(e-i)/t*1.1,u.length&&(l&&0===f&&void 0!==n?s<n.timeRemaining():e-i+s<o););if(-1===c&&u.length){let t=e-i,s=Math.max(a-t,4);r(s)}}},h=function(s){let t;try{t=s.If()}catch(t){return void s.reject(t)}s.resolve(t)},t=(r,s,h,self.Bs),o=12,a=16,i=35,l="undefined"!=typeof requestIdleCallback,u=[],c=-1,f=0,n=t.hi.si("disable-asyncify");n&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously."),t.kf=function(i){let e=null;return t.isDebug&&(e=t.pe()),new Promise((t,s)=>{u.push({If:i,resolve:t,reject:s,stack:e}),n?h(u.pop()):-1===c&&r(a)})},t.kf.t0=function(t){if(t)++f;else if(--f<0)throw new Error("already turned off high throughput mode")}}{let t=function(){r=-1},s=function(){h=-1,o=-1;let i=Date.now();for(let s of a)if(s.s0(i)){let t=s.i0();(-1===o||t<o)&&(o=t)}else a.delete(s);if(-1!==o){let t=Math.max(o-i+n,e);h=self.setTimeout(s,t)}},i=(t,s,self.Bs),e=1e3,n=100,r=-1,h=(i.e0=function(){return-1===r&&(r=Date.now(),self.setTimeout(t,16)),r},-1),o=-1,a=new Set;i.n0=class{constructor(t,s){this.r0=t,this.h0=1e3*s,this.o0=0,this.a0=!1}l0(){let t=i.e0();this.o0=t+this.h0,this.a0||(a.add(this),this.a0=!0),-1===h?(o=this.o0,h=self.setTimeout(s,this.h0+n)):this.o0<o&&o>t+e&&(self.clearTimeout(h),o=this.o0,h=self.setTimeout(s,this.h0+n))}s0(t){return!(t>=this.o0)||(this.r0()?(this.o0=t+this.h0,!0):this.a0=!1)}i0(){return this.o0}u0(){this.a0&&(a.delete(this),this.a0=!1,0===a.size)&&-1!==h&&(self.clearTimeout(h),h=-1,o=-1)}ur(){this.u0(),this.r0=null}}}{const ls=self.Bs;ls.c0=class us{constructor(t){this.f0=!1,this.d0=t}p0(){this.f0||(this.f0=!0,this.d0&&(this.d0(),this.d0=null))}m0(){return this.f0}ur(){this.p0()}static ur(t){return new us(()=>t.ur())}static g0(s,i,e,n,t){if(null==n)n=!1;else if("boolean"!=typeof n&&"object"!=typeof n)throw new TypeError("invalid event listener options");if(t&&(e=e.bind(t)),i.includes(" ")){i=i.split(" ");const r=new ls.y0;for(let t of i)s.addEventListener(t,e,n),r.uc(ls.lr(ls.c0,()=>s.removeEventListener(t,e,n)));return r}return s.addEventListener(i,e,n),ls.lr(ls.c0,()=>s.removeEventListener(i,e,n))}},ls.w0=class extends ls.c0{S0(t){this.d0=t}},ls.y0=class extends ls.c0{constructor(...s){super(),this.v0=new Set;for(let t of s)this.uc(t)}uc(...s){if(this.f0)throw new Error("already disposed");for(let t of s)this.v0.add(t)}b0(t){if(this.f0)throw new Error("already disposed");this.v0.delete(t)}x0(){if(this.f0)throw new Error("already disposed");if(this.v0){for(let t of this.v0)t.p0();this.v0.clear()}}m0(){return this.f0}p0(){if(this.f0)throw new Error("already disposed");this.f0=!0;for(let t of this.v0)t.p0();this.v0.clear(),this.v0=null}ur(){this.p0()}}}{const cs=self.Bs;cs.M0=class extends cs.rr{constructor(){super(),this.T0=0,this.sl=0,this._0=0,this.G0=0}uc(t){this.sl=(t=+t)-this.T0,this._0=this.G0+this.sl,this.T0=this._0-this.G0-this.sl,this.G0=this._0}I0(t){this.G0-=+t}ei(){return this.G0}l0(){this.T0=0,this.sl=0,this._0=0,this.G0=0}Set(t){this.T0=0,this.sl=0,this._0=0,this.G0=+t}C0(t){this.T0=t.T0,this.sl=t.sl,this._0=t._0,this.G0=t.G0}ur(){}}}{const fs=self.Bs,h={};h.P0=function(t){this.E0=t,this.right=this.E0.A0,this.left=this.E0.A0,this.parent=null,this.color=!1,this.key=null},h.R0=function(t){this.size=0,this.A0=new h.P0(this),this.A0.color=!1,this.root=this.A0,this.root.parent=this.A0,this.compare=t||this.F0},h.R0.prototype.F0=function(t,s){return t<s?-1:s<t?1:0},h.R0.prototype.clone=function(){var t=new h.R0(this.compare);return t.D0(this),t},h.R0.prototype.clear=function(){this.size=0,this.A0=new h.P0(this),this.A0.color=!1,this.root=this.A0,this.root.parent=this.A0},h.R0.prototype.O0=function(t){var s=t.right;t.right=s.left,s.left!=this.A0&&(s.left.parent=t),s.parent=t.parent,t.parent==this.A0?this.root=s:t==t.parent.left?t.parent.left=s:t.parent.right=s,(s.left=t).parent=s},h.R0.prototype.L0=function(t){var s=t.left;t.left=s.right,s.right!=this.A0&&(s.right.parent=t),s.parent=t.parent,t.parent==this.A0?this.root=s:t==t.parent.right?t.parent.right=s:t.parent.left=s,(s.right=t).parent=s},h.R0.prototype.k0=function(t){if(this.contains(t))this.B0(t).key=t;else{for(var s=new h.P0(this),i=(s.key=t,this.A0),e=this.root;e!=this.A0;)i=e,e=this.compare(s.key,e.key)<0?e.left:e.right;(s.parent=i)==this.A0?this.root=s:this.compare(s.key,i.key)<0?i.left=s:i.right=s,s.left=this.A0,s.right=this.A0,s.color=!0,this.N0(s),this.size++}},h.R0.prototype.N0=function(t){for(;t!=this.A0&&t!=this.root&&1==t.parent.color;){var s;t.parent==t.parent.parent.left?1==(s=t.parent.parent.right).color?(t.parent.color=!1,s.color=!1,t.parent.parent.color=!0,t=t.parent.parent):(t==t.parent.right&&(t=t.parent,this.O0(t)),t.parent.color=!1,t.parent.parent.color=!0,t.parent.parent!=this.A0&&this.L0(t.parent.parent)):1==(s=t.parent.parent.left).color?(t.parent.color=!1,s.color=!1,t.parent.parent.color=!0,t=t.parent.parent):(t==t.parent.left&&(t=t.parent,this.L0(t)),t.parent.color=!1,t.parent.parent.color=!0,t.parent.parent!=this.A0&&this.O0(t.parent.parent))}this.root.color=!1},h.R0.prototype.W0=function(t){var s=t.left==this.A0||t.right==this.A0?t:this.j0(t),i=s.left!=this.A0?s.left:s.right;i.parent=s.parent,s.parent==this.A0?this.root=i:s==s.parent.left?s.parent.left=i:s.parent.right=i,s!=t&&(t.key=s.key),0==s.color&&this.V0(i),this.size--},h.R0.prototype.V0=function(t){for(;t!=this.root&&0==t.color;){var s;t=t==t.parent.left?(1==(s=t.parent.right).color&&(s.color=!1,t.parent.color=!0,this.O0(t.parent),s=t.parent.right),0==s.left.color&&0==s.right.color?(s.color=!0,t.parent):(0==s.right.color&&(s.left.color=!1,s.color=!0,this.L0(s),s=t.parent.right),s.color=t.parent.color,t.parent.color=!1,s.right.color=!1,this.O0(t.parent),this.root)):(1==(s=t.parent.left).color&&(s.color=!1,t.parent.color=!0,this.L0(t.parent),s=t.parent.left),0==s.right.color&&0==s.left.color?(s.color=!0,t.parent):(0==s.left.color&&(s.right.color=!1,s.color=!0,this.O0(s),s=t.parent.left),s.color=t.parent.color,t.parent.color=!1,s.left.color=!1,this.L0(t.parent),this.root))}t.color=!1},h.R0.prototype.remove=function(t){var s;return(t=this.B0(t))!=this.A0?(s=t.key,this.W0(t),s):null},h.R0.prototype.U0=function(t,s){this.remove(s)},h.R0.prototype.min=function(t){for(;t.left!=this.A0;)t=t.left;return t},h.R0.prototype.max=function(t){for(;t.right!=this.A0;)t=t.right;return t},h.R0.prototype.j0=function(t){if(t.right!=this.A0)return this.min(t.right);for(var s=t.parent;s!=this.A0&&t==s.right;)s=(t=s).parent;return s},h.R0.prototype.H0=function(t){if(t.left!=this.A0)return this.max(t.left);for(var s=t.parent;s!=this.A0&&t==s.left;)s=(t=s).parent;return s},h.R0.prototype.z0=function(t){if(0<this.size){var s=this.B0(t);if(s==this.A0)return null;if(s.right!=this.A0)return this.min(s.right).key;for(var i=s.parent;i!=this.A0&&s==i.right;)i=(s=i).parent;return i!=this.A0?i.key:null}return null},h.R0.prototype.J0=function(t){if(0<this.size){var s=this.B0(t);if(s==this.A0)return null;if(s.left!=this.A0)return this.max(s.left).key;for(var i=s.parent;i!=this.A0&&s==i.left;)i=(s=i).parent;return i!=this.A0?i.key:null}return null},h.R0.prototype.q0=function(){return this.min(this.root).key},h.R0.prototype.$0=function(){return this.max(this.root).key},h.R0.prototype.B0=function(t){for(var s=this.root;s!=this.A0&&0!=this.compare(s.key,t);)s=this.compare(t,s.key)<0?s.left:s.right;return s},h.R0.prototype.contains=function(t){return null!=this.B0(t).key},h.R0.prototype.getValues=function(){var s=[];return this.forEach(function(t){s.push(t)}),s},h.R0.prototype.D0=function(t){if("array"==h.typeOf(t))for(var s=0;s<t.length;s++)this.k0(t[s]);else if("function"==h.typeOf(t.forEach))t.forEach(this.k0,this);else if("function"==h.typeOf(t.getValues))for(var i=t.getValues(),s=0;s<i.length;s++)this.k0(i[s]);else if("object"==h.typeOf(t))for(var e in t)this.k0(t[e])},h.R0.prototype.X0=function(t){if("array"==h.typeOf(t))for(var s=0;s<t.length;s++)this.remove(t[s]);else if("function"==h.typeOf(t.forEach))t.forEach(this.U0,this);else if("function"==h.typeOf(t.getValues))for(var i=t.getValues(),s=0;s<i.length;s++)this.remove(i[s]);else if("object"==h.typeOf(t))for(var e in t)this.remove(t[e])},h.R0.prototype.Y0=function(t){if("array"==h.typeOf(t)){for(var s=0;s<t.length;s++)if(!this.contains(t[s]))return!1;return!0}if("function"==h.typeOf(t.forEach))return t.every(this.contains,this);if("function"==h.typeOf(t.getValues)){for(var i=t.getValues(),s=0;s<i.length;s++)if(!this.contains(i[s]))return!1;return!0}if("object"==h.typeOf(t)){for(var e in t)if(!this.contains(t[e]))return!1;return!0}},h.R0.prototype.range=function(t,s){var i=[];return this.Z0(function(t){i.push(t)},t,s),i},h.R0.prototype.K0=function(t,s){if(!this.Q0())for(var i=this.min(this.root);i!=this.A0;){if(t.call(s,i.key,this))return;i=this.j0(i)}},h.R0.prototype.td=function(t,s,i){if(!this.Q0())for(var e=this.B0(s);e!=this.A0;){if(t.call(i,e.key,this))return;e=this.j0(e)}},h.R0.prototype.sd=function(t,s,i){if(!this.Q0())for(var e=this.min(this.root),n=this.B0(s);e!=n;){if(t.call(i,e.key,this))return;e=this.j0(e)}},h.R0.prototype.Z0=function(t,s,i,e){if(!this.Q0())for(var n=this.B0(s),r=this.B0(i);n!=r;){if(t.call(e,n.key,this))return;n=this.j0(n)}},h.R0.prototype.ed=function(t,s){if(!this.Q0())for(var i=this.max(this.root);i!=this.A0;){if(t.call(s,i.key,this))return;i=this.H0(i)}},h.R0.prototype.forEach=function(t,s){if(!this.Q0())for(var i=this.min(this.root);i!=this.A0;i=this.j0(i))t.call(s,i.key,i.key,this)},h.R0.prototype.some=function(t,s){if(!this.Q0())for(var i=this.min(this.root);i!=this.A0;i=this.j0(i))if(t.call(s,i.key,i.key,this))return!0;return!1},h.R0.prototype.every=function(t,s){if(this.Q0())return!1;for(var i=this.min(this.root);i!=this.A0;i=this.j0(i))if(!t.call(s,i.key,i.key,this))return!1;return!0},h.R0.prototype.map=function(t,s){var i=[];if(!this.Q0())for(var e=this.min(this.root);e!=this.A0;e=this.j0(e))i.push(t.call(s,e.key,e.key,this));return i},h.R0.prototype.filter=function(t,s){var i=[];if(!this.Q0())for(var e=this.min(this.root);e!=this.A0;e=this.j0(e))t.call(s,e.key,e.key,this)&&i.push(e.key);return i},h.R0.prototype.getCount=function(){return this.size},h.R0.prototype.Q0=function(){return 0==this.size},h.R0.prototype.de=function(t){var s=h.getCount(t);if(this.getCount()>s)return!1;var i=0;if(this.Q0())return!0;for(var e=this.min(this.root);e!=this.A0;e=this.j0(e))h.contains.call(t,t,e.key)&&i++;return i==this.getCount()},h.R0.prototype.nd=function(t){var s=new h.R0(this.compare);if(!this.Q0())for(var i=this.min(this.root);i!=this.A0;i=this.j0(i))t.contains.call(t,i.key,i.key,this)&&s.k0(i.key);return s},fs.R0=class extends fs.rr{constructor(t){super(),this.rd=new h.R0(t),this.hd=!1,this.od=new Set,this.ad=new Set}uc(t){this.hd?this.rd.contains(t)?this.ad.delete(t):this.od.add(t):this.rd.k0(t)}b0(t){this.hd?this.rd.contains(t)?this.ad.add(t):this.od.delete(t):this.rd.remove(t)}si(t){return this.hd?!!this.od.has(t)||!this.ad.has(t)&&this.rd.contains(t):this.rd.contains(t)}tc(){this.rd.clear(),this.od.clear(),this.ad.clear()}toArray(){if(this.hd)throw new Error("cannot be used in queueing mode");return this.rd.getValues()}nc(){return this.rd.getCount()+this.od.size-this.ad.size}sc(){return 0===this.nc()}ld(){if(this.sc())throw new Error("empty set");if(this.hd)throw new Error("cannot be used in queueing mode");const t=this.rd,s=t.min(t.root);return s.key}ud(){if(this.sc())throw new Error("empty set");if(this.hd)throw new Error("cannot be used in queueing mode");const t=this.ld();return this.b0(t),t}fd(t){if(this.hd!==(t=!!t)&&!(this.hd=t)){for(const s of this.ad)this.rd.remove(s);this.ad.clear();for(const i of this.od)this.rd.k0(i);this.od.clear()}}dd(t){this.rd.forEach(t)}*values(){if(!this.sc()){const s=this.rd;for(let t=s.min(s.root);t!=s.A0;t=s.j0(t))yield t.key}}[Symbol.iterator](){return this.values()}}}{const ds=self.Bs;ds.md=class{constructor(t=ds.hardwareConcurrency){this.gd=t,this.yd=[],this.wd=0}uc(i){return new Promise((t,s)=>{this.yd.push({If:i,resolve:t,reject:s}),this.Sd()})}vd(i){for(let t=0,s=this.yd.length;t<s;++t)if(this.yd[t].If===i)return t;return-1}bd(t,s){const i=this.vd(t);if(-1===i)throw new Error("cannot find promise to resolve");this.yd[i].resolve(s),this.yd.splice(i,1)}xd(t,s){const i=this.vd(t);if(-1===i)throw new Error("cannot find promise to reject");this.yd[i].reject(s),this.yd.splice(i,1)}async Sd(){if(this.yd.length&&!(this.wd>=this.gd)){this.wd++;const s=this.yd.shift();try{const t=await s.If();s.resolve(t)}catch(t){s.reject(t)}this.wd--,this.Sd()}}static async Md(t,s){let i=[],e=!1,n=[];for(;t--;)n.push((async()=>{let t;for(;t=s.pop();){if(e)return;try{i.push(await t())}catch(t){throw e=!0,t}}})());return await Promise.all(n),i}}}{const ps=self.Bs;ps.Td=class{constructor(t,s,i){this.r0=t,this._d=s,this.Gd=i||2*s,this.Id=-1,this.Cd=-1/0,this.Pd=()=>this.Ed(),this.Ad=!1,this.Rd=!1,this.Fd=null}Dd(t){this.Rd=!!t}Od(){return void 0!==ps.Battery&&ps.Battery.IsOnBatteryPower()?this.Gd:this._d}Ld(...e){if(-1===this.Id){this.Fd=e;let t=ps.e0(),s=t-this.Cd,i=this.Od();i<=s&&this.Rd?(this.Cd=t,this.kd()):this.Id=self.setTimeout(this.Pd,Math.max(i-s,4))}}kd(){this.Ad=!0;const t=this.Fd;this.Fd=null,t?this.r0(...t):this.r0(),this.Ad=!1}l0(){this.Ad||(this.Bd(),this.Fd=null,this.Cd=ps.e0())}Ed(){this.Id=-1,this.Cd=ps.e0(),this.kd()}Bd(){-1!==this.Id&&(self.clearTimeout(this.Id),this.Id=-1)}ur(){this.Bd(),this.r0=null,this.Fd=null,this.Pd=null}}}{const ms=self.Bs;ms.Nd=class{constructor(){this.Wd=new Map,this.jd=!1,this.Vd=null,this.Ud=null,this.Hd=null,this.zd=null}Jd(t){this.jd=!!t}qd(){return this.jd}$d(t){this.Vd=t}Xd(t){if(this.Vd)return this.Vd(t);throw new Error("no get base size callback set")}Yd(t){this.Ud=t}Zd(t,s,i,e,n,r){if(this.Ud)return this.Ud(t,s,i,e,n,r);throw new Error("no raster at size callback set")}Kd(t){this.Hd=t}Qd(t){if(!this.Hd)throw new Error("no release result callback set");this.Hd(t)}t1(t){this.zd=t}s1(){if(!this.zd)throw new Error("no redraw callback set");this.zd()}i1(t){let s=this.Wd.get(t);return s||(s=ms.lr(ms.e1,this,t),this.Wd.set(t,s)),s.n1(),s}h1(t){this.Wd.delete(t.o1())}a1(){for(const t of this.Wd.values())t.l1(),t.u1()}}}{const gs=self.Bs;gs.e1=class{constructor(t,s){this.c1=t,this.f1=s,this.d1=0,this.m1=0,this.g1=0,this.w1=this.c1.Xd(s).then(t=>{this.c1&&(this.m1=t[0],this.g1=t[1],this.c1.s1())}).catch(t=>{console.error("[SVG] Error loading SVG: ",t),this.S1=!0,this.c1&&this.c1.s1()}),this.v1=0,this.b1=0,this.M1=0,this.T1=0,this._1=!1,this.G1=null,this.I1=!1,this.S1=!1}ur(){if(this.d1<=0)throw new Error("already released");this.d1--,0===this.d1&&this.C1()}l1(){this.G1&&(this.c1.Qd(this.G1),this.G1=null)}C1(){this.l1(),this.c1.h1(this),this.c1=null}o1(){return this.f1}n1(){this.d1++}P1(){return 0<this.d1}E1(){return this.G1}u1(){this.I1=!0}async A1(e,n,r){if(0!==n&&0!==r&&!this.S1&&!this._1){let t=gs.Br(Math.ceil(n)),s=gs.Br(Math.ceil(r)),i=Math.max(t,s);if(4096<i){const h=4096/i;n*=h,r*=h,t=Math.min(Math.ceil(t*h),4096),s=Math.min(Math.ceil(s*h),4096)}if(n<t&&r<s){const o=n/r,a=t/s;r=o<a?(n=s*o,s):(n=t)/o}if(this.c1.qd()&&(t=Math.ceil(n),s=Math.ceil(r)),!(t<=this.v1&&s<=this.b1)||this.I1){this._1=!0,this.v1=t,this.b1=s;const l=await this.c1.Zd(this.f1,e,this.v1,this.b1,n,r);this.c1&&(this.l1(),this.G1=l,this.M1=n,this.T1=r,this._1=!1,this.I1=!1,this.c1.s1())}}}R1(){return this.w1}F1(){return this.m1}D1(){return this.g1}O1(){return this.M1}L1(){return this.T1}B1(){return this.S1}}}{let s=function(t){return vs.get(t)};s;const c=self.Bs,ys=(c.N1="\ufeff",new Set("0123456789")),ws=(c.W1=function(t){return ys.has(t)},new Set(" \t\n\r\u2028\u2029"));c.j1=function(t){return ws.has(t)},c.V1=function(t){return[...t].filter(t=>!c.j1(t)).join("")},c.U1=function(t){for(const s of t)if(!c.j1(s))return!1;return!0},c.H1=function(t){for(const s of t)if(!c.j1(s))return!1;return!0},c.z1=function(t){return 1===t.length&&t.charCodeAt(0)<32},c.J1=function(t){return[...t].filter(t=>!c.z1(t)).join("")};let i=null;try{i=new RegExp("\\p{P}(?<=[\\u3000-\\u303F\\uFF00-\\uFFEF])","u")}catch(t){console.warn("Unable to detect CJK punctuation: ",t)}c.q1=function(t){return!c.j1(t)&&i&&i.test(t)};const Ss=new Set("0123456789.+-e"),vs=(c.X1=function(s){if(!(s=s.trim()).length)return!1;let t=s.charAt(0);if("-"!==t&&!ys.has(t))return!1;for(let t of s)if(!Ss.has(t))return!1;return!0},c.Y1=function(s){let i=s.length;for(;0<i;){let t=s.charAt(i-1);if(!c.W1(t))break;--i}return s.substr(0,i)},c.Z1=function(t){let s=c.Y1(t),i=t.substr(s.length);return s+(i?(parseInt(i,10)+1).toString():"2")},new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]])),bs=/[&<>"']/g,xs=(c.K1=function(t){return t.replace(bs,s)},c.Q1=function(t){let s=c.tp(t,"\\","\\\\");return s=c.tp(s,'"','\\"'),s=c.tp(s,"\t","\\t"),s=c.tp(s,"\r",""),c.tp(s,"\n","\\n")},c.sp=function(t){let s=c.tp(t,"&","&amp;");return s=c.tp(s,"<","&lt;"),s=c.tp(s,">","&gt;"),c.tp(s,'"',"&quot;")},/[-[\]{}()*+?.,\\^$|#\s]/g),Ms=(c.fe=function(t){return t.replace(xs,"\\$&")},c.ep=function(t,s){let i=0;for(const e of t)e===s&&++i;return i},c.np=function(t,s,i=!1){if(!s)return[];i||(t=t.toLowerCase(),s=s.toLowerCase());let e=s.length,n=0,r,h=[];for(;-1<(r=t.indexOf(s,n));)h.push(r),n=r+e;return h},c.tp=function(t,s,i){return t.replaceAll(s,()=>i)},c.rp=function(t,s,i){return t.replace(new RegExp(c.fe(s),"gi"),()=>i)},c.hp=function(t,s){"string"==typeof s?t.textContent=s:s.op()?t.textContent=s.toString():(t.innerHTML=s.lp(),s instanceof c.Fn&&s.up(t))},c.cp=function(t,s){return t instanceof c.HtmlString||t instanceof c.Fn?t.equals(s):s instanceof c.HtmlString||s instanceof c.Fn?s.equals(t):t===s},c.fp=function(i,...e){let n=i;for(let t=0,s=e.length;t<s;++t){const r=`{${t}}`;if(!i.includes(r))throw new Error(`missing placeholder '${r}' in string substitution`);n=n.replace(r,e[t].toString())}return n},c.pp=function(i,...e){let n=i,r=-1,h=-1;for(let t=0,s=e.length;t<s;++t){const o=`{${t}}`;i.includes(o)?(h=t,n=n.replace(o,e[t].toString())):-1===r&&(r=t)}if(0<=r&&0<=h&&r<h)throw new Error(`missing placeholder '${r}' in string substitution`);return n},c.mp=function(t,i){let e=t;for(let[t,s]of Object.entries(i))e=e.replaceAll(t,s.toString());return e},c.gp=function(t,s){return s<t?1:t<s?-1:0},c.yp=function(t,s){let i=t.toLowerCase(),e=s.toLowerCase();return e<i?1:i<e?-1:0},new self.Intl.Segmenter),Ts=(c.wp=function(t){const s=[];for(const i of Ms.segment(t))s.push(i.segment);return s},c.Sp=function*(t){for(const s of Ms.segment(t))yield s.segment},c.vp=function(t){let s=0;for(const i of Ms.segment(t))++s;return s},1073741824),_s=1024*Ts,Gs={bp:!(c.xp=function(s,t){let i="common."+(t?"dataRates":"dataSizes")+".",e=self.langSub;if(s<1024)return e(i+"bytes",s);if(s<1048576){let t=s/1024;return t=t<10?Math.round(10*t)/10:Math.round(t),e(i+"kilobytes",t)}if(s<Ts){let t=s/1048576;return t=t<10?Math.round(10*t)/10:Math.round(t),e(i+"megabytes",t)}if(s<_s){let t=s/Ts;return t=t<10?Math.round(10*t)/10:Math.round(t),e(i+"gigabytes",t)}{let t=s/_s;return t=t<10?Math.round(10*t)/10:Math.round(t),e(i+"terabytes",t)}}),Mp:!0,Tp:!0,_p:!0,Gp:!0};c.Ip=function(t,s){s=Object.assign({},Gs,s),c.Lang.PushContext("common.time");const i=[],e=self.lang,n=self.langPluralSub;if(s.Mp){const h=Math.floor(t/86400);0<h&&(t-=24*h*3600,i.push(n(".days",null,h)))}if(s.Tp){const o=Math.floor(t/3600);(0<o||i.length)&&(t-=3600*o,i.push(n(".hours",null,o)))}if(s._p){const a=Math.floor(t/60);(0<a||i.length||!s.Gp)&&(t-=60*a,i.push(n(".minutes",null,a)))}if(s.Gp){const l=Math.floor(t%60);i.push(n(".seconds",null,l))}const r=(s.bp?e(".approx-prefix"):"")+i.join(e(".separator"));return c.Lang.PopContext(),r},c.Cp=function(t,s){let i=t<0?"-":"",e=(t=Math.abs(t)).toString(),n=s-e.length;for(let t=0;t<n;++t)i+="0";return i+e},c.Pp=function(t){return t.toLowerCase().replace(/\b\w/g,t=>t.toUpperCase())},c.Ep=function(t,s){let i=t.split(".").map(t=>t.trim()),e=s.split(".").map(t=>t.trim());c.jh(i,4,"0"),c.jh(e,4,"0"),i=i.map(t=>parseInt(t,10)),e=e.map(t=>parseInt(t,10));for(let t=0;t<4;++t){const n=i[t]-e[t];if(0!=n)return n<0?-1:1}return 0},c.Ap=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const s=Math.floor(16*Math.random()),i="x"===t?s:3&s|8;return i.toString(16)})},c.Rp=function(i,e){if(i.length!==e.length)throw new Error("strings must be same length");let n=0;for(let t=0,s=i.length;t<s;++t)i.charAt(t)!==e.charAt(t)&&++n;return n},c.Fp=function(t,s){if(0===t.length)return s.length;if(0===s.length)return t.length;let i,e,n,r,h,o;for(s.length<t.length&&(i=t,t=s,s=i),o=Array(t.length+1),e=0;e<=t.length;e++)o[e]=e;for(e=1;e<=s.length;e++){for(r=e,n=1;n<=t.length;n++)h=s[e-1]===t[n-1]?o[n-1]:Math.min(o[n-1]+1,Math.min(r+1,o[n]+1)),o[n-1]=r,r=h;o[t.length]=r}return o[t.length]}}{let s=function(t,i,e){const n=o.get(e);if(!n)return"class"===e?i?"</span>":`<span class="bbclass${u++}">`:t;if("string"==typeof n){if("a"===n&&0===a.length||"abbr"===n&&0===l.length)return t;if("a"!==n||i){if("abbr"!==n||i)return"<"+i+n+">";{const r=parseInt(e.substring(3),10)-1;if(r<0||r>=l.length)throw new Error("invalid bbcode tip substitution");let t=l[r],s="";if("string"==typeof t?s=t:"function"==typeof t&&(s=t()),"string"!=typeof s)throw new TypeError("invalid bbcode tip");return`<abbr title="${f.tp(s,'"',"&quot;")}">`}}{const s=parseInt(e.substring(1),10)-1;if(s<0||s>=a.length)throw new Error("invalid bbcode link substitution");const h=a[s];if("string"==typeof h)return`<a href="${a[s]}">`;if("function"==typeof h)return`<a class="bblink${s}">`;throw new TypeError("invalid bbcode link action")}}if(Array.isArray(n)){let t=n[0],s=n[1];return i?"</"+t+">":`<${t} class="${s}">`}},f=(s,self.Bs),o=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["code","code"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["tip1","abbr"],["tip2","abbr"],["tip3","abbr"],["tip4","abbr"],["tip5","abbr"],["tip6","abbr"],["tip7","abbr"],["tip8","abbr"],["tip9","abbr"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),d=new Set(["icon"]),i=/\[(\/?)([a-zA-Z0-9]+)\]/g,p=/\[(\/?)([^\[\n]*?)\]/g,a=null,l=null,u=0,e=/\n/g;f.Fn=class{constructor(t,s){if(this.Dp=s&&s.Op?t:f.K1(t),this.Lp="",this.kp=!1,this.Bp=[],this.Np=[],s){if(this.kp=!!s.convertLineBreaks,s.links){if(9<s.links.length)throw new Error("too many links");this.Bp=s.links}if(s.tips){if(9<s.tips.length)throw new Error("too many tips");this.Np=s.tips}}this.Wp=this.Dp.includes("["),this.jp=this.kp&&this.Dp.includes("\n"),this.Vp=!this.Wp&&!this.jp&&!this.Dp.includes("&"),this.Up=!1,this.Hp=[]}toString(){return this.Dp}valueOf(){return this.Dp}op(){return this.Vp}zp(){return this.Wp?this.Dp.replace(i,""):this.Dp}lp(){if(this.Vp)return this.Dp;if(!this.Lp&&this.Dp){let t=this.Dp;this.Wp&&(u=0,a=this.Bp,l=this.Np,t=t.replace(i,s),a=null,l=null),this.jp&&(t=t.replace(e,"<br>")),this.Lp=t}return this.Lp}up(i){if(this.Bp.length)for(let t=0,s=this.Bp.length;t<s;++t){const e=this.Bp[t];if("function"==typeof e){const n=i.querySelector(".bblink"+t);if(!n)throw new Error("unable to attach BBString link handler");n.onclick=e}}}equals(t){return t instanceof f.HtmlString?this.lp()===t.lp():t instanceof f.Fn?this.Dp===t.Dp:this.Dp===t}Jp(){if(!this.Up){let e=[],t=this.Dp,n=[],s=p.lastIndex=0,i;for(;null!==(i=p.exec(t));){const r=i.index;if(!(0<r&&"\\"===t.charAt(r-1))){const h=i[0],o=i[1],a=i[2],l=t.substring(s,r);if(s=r+h.length,l&&e.push({text:l,qp:n.slice(0)}),a)if(o){const u=a.toLowerCase();for(let t=n.length-1;0<=t;--t)if(n[t].tag===u){n.splice(t,1);break}}else{let t=a,s=null,i=a.indexOf("=");if(-1!==i?(t=a.substring(0,i).toLowerCase(),s=a.substring(i+1)):t=t.toLowerCase(),d.has(t)){if("icon"!==t)throw new Error("unknown self-closing tag "+t);e.push({icon:s,qp:n.slice(0)})}else n.push({tag:t,param:s})}}}s<t.length&&e.push({text:t.substring(s),qp:n.slice(0)});for(const c of e)c.text&&(c.text=this.$p(c.text));this.Hp=e.map(t=>t.icon?f.lr(f.Xp,{icon:t.icon,qp:t.qp}):f.lr(f.Yp,{Zp:f.wp(t.text),qp:t.qp})),this.Up=!0}return this.Hp}$p(t){return t=f.tp(t,"\\[","["),f.tp(t,"\\\\","\\")}static Kp(t){return f.lr(f.Fn,t,{Op:!0}).zp()}static Qp(t){return t.replace(p,"")}}}{let l=function(t){return""!==t&&""!==t&&w.j1(t)},a=function(t){return Is.has(t)},u=function(t){return w.q1(t)&&!a(t)},c=function(t){for(;0<t.length&&l(t.at(-1));)t.pop()},y=function(t){return"\n"===t||"\r\n"===t};l,a,u,c,y;const w=self.Bs,Is=new Set("");w.tm=class{constructor(){this.im=[],this.nm=null}rm(){return this.im}hm(){return this.im.length}om(t){this.nm=t}lm(t,s){let i=0,e=0,n=0,r=0,h=0;for(const o of t){if(-1===o.um()){const a=s(o);o.fm(a.height),o.dm(a.fontBoundingBoxAscent||0),o.pm(a.fontBoundingBoxDescent||0),o.gm(a.ym||0),o.wm()?o.Sm(a.width):o.vm()&&o.xm(this.nm)}i+=o.um(),e=Math.max(e,o.Mm()),n=Math.max(n,o.Tm()),r=Math.max(r,o._m()),h=Math.max(h,o.Gm())}return{width:i,height:e,fontBoundingBoxAscent:n,fontBoundingBoxDescent:r,ym:h}}Im(t,s,i,e,n,r){this.im.push(w.lr(w.tm.Cm,{Pm:t,width:s,height:i,fontBoundingBoxAscent:e,fontBoundingBoxDescent:n,ym:r}))}tm(s,r,h,i,o){if("string"==typeof s&&(s=[w.lr(w.Yp,{Zp:w.wp(s)})]),w.Bh(this.im),!(!s.length||1===s.length&&s[0].wm()&&s[0].sc()||h<2)){if(1===s.length){const a=s[0];if(a.wm()&&a.Em()<=100&&!a.Am()){let{width:t,height:s,fontBoundingBoxAscent:i,fontBoundingBoxDescent:e,ym:n}=r(a);if(t+=o,a.Sm(t),a.fm(s),a.dm(i||0),a.pm(e||0),a.gm(n||0),t<=h)return void this.Im([a],t,s,i,e,n)}}let t;t="word"===i?this.Rm(s):"cjk"===i?this.Fm(s):this.Dm(s),this.Om(t,r,h,o)}}Rm(t){let s=[],i=[],e=!1;for(const n of t){const r=n.Lm();if(n.vm())0<i.length&&s.push(i),s.push([n]),i=[];else for(const h of n.km())if(y(h))0<i.length&&s.push(i),s.push([w.lr(w.Yp,{Zp:["\n"],qp:r})]),i=[];else if(0===i.length)i.push(w.lr(w.Yp,{Zp:[h],qp:r})),e=l(h);else{const o=l(h);if(o===e){const a=i.at(-1);a.Lm()===r?a.Bm(h):i.push(w.lr(w.Yp,{Zp:[h],qp:r}))}else s.push(i),i=[w.lr(w.Yp,{Zp:[h],qp:r})],e=o}}return 0<i.length&&s.push(i),s}Fm(t){let s=[],i=[],e=!1;for(const n of t){const r=n.Lm();if(n.vm())0<i.length&&s.push(i),s.push([n]),i=[];else for(const h of n.km())if(y(h))0<i.length&&s.push(i),s.push([w.lr(w.Yp,{Zp:["\n"],qp:r})]),i=[];else{if(0===i.length)i.push(w.lr(w.Yp,{Zp:[h],qp:r}));else if(e||u(h)){const o=i.at(-1);o.Lm()===r?o.Bm(h):i.push(w.lr(w.Yp,{Zp:[h],qp:r}))}else s.push(i),i=[w.lr(w.Yp,{Zp:[h],qp:r})];e=a(h)}}return 0<i.length&&s.push(i),s}Dm(t){const s=[];for(const i of t)if(i.wm()){const e=i.km();w.Xn(s,e.map(t=>[w.lr(w.Yp,{Zp:[t],qp:i.Lm()})]))}else s.push([i]);return s}Nm(t){return t.map(t=>t.Wm())}jm(s,i){let t=s.length?s.at(-1):null,e=0;t&&t.wm()&&i[0].wm()&&i[0].Lm()===t.Lm()&&(t.Vm(i[0].km()),e=1);for(let t=i.length;e<t;++e){const n=i[e];s.push(n.Wm())}}Om(t,s,i,e){let n=[],r=0,h=0,o=0,a=0,l=0;for(const u of t)if(1===u.length&&u[0].wm()&&1===u[0].Em()&&y(u[0].km()[0])){if(0===h){const c=w.lr(w.Yp,{Zp:[" "],qp:u[0].Lm()}),f=s(c);h=f.height,o=f.fontBoundingBoxAscent||0,a=f.fontBoundingBoxDescent||0,l=f.ym||0}this.Im(n,r,h,o,a,l),n=[],r=0,h=0,o=0,a=0,l=0}else{const d=this.Nm(n),p=(this.jm(d,u),this.lm(d,s)),m=p.width;if(i<=m)if(0<n.length&&this.Im(n,r,h,o,a,l),n=[],u[0].wm()&&w.H1(u[0].km()))r=0,h=0,o=0,a=0,l=0;else{this.jm(n,u);const g=this.lm(n,s);r=g.width,h=g.height,o=g.fontBoundingBoxAscent,a=g.fontBoundingBoxDescent,l=g.ym}else n=d,r=m,h=p.height,o=p.fontBoundingBoxAscent,a=p.fontBoundingBoxDescent,l=p.ym}0<n.length&&this.Im(n,r,h,o,a,l),this.Um(s,e)}Um(s,i){for(const e of this.im){const n=e.Hm();if(n.length){let t=n.at(-1);if(t.wm()){const r=t.km(),h=r.slice(0);if(c(h),0===h.length)e.zm(-t.um()),n.pop();else if(h.length<r.length){t.Jm(h);const o=s(t).width,a=t.um()-o;t.Sm(o),e.zm(-a)}0!==i&&0<n.length&&((t=n.at(-1)).zm(i),e.zm(i))}}}}tc(){w.Bh(this.im)}qm(){return this.im.reduce((t,s)=>Math.max(t,s.um()),0)}$m(){return this.im.reduce((t,s)=>t+s.Mm(),0)}}}{const Cs=self.Bs;Cs.tm.Cm=class{constructor(t){this.Hp=t.Pm||[],this.Xm=t.width||-1,this.Ym=t.height||-1,this.Zm=t.fontBoundingBoxAscent||-1,this.Km=t.fontBoundingBoxDescent||-1,this.Qm=t.ym||-1,this.tg=0,this.sg=0}Pm(){return this.Hp.values()}*ig(){const s=this.Hp;for(let t=s.length-1;0<=t;--t)yield s[t]}Hm(){return this.Hp}zm(t){this.Xm+=t}um(){return this.Xm}Mm(){return this.Ym}eg(){return this.Zm}_m(){return this.Km}Gm(){return this.Qm}ng(t){this.tg=t}rg(){return this.tg}hg(t){this.sg=t}og(){return this.sg}}}{const Ps=self.Bs;Ps.ag=class{constructor(t){this.lg=t.qp||[],this.Xm=t.width||-1,this.Ym=t.height||-1,this.Zm=t.fontBoundingBoxAscent||-1,this.Km=t.fontBoundingBoxDescent||-1,this.Qm=t.ym||-1,this.tg=0,this.sg=0}wm(){return!1}vm(){return!1}Lm(){return this.lg}ug(s){const i=this.lg;for(let t=i.length-1;0<=t;--t){const e=i[t];if(e.tag===s)return e}return null}fg(t){return!!this.ug(t)}dg(){const t=new Map;for(const s of this.lg)t.set(s.tag,s.param);return t}zm(t){this.Xm+=t}Sm(t){this.Xm=t}um(){return this.Xm}fm(t){this.Ym=t}Mm(){return this.Ym}dm(t){this.Zm=t}Tm(){return this.Zm}pm(t){this.Km=t}_m(){return this.Km}gm(t){this.Qm=t}Gm(){return this.Qm}ng(t){this.tg=t}rg(){return this.tg}hg(t){this.sg=t}og(){return this.sg}}}{const Es=self.Bs;Es.Yp=class extends Es.ag{constructor(t){super(t),this.pg=t.Zp}wm(){return!0}Vm(t){Es.Xn(this.pg,t),this.Xm=-1,this.Ym=-1,this.Zm=-1,this.Km=-1,this.Qm=-1}Bm(t){this.pg.push(t)}Wm(){return Es.lr(Es.Yp,{Zp:this.pg.slice(0),qp:this.lg,width:this.Xm,height:this.Ym,fontBoundingBoxAscent:this.Zm,fontBoundingBoxDescent:this.Km,ym:this.Qm})}km(){return this.pg}Jm(t){this.pg=t}Em(){return this.pg.length}sc(){return 0===this.pg.length}Am(){return this.pg.includes("\n")}}}{const As=self.Bs;As.Xp=class extends As.ag{constructor(t){super(t),this.mg=t.icon}vm(){return!0}gg(){return this.mg}Wm(){return As.lr(As.Xp,{icon:this.mg,qp:this.lg,width:this.Xm,height:this.Ym,fontBoundingBoxAscent:this.Zm,fontBoundingBoxDescent:this.Km,ym:this.Qm})}yg(t){if(!t)return null;let s=Number(this.mg);return String(s)===this.mg?(s=Math.floor(s),t.wg(s)):t.Sg(this.mg)}xm(t){const s=this.yg(t);this.Xm=s?this.Ym*s.um()/s.Mm():0}vg(t){const s=this.yg(t);return s?s.vg():null}Em(){return 1}}}{const Rs=self.Bs;Rs.bg=class{constructor(t){this.xg=new Map,this.Mg=t.Tg,this._g=t.Gg}ur(){for(const t of this.xg.values())t.ur();this.xg.clear()}Ig(t){let s=this.xg.get(t);if(!s){const i=this.Mg(t);s=Rs.lr(Rs.Cg,this,{source:t,Pg:i}),this.xg.set(t,s)}return s}Eg(t){return this.xg.has(t)}Ag(t){const s=this.xg.get(t);s&&s.ur(),this.xg.delete(t)}async Rg(t){return this._g(t)}}}{const Fs=self.Bs;Fs.Cg=class{constructor(t,s){this.Fg=t,this.Dg=s.source,this.Og=[],this.Lg=new Map,this.kg=!1,this.Bg=!1,this.Ng=null;const i=s.Pg.Wg;for(let t=0,s=i.length;t<s;++t){const e=i[t],n=Fs.lr(Fs.jg,this,{index:t,tag:e.tag,source:e.source,width:e.width,height:e.height});this.Og.push(n),e.tag&&this.Lg.set(e.tag.toLowerCase(),n)}}ur(){for(const t of this.Og)t.ur();Fs.Bh(this.Og),this.Lg.clear(),this.Fg=null,this.Dg=null}Vg(){return this.kg}Ug(){return this.Bg}Hg(){return this.Ng||(this.Ng=this.zg()),this.Ng}async zg(){if(!this.kg){this.kg=!0,this.Bg=!0;const t=await this.Fg.Rg(this.Dg);if(this.Fg){const i=t.Wg;for(let t=0,s=Math.min(i.length,this.Og.length);t<s;++t){const e=i[t].Jg;this.Og[t].qg(e)}this.Bg=!1}}}wg(t){return(t=Math.floor(t))<0||t>=this.Og.length?null:this.Og[t]}Sg(t){return this.Lg.get(t.toLowerCase())||null}}}{const Ds=self.Bs;Ds.jg=class{constructor(t,s){this.$g=t,this.Dg=s.source||null,this.Xg=s.index,this.Yg=s.tag,this.Xm=s.width,this.Ym=s.height,this.Zg=null}ur(){this.Xm=0,this.Ym=0,this.$g=null}Kg(){return this.Dg}um(){return this.Xm}Mm(){return this.Ym}qg(t){this.Zg=t}vg(){return this.Zg}}}{let e=function(t,s,i,e){const n=Ns;_n.N(ks,i,s),_n.N(Bs,t,s),_n.Ot(n,ks,Bs),_n.normalize(n,n),e.set(n[0],n[1],n[2],_n.Dt(t,n))},h=function(t,s,i,e,n,r,h){const o=h.x,a=h.y,l=h.z,u=h.w,c=h.Qg,f=h.ty,d=h.iy,p=1-c,m=1-f,g=1-d,y=o*t*c+o*e*p+a*s*f+a*n*m+l*i*d+l*r*g;if(u<=y)return!0;const w=o*e*c+o*t*p+a*n*f+a*s*m+l*r*d+l*i*g;return u<w},n=function(t,s,i,e){const n=e.x,r=e.y,h=e.z,o=e.w,a=n*t+r*s+h*i;return o<=a};e,h,n;const Os=self.Bs,Ls=self.bs,_n=Ls.Ps,Un=Ls.Es,Tn=Ls._s,ks=_n.create(),Bs=_n.create(),Ns=_n.create(),Ws=Un.create(),js=Tn.create(),Vs=_n.create(),Us=_n.create(),Hs=_n.create(),zs=_n.create(),Js=_n.create(),qs=_n.create(),$s=_n.create(),Xs=_n.create(),Ys=Un.I(0,0,1,1);Os.ey={ny(t,s,i,e,n,r,h){let o=e[0]*t+e[4]*s+e[8]*i+e[12],a=e[1]*t+e[5]*s+e[9]*i+e[13],l=e[2]*t+e[6]*s+e[10]*i+e[14],u=e[3]*t+e[7]*s+e[11]*i+e[15],c=n[0]*o+n[4]*a+n[8]*l+n[12]*u,f=n[1]*o+n[5]*a+n[9]*l+n[13]*u,d=n[2]*o+n[6]*a+n[10]*l+n[14]*u,p=n[3]*o+n[7]*a+n[11]*l+n[15]*u;return 0!=p&&(f*=p=1/p,d*=p,h[0]=(.5*(c*=p)+.5)*r[2]+r[0],h[1]=(.5*f+.5)*r[3]+r[1],h[2]=.5*(1+d),!0)},hy(t,s,i,e,n,r,h){const o=js,a=Ws;return Tn.multiply(o,n,e),null!==Tn.P(o,o)&&(a[0]=(t-r[0])/r[2]*2-1,a[1]=(s-r[1])/r[3]*2-1,a[2]=2*i-1,a[3]=1,Un.Wt(a,a,o),0!==a[3])&&(a[3]=1/a[3],h[0]=a[0]*a[3],h[1]=a[1]*a[3],h[2]=a[2]*a[3],!0)},oy(t,s,i,e,n,r,h){const o=ks,a=Bs;if(!Os.ey.hy(t,s,0,e,n,r,o))return!1;if(!Os.ey.hy(t,s,1,e,n,r,a))return!1;let l=Bs,u=(_n.N(l,a,o),Ns),c=(_n.set(u,0,0,1),-i),f=_n.Dt(u,l),d=0;if(0===f){const p=_n.Dt(u,o)+c;if(0!==p)return!1}else if((d=-(_n.Dt(o,u)+c)/f)<0)return!1;return _n.Pt(h,o,l,d),!0}};class Zs{constructor(){this.x=NaN,this.y=NaN,this.z=NaN,this.w=NaN,this.Qg=NaN,this.ty=NaN,this.iy=NaN}set(t,s,i,e){this.x=t,this.y=s,this.z=i,this.w=e,this.Qg=0<t?1:0,this.ty=0<s?1:0,this.iy=0<i?1:0}}Os.ey.ly=class{constructor(){this.uy=new Zs,this.my=new Zs,this.gy=new Zs,this.yy=new Zs,this.wy=new Zs,this.Sy=new Zs}vy(t,s){const i=Ys;Os.ey.hy(0,1,0,t,s,i,Vs),Os.ey.hy(1,1,0,t,s,i,Us),Os.ey.hy(0,0,0,t,s,i,Hs),Os.ey.hy(1,0,0,t,s,i,zs),Os.ey.hy(0,1,1,t,s,i,Js),Os.ey.hy(1,1,1,t,s,i,qs),Os.ey.hy(0,0,1,t,s,i,$s),Os.ey.hy(1,0,1,t,s,i,Xs),e(Hs,Vs,Js,this.uy),e(Vs,Us,qs,this.my),e(Us,zs,Xs,this.gy),e(zs,Hs,$s,this.yy),e($s,Js,qs,this.Sy),e(zs,Us,Vs,this.wy)}by(t,s,i,e,n,r){return h(t,s,i,e,n,r,this.uy)&&h(t,s,i,e,n,r,this.my)&&h(t,s,i,e,n,r,this.gy)&&h(t,s,i,e,n,r,this.yy)&&h(t,s,i,e,n,r,this.wy)&&h(t,s,i,e,n,r,this.Sy)}xy(t,s,i){return!n(t,s,i,this.wy)}}}{const Ks=self.Bs,Qs=self.bs,_n=Qs.Ps,Un=Qs.Es,Tn=Qs._s,ti=Tn.create(),si=_n.I(0,0,0),ii=_n.I(0,0,0),ei=_n.I(0,0,0),ni=_n.I(0,1,0),ri=(Un.I(0,0,0,0),new Ks.Ql),hi=new Ks.Rect,oi=new Ks.Ql(0,0,1,0,1,1,0,1),ai={My:1,Ty:1e4},li=Tn.I(1,0,0,0,0,1,0,0,0,0,.5,0,0,0,.5,1);Ks.ey._y=class{constructor(t){t=Object.assign({},ai,t),this.Xm=0,this.Ym=0,this.Gy=Ks.Sr(45),this.Iy=Math.tan(this.Gy/2),this.Cy=Tn.create(),this.Py=Tn.create(),this.Ey=!1,this.Ay=t.My,this.Ry=t.Ty,this.Fy=[],this.Dy=new Map,this.Oy=null,this.Ly=null,this.ky=null,this.By=null,this.Ny=null,this.Wy=null,this.jy=null,this.Vy=null,this.Uy=null,this.Hy=null,this.zy=null,this.Jy=null,this.qy=new Map,this.$y=null,this.Xy=[],this.Yy=new Map,this.Zy=0,this.Ky=0,this.Qy=1,this.iw=[this.Qy],this.ew=1,this.rw=[this.ew],this.hw=.5,this.ow=[this.hw],this.aw=0,this.lw=!0,this.uw=!1}cw(t){let s=0,i=t.length,e=0;for(;s<i;)t[s++]=e,t[s++]=e+1,t[s++]=e+2,t[s++]=e,t[s++]=e+2,t[s++]=e+3,e+=4}fw(){this.Zy=0,this.Ky=0,this.Oy=null,this.Ly=null,this.ky=null,this.By=null,this.Ny=null,this.Wy=null,this.jy=null,this.Vy=null,this.Uy=null,this.Hy=null,this.zy=null,this.Jy=null,this.pw()}mw(){this.fw(),this.$y=null}gw(){for(const t of this.Fy)t.ur();this.fw()}um(){return this.Xm}Mm(){return this.Ym}yw(t){return this.ww()?100:t/(2*this.Sw())}bw(t){if(this.ww()){const s=t/(2*this.Sw());return s/this.yw(t)}return 1}xw(t){this.Ay=t}Mw(){return this.Ay}Tw(t){this.Ry=t}_w(){return this.Ry}Gw(t){this.Gy=t,this.Iy=Math.tan(this.Gy/2)}Iw(){return this.Gy}Sw(){return this.Iy}Cw(){this.Ey=!1}Pw(){this.Ey=!0}ww(){return!this.Ey}Ew(){return this.Ey}Aw(t,s,i=.5,e=.5){const n=this.Mw(),r=this._w(),h=this.Iw();if(.5===i&&.5===e)this.Rw()?Tn.xt(t,h,s,n,r):Tn.perspective(t,h,s,n,r);else{const o=2*(i=1-i)-2,a=2*i,l=2*e-2,u=2*e,c=this.Sw()*n,f=c*s;Tn.vt(t,o*f,a*f,l*c,u*c,n,r),this.Rw()&&Tn.mul(t,li,t)}}Fw(t,s,i,e=1){const n=self.devicePixelRatio,r=2*this.yw(i)*n*this.Sw()/i,h=s*r/(2*n*e),o=i*r/(2*n*e),a=-h,l=h,u=-o,c=o;this.Rw()?Tn._t(t,a,l,u,c,this.Mw(),this._w()):Tn.ortho(t,a,l,u,c,this.Mw(),this._w())}Dw(t,s,i,e,n,r=1){let h=1;this.ww()&&(h=200*this.Sw()/n);const o=ei,a=(_n.set(o,h,-h,1),si),l=ii;_n.multiply(a,s,o),_n.multiply(l,i,o),Tn.Gt(t,a,l,e||ni),o[2]=r,Tn.scale(t,t,o)}Ow(t,s,i,e,n,r,h,o){return _n.set(si,t,s,i),_n.set(ii,e,n,r),this.Dw(ti,si,ii,ni,h,o),ti}Lw(t){this.Fy.push(t),this.Dy.set(t.Kc(),t)}kw(t){const s=this.Fy.indexOf(t);-1!==s&&this.Fy.splice(s,1),this.Dy.delete(t.Kc())}pw(){Ks.Bh(this.Fy),this.Dy.clear()}Bw(t){return this.Dy.get(t)||null}Nw(){return this.Oy}Ww(){this.jw(this.Oy)}Vw(){return this.Ly}Uw(){this.jw(this.Ly)}Hw(){this.jw(this.ky)}zw(){this.jw(this.By)}Jw(){this.jw(this.Ny)}qw(){this.jw(this.Wy)}$w(){this.jw(this.jy)}Xw(){this.jw(this.Vy)}Yw(){this.jw(this.Uy)}Zw(){this.jw(this.Hy)}Kw(){this.jw(this.zy)}Qw(){this.jw(this.Jy)}tS(t){this.$y=t}sS(){return this.$y}iS(t,s,i,e){let n=Ks.ey.nS.eS(t,s,i,e),r=this.qy.get(n);return r||(r=Ks.lr(Ks.ey.nS,this,t,s,i,e),this.qy.set(n,r)),r.rS(),r}hS(t){t.oS(),0===t.aS()&&(this.$y===t&&(this.$y=null),this.qy.delete(t.lS()),t.ur())}uS(t){Ks.Bh(this.Xy),this.Yy.clear();let s=0;for(const i of t){const e=i[0],n=i[1],r=i[2];this.Xy.push([n,r]),this.Yy.set(e,{number:s,cS:n,fS:r}),s++}}dS(t){return this.Xy[t]}pS(t){return this.dS(t)[0]}mS(t){return this.dS(t)[1]}gS(t){const s=this.Yy.get(t);if(void 0===s)throw new Error("invalid blend name");return s}yS(t){const s=this.Yy.get(t);if(void 0===s)throw new Error("invalid blend name");return s.number}wS(t){this.Zy=t}SS(){return this.Zy}vS(t){this.Ky=t,this.$y=null}bS(){return this.Ky}Cm(t,s,i,e){const n=Ks.Tr(t,s,i,e),r=Math.sin(n),h=Math.cos(n),o=.5*this.Qy,a=r*o,l=h*o,u=this.ew;2===u?this.xS(t,s,0,i,e,0,a,l):1===u?this.MS(t,s,0,i,e,0,a,l):this.TS(t,s,0,i,e,0,a,l)}_S(t,s,i,e,n,r){const h=Ks.Tr(t,s,e,n),o=Math.sin(h),a=Math.cos(h),l=.5*this.Qy,u=o*l,c=a*l,f=this.ew;2===f?this.xS(t,s,i,e,n,r,u,c):1===f?this.MS(t,s,i,e,n,r,u,c):this.TS(t,s,i,e,n,r,u,c)}xS(t,s,i,e,n,r,h,o){const a=this.hw,l=t+a-o,u=s+a-h,c=e+a+o,f=n+a+h,d=2*o,p=2*h,m=l+h,g=u-o,y=l-h+d,w=u+o+p,S=c+h,v=f-o,b=c-h-d,x=f+o-p;this.GS(m,g,i,S,v,r,b,x,r,y,w,i,oi)}MS(t,s,i,e,n,r,h,o){const a=this.hw,l=t+a-o,u=s+a-h,c=e+a+o,f=n+a+h,d=l+h,p=u-o,m=l-h,g=u+o,y=c+h,w=f-o,S=c-h,v=f+o;this.GS(d,p,i,y,w,r,S,v,r,m,g,i,oi)}TS(t,s,i,e,n,r,h,o){const a=this.hw,l=t+a,u=s+a,c=e+a,f=n+a,d=l+h,p=u-o,m=l-h,g=u+o,y=c+h,w=f-o,S=c-h,v=f+o;this.GS(d,p,i,y,w,r,S,v,r,m,g,i,oi)}IS(t,s,i,e,n,r){const h=Ks.Tr(t,s,i,e),o=Math.sin(h),a=Math.cos(h),l=.5*this.Qy,u=o*l,c=a*l,f=this.ew;2===f?this.CS(t,s,i,e,u,c,n,r):1===f?this.PS(t,s,i,e,u,c,n,r):this.ES(t,s,i,e,u,c,n,r)}CS(t,s,i,e,n,r,h,o){const a=this.hw,l=t+a-r,u=s+a-n,c=i+a+r,f=e+a+n,d=2*r,p=2*n,m=l+n,g=u-r,y=l-n+d,w=u+r+p,S=c+n,v=f-r,b=c-n-d,x=f+r-p;ri.set(m,g,S,v,b,x,y,w),hi.set(h,0,o,0),this.AS(ri,hi)}PS(t,s,i,e,n,r,h,o){const a=this.hw,l=t+a-r,u=s+a-n,c=i+a+r,f=e+a+n,d=l+n,p=u-r,m=l-n,g=u+r,y=c+n,w=f-r,S=c-n,v=f+r;ri.set(d,p,y,w,S,v,m,g),hi.set(h,0,o,0),this.AS(ri,hi)}ES(t,s,i,e,n,r,h,o){const a=this.hw,l=t+a,u=s+a,c=i+a,f=e+a,d=l+n,p=u-r,m=l-n,g=u+r,y=c+n,w=f-r,S=c-n,v=f+r;ri.set(d,p,y,w,S,v,m,g),hi.set(h,0,o,0),this.AS(ri,hi)}RS(t,s,i,e){const n=.5*this.Qy,r=this.ew;2===r?this.FS(t,s,i,e,n):1===r?this.DS(t,s,i,e,n):this.OS(t,s,i,e,n)}FS(t,s,i,e,n){this.xS(t,s,0,i,s,0,0,n),this.xS(i,s,0,i,e,0,n,0),this.xS(i,e,0,t,e,0,0,-n),this.xS(t,e,0,t,s,0,-n,0)}DS(t,s,i,e,n){this.MS(t,s,0,i,s,0,0,n),this.MS(i,s,0,i,e,0,n,0),this.MS(i,e,0,t,e,0,0,-n),this.MS(t,e,0,t,s,0,-n,0)}OS(t,s,i,e,n){this.TS(t,s,0,i,s,0,0,n),this.TS(i,s,0,i,e,0,n,0),this.TS(i,e,0,t,e,0,0,-n),this.TS(t,e,0,t,s,0,-n,0)}LS(t){this.RS(t.Ml(),t.Tl(),t._l(),t.Gl())}kS(t){const s=Ks.Tr(t.ih(),t.eh(),t.nh(),t.rh()),i=Math.sin(s),e=Math.cos(s),n=.5*this.Qy,r=i*n,h=e*n,o=this.ew;2===o?this.BS(t,r,h):1===o?this.NS(t,r,h):this.WS(t,r,h)}BS(t,s,i){this.xS(t.ih(),t.eh(),0,t.nh(),t.rh(),0,s,i),this.xS(t.nh(),t.rh(),0,t.hh(),t.oh(),0,i,-s),this.xS(t.hh(),t.oh(),0,t.ah(),t.lh(),0,-s,-i),this.xS(t.ah(),t.lh(),0,t.ih(),t.eh(),0,-i,s)}NS(t,s,i){this.MS(t.ih(),t.eh(),0,t.nh(),t.rh(),0,s,i),this.MS(t.nh(),t.rh(),0,t.hh(),t.oh(),0,i,-s),this.MS(t.hh(),t.oh(),0,t.ah(),t.lh(),0,-s,-i),this.MS(t.ah(),t.lh(),0,t.ih(),t.eh(),0,-i,s)}WS(t,s,i){this.TS(t.ih(),t.eh(),0,t.nh(),t.rh(),0,s,i),this.TS(t.nh(),t.rh(),0,t.hh(),t.oh(),0,i,-s),this.TS(t.hh(),t.oh(),0,t.ah(),t.lh(),0,-s,-i),this.TS(t.ah(),t.lh(),0,t.ih(),t.eh(),0,-i,s)}jS(t){this.Qy=t,this.iw[this.iw.length-1]=t}VS(){return this.Qy}US(t){if(100<=this.iw.length)throw new Error("pushed too many line widths - check push/pop pairs");this.iw.push(t),this.Qy=t}HS(){if(this.iw.length<=1)throw new Error("cannot pop last line width - check push/pop pairs");this.iw.pop(),this.Qy=this.iw.at(-1)}zS(){this.ew=0,this.rw[this.rw.length-1]=0}JS(){this.ew=1,this.rw[this.rw.length-1]=0}qS(){this.ew=2,this.rw[this.rw.length-1]=0}$S(t){if("butt"===t)this.XS();else if("square"===t)this.YS();else{if("zag"!==t)throw new Error("invalid line cap");this.ZS()}}XS(){if(100<=this.rw.length)throw new Error("pushed too many line caps - check push/pop pairs");this.rw.push(0),this.ew=0}YS(){if(100<=this.rw.length)throw new Error("pushed too many line caps - check push/pop pairs");this.rw.push(1),this.ew=1}ZS(){if(100<=this.rw.length)throw new Error("pushed too many line caps - check push/pop pairs");this.rw.push(2),this.ew=2}KS(){if(this.rw.length<=1)throw new Error("cannot pop last line cap - check push/pop pairs");this.rw.pop(),this.ew=this.rw.at(-1)}QS(t){this.hw=t,this.ow[this.ow.length-1]=t}tv(){return this.hw}sv(t){if(100<=this.ow.length)throw new Error("pushed too many line offsets - check push/pop pairs");this.ow.push(t),this.hw=t}nv(){if(this.ow.length<=1)throw new Error("cannot pop last line offset - check push/pop pairs");this.ow.pop(),this.hw=this.ow.at(-1)}rv(s){const t=s.length/2;if(t<3)throw new Error("need at least 3 points");const i=t-2,e=i-1,n=s[0],r=s[1];for(let t=0;t<i;t+=2){const h=2*t,o=s[2+h],a=s[3+h],l=s[4+h],u=s[5+h];if(t===e)this.hv(n,r,o,a,l,u,l,u);else{const c=s[6+h],f=s[7+h];this.hv(n,r,o,a,l,u,c,f)}}}ov(){return 3}av(){this.lv(!0),this.aw++}uv(){return this.aw}cv(){this.aw++}dv(t){this.lw=!!t}pv(){return this.lw}mv(t){this.uw=!!t}gv(){return this.uw}yv(){return!1}Rw(){return!1}wv(){}Sv(){}vv(){}bv(){return this.wv()+this.Sv()+this.vv()}xv(){return Ks.lr(Ks.ey.Mv,this)}}}{const ui=self.Bs;ui.ey.Tv=class{constructor(t,s){this.pr=s.name,this._v=t,this.Gv=s.Iv||0,this.Cv=s.Pv||0,this.Ev=!!s.Av,this.Rv=!!s.Fv,this.Dv=!!s.Ov,this.Lv=!!s.kv,this.Bv=!!s.Nv,this.Wv=!!s.jv,this.Vv=!!s.Uv,this.Hv=!1,this.zv=this.Ev||this.Wv||0!==this.Gv||0!==this.Cv}ur(){this._v=null}Jv(){return this._v}Kc(){return this.pr}qv(){return 0!==this.Gv||0!==this.Cv}$v(){return this.Gv}Xv(){return this.Cv}Yv(){return this.Ev}Zv(){return this.Rv}Kv(){return this.Dv}Qv(){return this.Lv}t2(){return this.Bv}s2(){return this.Wv}i2(){return this.Vv}e2(){return this.Hv}n2(){return this.zv}h2(){return!1}}}{const ci=self.Bs;ci.ey.nS=class{constructor(t,s,i,e,n){this._v=t,this.d1=0,this.o2=null,this.a2="",this.l2=i,this.u2=ci.lr(ci.Uo),this.u2.set(e),this.c2=n,"string"==typeof s?this.a2=s:(this.o2=s,this.a2=this.o2.Kc())}ur(){if(0<this.d1)throw new Error("releasing state group still in use");this._v=null,this.o2=null,this.a2=""}f2(){const t=this._v;t.jw(this.o2),t.d2(this.l2),t.m2(this.u2),t.vS(this.c2),t.tS(this)}lS(){return ci.ey.nS.eS(this.a2,this.l2,this.u2,this.c2)}rS(){++this.d1}oS(){--this.d1}aS(){return this.d1}g2(){this.o2=null}w2(t){if(this.o2=t.Bw(this.a2),!this.o2)throw new Error("failed to restore shader program")}static eS(t,s,i,e){const n="string"==typeof t?t:t.Kc();return n+","+s+","+i.na()+","+i.ra()+","+i.oa()+","+i.aa()+","+e}}}{let e=function(t,s,i){const e=i.ih(),n=i.eh(),r=i.nh()-e,h=i.rh()-n,o=i.ah()-e,a=i.lh()-n,l=r*t,u=h*t,c=o*s,f=a*s;return[e+l+c,n+u+f]};e;const G=self.Bs,fi=G.lr(G.Ql);G.ey.S2=class{constructor(t,s,i){this.v2=t,this.b2=s,this.M2=i,this.tl=NaN,this.sl=NaN,this.c2=NaN,this.T2=NaN,this._2=NaN,this.tl=0,this.sl=0,this.c2=0,this.T2=0,this._2=0}G2(t,s,i,e){this.tl=t,this.sl=s,this.T2=i,this._2=e}I2(){return this.tl}C2(t){this.tl!==t&&(this.tl=t,this.v2.P2())}E2(){return this.sl}A2(t){this.sl!==t&&(this.sl=t,this.v2.P2())}R2(){return this.c2}F2(t){this.c2!==t&&(this.c2=Math.max(t,0),this.v2.P2())}D2(){return this.T2}O2(t){this.T2=t}L2(){return this._2}B2(t){this._2=t}N2(t,s,i){[this.tl,this.sl]=e(t.tl,t.sl,s),this.c2=t.c2,this.T2=G.Lt(i.Ml(),i._l(),t.T2),this._2=G.Lt(i.Tl(),i.Gl(),t._2)}W2(t,s,i){[this.tl,this.sl]=e(t.tl,t.sl,s),this.c2=t.c2,[this.T2,this._2]=e(t.T2,t._2,i)}j2(){return{x:this.I2(),y:this.E2(),z:this.R2(),u:this.D2(),v:this.L2()}}V2(t){this.C2(t.x),this.A2(t.y),t.hasOwnProperty("z")&&this.F2(t.z),this.O2(t.u),this.B2(t.v)}U2(){return this.v2}H2(){return this.b2}z2(){return this.M2}},G.ey.J2=class{constructor(i,t,s){if(i<2||t<2)throw new Error("invalid mesh size");this.q2=i,this.X2=t,this.Y2=s||null,this.Z2=[],this.K2=0,this.Q2=0,this.tb=1,this.sb=1,this.ib=0,this.eb=!1;const e=i-1,n=t-1;for(let s=0;s<t;++s){const r=[];for(let t=0;t<i;++t){const h=G.lr(G.ey.S2,this,t,s),o=t/e,a=s/n;h.G2(o,a,o,a),r.push(h)}this.Z2.push(r)}}ur(){G.Bh(this.Z2)}nb(){return this.q2}rb(){return this.X2}hb(){return this.Y2}ob(){return this.Z2}P2(){this.eb=!0}ab(){if(this.eb){let t=1/0,s=1/0,i=-1/0,e=-1/0,n=0;for(const r of this.Z2)for(const h of r){const o=h.I2(),a=h.E2();t=Math.min(t,o),s=Math.min(s,a),i=Math.max(i,o),e=Math.max(e,a),n=Math.max(n,h.R2())}this.K2=t,this.Q2=s,this.tb=i,this.sb=e,this.ib=n,this.eb=!1}}lb(){return this.ab(),this.K2}ub(){return this.ab(),this.Q2}cb(){return this.ab(),this.tb}fb(){return this.ab(),this.sb}pb(){return this.ab(),this.ib}mb(){return 0<this.pb()}gb(t,s){return t=Math.floor(t),s=Math.floor(s),t<0||t>=this.q2||s<0||s>=this.X2?null:this.Z2[s][t]}yb(t,i,e){const n=e instanceof G.Rect;if(t.nb()!==this.nb()||t.rb()!==this.rb())throw new Error("source mesh wrong size");const r=t.Z2,h=this.Z2;for(let t=0,s=h.length;t<s;++t){const o=r[t],a=h[t];for(let t=0,s=a.length;t<s;++t){const l=o[t],u=a[t];n?u.N2(l,i,e):u.W2(l,i,e)}}}wb(r){let h=this.Z2,o=h[0];for(let t=1,s=h.length;t<s;++t){let i=h[t],e=o[0],n=i[0];for(let t=1,s=i.length;t<s;++t){const a=o[t],l=i[t];fi.set(e.D2(),e.L2(),a.D2(),a.L2(),l.D2(),l.L2(),n.D2(),n.L2()),r.GS(e.I2(),e.E2(),e.R2(),a.I2(),a.E2(),a.R2(),l.I2(),l.E2(),l.R2(),n.I2(),n.E2(),n.R2(),fi),e=a,n=l}o=i}}Sb(o,a){a=a||((t,s,i)=>[t,s,i]);let t=this.Z2,l=t[0];for(let r=1,h=t.length;r<h;++r){let i=t[r],e=l[0],n=i[0];for(let t=1,s=i.length;t<s;++t){const u=l[t],c=i[t],[f,d,p]=a(e.I2(),e.E2(),e.R2()),[m,g,y]=a(u.I2(),u.E2(),u.R2()),[w,S,v]=a(c.I2(),c.E2(),c.R2()),[b,x,M]=a(n.I2(),n.E2(),n.R2());o._S(f,d,p,m,g,y),o._S(f,d,p,w,S,v),o._S(f,d,p,b,x,M),t===s-1&&o._S(m,g,y,w,S,v),r===h-1&&o._S(b,x,M,w,S,v),e=u,n=c}l=i}}vb(t){let i=.99999999,e=t.Bu(),n=[],r=this.nb()-1,h=this.rb()-1,o=1/r,a=1/h,l=r-1,u=h-1,c=e[0],f=e[1],d=G.gr(Math.floor(c*r),0,l),p=G.gr(Math.floor(f*h),0,u),m=!0,g=0,y=0,w=0,S=-1,v=()=>{c=G.gr(G.Lt(c,g,w),0,1),f=G.gr(G.Lt(f,y,w),0,1),n.push(c,f)};for(let t=0,s=e.length;t<s;t+=2){c=e[t],f=e[t+1],n.push(c,f),d=G.gr(Math.floor(c*r),0,l),p=G.gr(Math.floor(f*h),0,u);const b=(t+2)%s;for(g=e[b],y=e[1+b],S=-1;;){if(1e6<n.length)throw new Error("Too many mesh poly points");const x=d*o,M=p*a,T=(d+1)*o,_=(p+1)*a;if(m=G.mh(c,f,x,M,T,M,T,_),0!==S&&0<=(w=G.ph(c,f,g,y,x,M,T,_,-.001))&&w<=i)v(),m=!m,S=0;else if(0<p&&2!==S&&0<=(w=G.ph(c,f,g,y,x,M,T,M,.001))&&w<=i)v(),p--,m=!1,S=4;else if(d<l&&3!==S&&0<=(w=G.ph(c,f,g,y,T,M,T,_,.001))&&w<=i)v(),d++,m=!1,S=1;else if(0<d&&1!==S&&0<=(w=G.ph(c,f,g,y,x,M,x,_,.001))&&w<=i)v(),d--,m=!0,S=3;else{if(!(p<u&&4!==S&&0<=(w=G.ph(c,f,g,y,x,_,T,_,.001))&&w<=i))break;v(),p++,m=!0,S=2}}}return G.lr(G.Fu,n)}bb(t,s){const i=this.xb(t);this.Mb(i),s.Wu(i)}xb(t){const i=[],e=t.Bu();for(let t=0,s=e.length;t<s;t+=2){const n=e[t],r=e[t+1],[h,o]=this.Tb(n,r);i.push(h,o)}return i}Tb(t,s){const i=this.nb()-1,e=this.rb()-1,n=1/i,r=1/e,h=G.gr(Math.floor(t*i),0,i-1),o=G.gr(Math.floor(s*e),0,e-1),a=h*n,l=o*r,u=(h+1)*n,c=(o+1)*r,f=this.gb(h,o),d=this.gb(h+1,o+1),p=G.mh(t,s,a,l,u,l,u,c),m=p?a+n:a,g=p?l:l+r,y=this.gb(h+(p?1:0),o+(p?0:1)),[w,S,v]=G.gh(t,s,a,l,m,g,u,c);return G.yh(w,S,v,f.I2(),f.E2(),f.R2(),y.I2(),y.E2(),y.R2(),d.I2(),d.E2(),d.R2())}Mb(i){let e=[],n=i[0],r=i[1],h=n-i.at(-2),o=r-i.at(-1);for(let t=0,s=i.length;t<s;t+=2){const a=(t+2)%s,l=i[a],u=i[1+a],c=l-n,f=u-r,d=Math.abs(c)<1e-7&&Math.abs(h)<1e-7&&Math.sign(f)===Math.sign(o),p=Math.abs(f)<1e-7&&Math.abs(o)<1e-7&&Math.sign(c)===Math.sign(h);(!d&&!p&&.001<Math.abs(c/h-f/o)||0==c&&0==f)&&e.push(n,r),n=l,r=u,h=c,o=f}6<=e.length&&e.length<i.length&&G.Vh(i,e)}j2(){return{cols:this.nb(),rows:this.rb(),points:this.Z2.map(t=>t.map(t=>t.j2()))}}V2(t){const i=this.nb(),e=this.rb();if(t.cols!==i||t.rows!==e)throw new Error("mesh data wrong size");const n=t.points;for(let s=0;s<e;++s){const r=n[s];for(let t=0;t<i;++t){const h=this.gb(t,s);h.V2(r[t])}}}}}{let d=function(t,s){let i,e,n,r;switch(t){case"rgba8":i=s.RGBA8,e=s.RGBA,n=s.RGBA,r=s.UNSIGNED_BYTE;break;case"rgb8":i=s.RGB8,e=s.RGB,n=s.RGB,r=s.UNSIGNED_BYTE;break;case"rgba4":i=s.RGBA4,e=s.RGBA,n=s.RGBA,r=s.UNSIGNED_SHORT_4_4_4_4;break;case"rgb5_a1":i=s.RGB5_A1,e=s.RGBA,n=s.RGBA,r=s.UNSIGNED_SHORT_5_5_5_1;break;case"rgb565":i=s.RGB565,e=s.RGB,n=s.RGB,r=s.UNSIGNED_SHORT_5_6_5;break;default:throw new Error("invalid pixel format")}return{_b:i,Gb:e,format:n,type:r}};d;const di=self.Bs,pi=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),mi=new Set(["nearest","bilinear","trilinear"]),gi=new Set(["default","low","high"]),yi=new Set(["clamp-to-edge","repeat","mirror-repeat"]),wi={Ib:"clamp-to-edge",Cb:"clamp-to-edge",Pb:"trilinear",Eb:0,Ab:"rgba8",Rb:!0,Fb:"default",premultiplyAlpha:!0,Db:!1,width:-1,height:-1},Si={premultiplyAlpha:!0,flipY:!1},vi=new Set;di.ey.Ob=class{constructor(t){this._v=t,this.Lb=null,this.Xm=0,this.Ym=0,this.kb=!0,this.Bb="clamp-to-edge",this.Nb="clamp-to-edge",this.Wb="trilinear",this.jb=0,this.Vb="rgba8",this.Ub=!1,this.Hb="default",this.d1=0}zb(s,t){if(!("undefined"!=typeof HTMLImageElement&&s instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&s instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&s instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&s instanceof OffscreenCanvas||s instanceof ImageData||s instanceof ArrayBuffer||null===s))throw new Error("invalid texture source");if(t=Object.assign({},wi,t),this.Lb)throw new Error("already created texture");if(this.Bb=t.Ib,this.Nb=t.Cb,this.Wb=t.Pb,this.jb=t.Eb,this.Vb=t.Ab,this.Ub=!!t.Rb&&this._v.pv(),this.Hb=t.Fb,!yi.has(this.Bb)||!yi.has(this.Nb))throw new Error("invalid wrap mode");if(!mi.has(this.Wb))throw new Error("invalid sampling");if(!pi.has(this.Vb))throw new Error("invalid pixel format");if(!gi.has(this.Hb))throw new Error("invalid mipmap quality");if(this.kb=!0,s instanceof ArrayBuffer||null===s||t.Db){if(this.Xm=t.width,this.Ym=t.height,s instanceof ArrayBuffer&&s.byteLength!==this.Xm*this.Ym*4)throw new Error("ArrayBuffer wrong size")}else this.Xm=s.width,this.Ym=s.height;if(this.Xm<=0||this.Ym<=0)throw new Error("invalid texture data size");if(t.Db){const o=di.Ao(this.Xm,this.Ym),a=o.getContext("2d");a.drawImage(s,0,0,this.Xm,this.Ym),s=o}const i=di.kr(this.Xm)&&di.kr(this.Ym),e=this._v.Jb();if(this.Xm>e||this.Ym>e)throw new Error("texture data exceeds maximum texture size");const n=this._v.qb(),r=this._v.$b(),h=(this.Lb=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.Lb),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1),d(this.Vb,n));if(this._v.Xb()||i||!this.Yb())if(2<=r){let t;t=this.Ub?Math.floor(Math.log2(Math.max(this.Xm,this.Ym))+1):1,n.texStorage2D(n.TEXTURE_2D,t,h._b,this.Xm,this.Ym),s instanceof ArrayBuffer?n.texSubImage2D(n.TEXTURE_2D,0,0,0,this.Xm,this.Ym,h.format,h.type,new Uint8Array(s)):null!==s&&n.texSubImage2D(n.TEXTURE_2D,0,0,0,h.format,h.type,s)}else s instanceof ArrayBuffer?n.texImage2D(n.TEXTURE_2D,0,h.Gb,this.Xm,this.Ym,0,h.format,h.type,new Uint8Array(s)):null===s?n.texImage2D(n.TEXTURE_2D,0,h.Gb,this.Xm,this.Ym,0,h.format,h.type,null):n.texImage2D(n.TEXTURE_2D,0,h.Gb,h.format,h.type,s);else{if(null===s)throw new Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");if((s=s instanceof ArrayBuffer?new ImageData(new Uint8ClampedArray(s),this.Xm,this.Ym):s)instanceof ImageData){const c=di.Ao(this.Xm,this.Ym),f=c.getContext("2d");f.putImageData(s,0,0),s=c}const l=di.Ao(di.Br(this.Xm),di.Br(this.Ym)),u=l.getContext("2d");u.imageSmoothingEnabled="nearest"!==this.Wb,u.drawImage(s,0,0,this.Xm,this.Ym,0,0,l.width,l.height),n.texImage2D(n.TEXTURE_2D,0,h.Gb,h.format,h.type,l)}null!==s&&this.Zb(n),n.bindTexture(n.TEXTURE_2D,null),this._v.Kb(),this.d1=1,vi.add(this)}Qb(t,s,i){if(i=Object.assign({},wi,i),this.Lb)throw new Error("already created texture");if(this.Bb=i.Ib,this.Nb=i.Cb,this.Wb=i.Pb,this.Vb=i.Ab,this.Ub=!!i.Rb&&this._v.pv(),this.Hb=i.Fb,!yi.has(this.Bb)||!yi.has(this.Nb))throw new Error("invalid wrap mode");if(!mi.has(this.Wb))throw new Error("invalid sampling");if(!pi.has(this.Vb))throw new Error("invalid pixel format");if(!gi.has(this.Hb))throw new Error("invalid mipmap quality");this.kb=!1,this.Xm=Math.floor(t),this.Ym=Math.floor(s);const e=di.kr(this.Xm)&&di.kr(this.Ym),n=this._v.Jb();if(this.Xm<=0||this.Ym<=0)throw new Error("invalid texture size");if(this.Xm>n||this.Ym>n)throw new Error("texture exceeds maximum texture size");if(!this._v.Xb()&&this.Yb()&&!e)throw new Error("non-power-of-two tiled textures not supported");const r=this._v.qb(),h=this._v.$b(),o=(this.Lb=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this.Lb),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),d(this.Vb,r)),a=2<=h?o._b:o.Gb;r.texImage2D(r.TEXTURE_2D,0,a,this.Xm,this.Ym,0,o.format,o.type,null),this.Zb(r),r.bindTexture(r.TEXTURE_2D,null),this._v.Kb(),this.d1=1,vi.add(this)}tx(t){if("default"===this.Hb)return this.kb?t.NICEST:t.FASTEST;if("low"===this.Hb)return t.FASTEST;if("high"===this.Hb)return t.NICEST;throw new Error("invalid mipmap quality")}Yb(){return"clamp-to-edge"!==this.Bb||"clamp-to-edge"!==this.Nb}ix(t,s){if("clamp-to-edge"===s)return t.CLAMP_TO_EDGE;if("repeat"===s)return t.REPEAT;if("mirror-repeat"===s)return t.MIRRORED_REPEAT;throw new Error("invalid wrap mode")}Zb(t){const s=di.kr(this.Xm)&&di.kr(this.Ym);if(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this.ix(t,this.Bb)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this.ix(t,this.Nb)),"nearest"===this.Wb)t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),this.Ub=!1;else if(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),(s||this._v.Xb())&&this.Ub){t.hint(t.GENERATE_MIPMAP_HINT,this.tx(t)),t.generateMipmap(t.TEXTURE_2D);const e="trilinear"===this.Wb&&!this._v.gv();t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.LINEAR_MIPMAP_NEAREST)}else t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),this.Ub=!1;const i=this._v.nx();i&&0<this.jb&&"nearest"!==this.Wb&&t.texParameterf(t.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.jb,this._v.hx()))}ox(t,s){if(!("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||t instanceof ImageData))throw new Error("invalid texture source");if(!this.Lb||this.d1<=0)throw new Error("texture not created");if(this.kb)throw new Error("cannot update static texture");s=Object.assign({},Si,s);const i=t.width||t.videoWidth,e=t.height||t.videoHeight,n=this._v.$b(),r=this._v.qb(),h=(r.bindTexture(r.TEXTURE_2D,this.Lb),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!!s.flipY),d(this.Vb,r)),o=2<=n?h._b:h.Gb;try{if(this.Xm===i&&this.Ym===e){const a=di.kr(this.Xm)&&di.kr(this.Ym);r.texSubImage2D(r.TEXTURE_2D,0,0,0,h.format,h.type,t),(a||this._v.Xb())&&this.Ub&&(r.hint(r.GENERATE_MIPMAP_HINT,this.tx(r)),r.generateMipmap(r.TEXTURE_2D))}else{this.Xm=i,this.Ym=e;const l=di.kr(this.Xm)&&di.kr(this.Ym);if(!this._v.Xb()&&this.Yb()&&!l)throw new Error("non-power-of-two tiled textures not supported");r.texImage2D(r.TEXTURE_2D,0,o,h.format,h.type,t),(l||this._v.Xb())&&this.Ub&&(r.hint(r.GENERATE_MIPMAP_HINT,this.tx(r)),r.generateMipmap(r.TEXTURE_2D))}}catch(t){console.error("Error updating WebGL texture: ",t)}r.bindTexture(r.TEXTURE_2D,null),this._v.Kb()}lx(){if(0<this.d1)throw new Error("texture still has references");if(!this.Lb)throw new Error("already deleted texture");vi.delete(this);const t=this._v.qb();t.deleteTexture(this.Lb),this.Lb=null}ux(){return!!this.Lb}mx(){return this.Lb}Jv(){return this._v}gx(){this.d1++}yx(){if(this.d1<=0)throw new Error("no more references");this.d1--}wx(){return this.d1}um(){return this.Xm}Mm(){return this.Ym}Sx(){return this.kb}vx(){let t=this.Xm*this.Ym;switch(this.Vb){case"rgba8":t*=4;break;case"rgb8":t*=3;break;case"rgba4":case"rgb5_a1":case"rgb565":t*=2}return this.Ub&&(t+=Math.floor(t/3)),t}static g2(){vi.clear()}static bx(){return vi.values()}}}{const bi=self.Bs,xi=self.bs,_n=xi.Ps,Tn=xi._s,Mi=new Set(["nearest","bilinear","trilinear"]),Ti={Pb:"trilinear",alpha:!0,depth:!1,xx:!0,Mx:!0,Tx:0},_i=new Set;bi.ey._x=class{constructor(t){this._v=t,this.Gx=null,this.Ix=null,this.Lb=null,this.Cx=null,this.Xm=0,this.Ym=0,this.Px=!0,this.Wb="trilinear",this.Ex=!0,this.Ax=!1,this.Rx=!0,this.Fx=0,this.Dx=Tn.create(),this.Ox=0,this.Lx=0,this.kx=0}Bx(t,s,i){i=Object.assign({},Ti,i);const e=this._v.$b();if(this.Lb||this.Cx)throw new Error("already created render target");if(this.Wb=i.Pb,this.Ex=!!i.alpha,this.Ax=!!i.depth,this.Rx=!!i.xx,this.Px=!!i.Mx,this.Fx=i.Tx,!Mi.has(this.Wb))throw new Error("invalid sampling");if(0<this.Fx&&(e<2||this.Rx))throw new Error("invalid use of multisampling");if(e<2&&(this.Rx=!0),this.Xm=t,this.Ym=s,this.Xm<=0||this.Ym<=0)throw new Error("invalid render target size");this.Nx();const n=this._v.qb();if(this.Gx=n.createFramebuffer(),this.Ax&&(this.Ix=n.createFramebuffer()),this.Rx){this.Lb=this._v.Wx(this.Xm,this.Ym,{Pb:this.Wb,Ab:this.Ex?"rgba8":"rgb8",Rb:!1});const h=this.Lb.mx();n.bindFramebuffer(n.FRAMEBUFFER,this.Gx),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,h,0),this.Ax&&(n.bindFramebuffer(n.FRAMEBUFFER,this.Ix),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,h,0))}else{this.Cx=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,this.Cx);const o=this.Ex?n.RGBA8:n.RGB8;if(0<this.Fx){const a=n.getInternalformatParameter(n.RENDERBUFFER,o,n.SAMPLES);if(a&&a[0]){const l=a[0];this.Fx>l&&(this.Fx=l)}else this.Fx=0}0===this.Fx?n.renderbufferStorage(n.RENDERBUFFER,o,this.Xm,this.Ym):n.renderbufferStorageMultisample(n.RENDERBUFFER,this.Fx,o,this.Xm,this.Ym),n.bindFramebuffer(n.FRAMEBUFFER,this.Gx),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,this.Cx),this.Ax&&(n.bindFramebuffer(n.FRAMEBUFFER,this.Ix),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,this.Cx)),n.bindRenderbuffer(n.RENDERBUFFER,null)}const r=this._v.jx();this.Ax&&r&&(n.bindFramebuffer(n.FRAMEBUFFER,this.Gx),this._v.Vx()?n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,r,0):n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,r)),n.bindFramebuffer(n.FRAMEBUFFER,null),_i.add(this)}Ux(t,s){if(this.Xm!==t||this.Ym!==s){this.Xm=t,this.Ym=s,this.Nx();const i=this._v.qb(),e=(i.bindFramebuffer(i.FRAMEBUFFER,this.Gx),this.Lb?this.Lb.ox(new ImageData(this.Xm,this.Ym)):(i.bindRenderbuffer(i.RENDERBUFFER,this.Cx),i.renderbufferStorage(i.RENDERBUFFER,this.Ex?i.RGBA8:i.RGB8,this.Xm,this.Ym),i.bindRenderbuffer(i.RENDERBUFFER,null)),this._v.jx());this.Ax&&e&&(this._v.Vx()?i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,e,0):i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,e)),i.bindFramebuffer(i.FRAMEBUFFER,null)}}lx(){if(!this.Lb&&!this.Cx)throw new Error("already deleted render target");_i.delete(this);const t=this._v.qb(),s=(this.Lb?(t.bindFramebuffer(t.FRAMEBUFFER,this.Gx),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0),this.Ax&&(t.bindFramebuffer(t.FRAMEBUFFER,this.Ix),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)),this._v.Hx(this.Lb),this.Lb=null):this.Cx&&(t.bindFramebuffer(t.FRAMEBUFFER,this.Gx),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,null),this.Ax&&(t.bindFramebuffer(t.FRAMEBUFFER,this.Ix),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,null)),t.deleteRenderbuffer(this.Cx),this.Cx=null),t.bindFramebuffer(t.FRAMEBUFFER,null),2<=this._v.$b()&&(t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null)),t.deleteFramebuffer(this.Gx),this.Ax&&t.deleteFramebuffer(this.Ix),this._v.zx());s.Jx=null,this.Gx=s.qx=null}Nx(){this._v.Aw(this.Dx,this.Xm/this.Ym),this.Ox=this._v.Iw(),this.Lx=this._v.Mw(),this.kx=this._v._w()}$x(){return this.Gx}Xx(){return this.Ix}Jv(){return this._v}Yx(){return this.Lb}Zx(){return this._v.Iw()===this.Ox&&this._v.Mw()===this.Lx&&this._v._w()===this.kx||this.Nx(),this.Dx}Kx(){return"nearest"!==this.Wb}Qx(){return this.Ex}tM(){return this.Rx}sM(){return this.Ax}um(){return this.Xm}Mm(){return this.Ym}iM(){return this.Px}eM(){return this.Fx}nM(){const t={Pb:this.Wb,alpha:this.Ex,xx:this.Rx};return this.Px||(t.width=this.Xm,t.height=this.Ym),t}rM(t){return"nearest"!==(t=Object.assign({},Ti,t)).Pb===this.Kx()&&!!t.alpha===this.Qx()&&!!t.depth===this.sM()&&!(2<=this._v.$b()&&!!t.xx!==this.tM())&&("number"==typeof t.width||"number"==typeof t.height?!this.iM()&&this.um()===Math.floor(t.width)&&this.Mm()===Math.floor(t.height):this.iM())}hM(){return this.Lb?this.Lb.mx():null}vx(){return this.Lb?this.Lb.vx():this.Xm*this.Ym*(this.Ex?4:3)}static async oM(t,s){const i=await t.aM(s,!0);return bi.Do(i)}static g2(){_i.clear()}static lM(){return _i.values()}static uM(t,s){for(const i of _i)i.iM()&&i.Ux(t,s)}}}{const m=self.Bs,Gi=self.bs,_n=Gi.Ps,Tn=Gi._s,Ii=new Set(["aPos","aTex","aPoints","matP","matMV","samplerFront","samplerBack","samplerDepth","destStart","destEnd","srcStart","srcEnd","srcOriginStart","srcOriginEnd","pixelSize","seconds","devicePixelRatio","layerScale","layerAngle","layoutStart","layoutEnd","color","color2_","pointTexStart","pointTexEnd","zElevation","tileSize","tileSpacing","outlineThickness","zNear","zFar"]);m.ey.cM=class extends m.ey.Tv{static async fM(t,s){const i=t.qb(),e=s.src,n=s.dM,r=s.name,h=i.createShader(i.FRAGMENT_SHADER),o=(i.shaderSource(h,e),i.compileShader(h),i.createShader(i.VERTEX_SHADER)),a=(i.shaderSource(o,n),i.compileShader(o),i.createProgram()),l=(i.attachShader(a,h),i.attachShader(a,o),i.bindAttribLocation(a,0,"aPos"),i.bindAttribLocation(a,1,"aTex"),i.bindAttribLocation(a,2,"aPoints"),i.linkProgram(a),t.pM());if(l?await t.mM(()=>i.getProgramParameter(a,l.COMPLETION_STATUS_KHR)):await m.Rh(5),!i.getShaderParameter(h,i.COMPILE_STATUS)){const c=i.getShaderInfoLog(h);throw i.deleteShader(h),i.deleteShader(o),i.deleteProgram(a),new Error("Error compiling fragment shader: "+c)}if(!i.getShaderParameter(o,i.COMPILE_STATUS)){const f=i.getShaderInfoLog(o);throw i.deleteShader(h),i.deleteShader(o),i.deleteProgram(a),new Error("Error compiling vertex shader: "+f)}if(!i.getProgramParameter(a,i.LINK_STATUS)){const d=i.getProgramInfoLog(a);throw i.deleteShader(h),i.deleteShader(o),i.deleteProgram(a),new Error("Error linking shader program: "+d)}const u=m.J1(i.getProgramInfoLog(a)||"").trim();return u&&!m.U1(u)&&console.info(`[WebGL] Shader program '${r}' compilation log: `,u),i.deleteShader(h),i.deleteShader(o),a}static async gM(t,s){const i=await m.ey.cM.fM(t,s);return new m.ey.cM(t,i,s)}constructor(t,s,i){super(t,i);const e=t.qb(),n=t.zx(),r=(t.lv(),e.useProgram(s),this.yM=e,this.o2=s,this.wM="<default-device-transform>"===i.name,e.getAttribLocation(s,"aPos")),h=e.getAttribLocation(s,"aTex"),o=(this.SM=e.getAttribLocation(s,"aPoints"),-1!==r&&(e.bindBuffer(e.ARRAY_BUFFER,t.vM),e.vertexAttribPointer(r,t.ov(),e.FLOAT,!1,0,0),e.enableVertexAttribArray(r)),-1!==h&&(e.bindBuffer(e.ARRAY_BUFFER,t.bM),e.vertexAttribPointer(h,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(h)),-1!==this.SM&&(e.bindBuffer(e.ARRAY_BUFFER,t.xM),e.vertexAttribPointer(this.SM,4,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this.SM)),e.bindBuffer(e.ARRAY_BUFFER,null),this.MM=new m.ey.TM(this,"matP","mat4"),this._M=new m.ey.TM(this,"matMV","mat4"),this.GM=new m.ey.TM(this,"color","vec4"),this.IM=new m.ey.TM(this,"samplerFront","sampler"),this.CM=new m.ey.TM(this,"pointTexStart","vec2"),this.PM=new m.ey.TM(this,"pointTexEnd","vec2"),this.EM=new m.ey.TM(this,"zElevation","float"),this.AM=new m.ey.TM(this,"tileSize","vec2"),this.RM=new m.ey.TM(this,"tileSpacing","vec2"),this.FM=new m.ey.TM(this,"color2_","vec4"),this.DM=new m.ey.TM(this,"outlineThickness","float"),this.OM=new m.ey.TM(this,"samplerBack","sampler"),this.LM=new m.ey.TM(this,"samplerDepth","sampler"),this.kM=new m.ey.TM(this,"destStart","vec2"),this.BM=new m.ey.TM(this,"destEnd","vec2"),this.NM=new m.ey.TM(this,"srcStart","vec2"),this.WM=new m.ey.TM(this,"srcEnd","vec2"),this.jM=new m.ey.TM(this,"srcOriginStart","vec2"),this.VM=new m.ey.TM(this,"srcOriginEnd","vec2"),this.UM=new m.ey.TM(this,"pixelSize","vec2"),this.HM=new m.ey.TM(this,"seconds","float"),this.zM=new m.ey.TM(this,"devicePixelRatio","float"),this.JM=new m.ey.TM(this,"layerScale","float"),this.qM=new m.ey.TM(this,"layerAngle","float"),this.$M=new m.ey.TM(this,"layoutStart","vec2"),this.XM=new m.ey.TM(this,"layoutEnd","vec2"),this.YM=new m.ey.TM(this,"zNear","float"),this.ZM=new m.ey.TM(this,"zFar","float"),this.KM=!!(this.UM.QM()||this.HM.QM()||this.OM.QM()||this.kM.QM()||this.BM.QM()||this.NM.QM()||this.WM.QM()||this.jM.QM()||this.VM.QM()||this.zM.QM()||this.JM.QM()||this.qM.QM()||this.$M.QM()||this.XM.QM()),i.parameters||[]);this.tT=[],this.Hv=this.UM.QM()||this.NM.QM()||this.WM.QM()||this.jM.QM()||this.VM.QM(),this.sT=!1,this.iT=!1,this.GM.eT(1,1,1,1),this.FM.eT(1,1,1,1),this.IM.nT(0),this.OM.nT(1),this.LM.nT(2),this.CM.rT(0,0),this.PM.rT(1,1),this.EM.hT(0),this.AM.rT(0,0),this.RM.rT(0,0),this.kM.rT(0,0),this.BM.rT(1,1),this.NM.rT(0,0),this.WM.rT(0,0),this.jM.rT(0,0),this.VM.rT(0,0),this.UM.rT(0,0),this.zM.hT(1),this.YM.hT(t.Mw()),this.ZM.hT(t._w()),this.JM.hT(1),this.qM.hT(0),this.HM.hT(0),this.$M.rT(0,0),this.XM.rT(0,0),this.DM.hT(1);for(const l of o){const u=l[0],c=l[2],f=new m.ey.TM(this,u,c);"color"===c?f.oT(0,0,0):f.hT(0),this.tT.push(f)}this.wM?this.aT(n.lT):(this.uT(n.lT,!0),this.cT(n.fT,!0));const a=n.dT;e.useProgram(a?a.o2:null)}ur(){this.yM.deleteProgram(this.o2),this.o2=null,this._v.kw(this),this.yM=null,super.ur()}pT(){return this.yM}mT(){return this.o2}gT(){return this.tT.length}yT(t){return t<0||t>=this.tT.length?null:this.tT[t].wT()}ST(i){for(let t=0,s=i.length;t<s;++t)if(!this.tT[t].vT(i[t]))return!1;return!0}bT(i){for(let t=0,s=i.length;t<s;++t)this.tT[t].xT(i[t])}MT(t,s,i,e,n,r,h,o,a,l){return!this.OM.QM()&&!(this.UM.QM()&&!this.UM.TT(n,r)||this.kM.QM()&&!this.kM.TT(t.Ml(),t.Tl())||this.BM.QM()&&!this.BM.TT(t._l(),t.Gl())||this.zM.QM()&&!this.zM._T(h)||this.JM.QM()&&!this.JM._T(o)||this.qM.QM()&&!this.qM._T(a)||this.NM.QM()&&!this.NM.TT(s.Ml(),s.Tl())||this.WM.QM()&&!this.WM.TT(s._l(),s.Gl())||this.jM.QM()&&!this.jM.TT(i.Ml(),i.Tl())||this.VM.QM()&&!this.VM.TT(i._l(),i.Gl())||this.$M.QM()&&!this.$M.TT(e.Ml(),e.Tl())||this.XM.QM()&&!this.XM.TT(e.Tl(),e.Gl())||this.HM.QM()&&!this.HM._T(l))}GT(t,s,i,e,n,r,h,o,a,l){this.OM.QM()||(this.UM.QM()&&this.UM.IT(n,r),this.kM.QM()&&this.kM.IT(t.Ml(),t.Tl()),this.BM.QM()&&this.BM.IT(t._l(),t.Gl()),this.zM.QM()&&this.zM.CT(h),this.JM.QM()&&this.JM.CT(o),this.qM.QM()&&this.qM.CT(a),this.NM.QM()&&this.NM.IT(s.Ml(),s.Tl()),this.WM.QM()&&this.WM.IT(s._l(),s.Gl()),this.jM.QM()&&this.jM.IT(i.Ml(),i.Tl()),this.VM.QM()&&this.VM.IT(i._l(),i.Gl()),this.$M.QM()&&this.$M.IT(e.Ml(),e.Tl()),this.XM.QM()&&this.XM.IT(e.Tl(),e.Gl()),this.HM.QM()&&this.HM.CT(l))}uT(t,s){this.sT&&!s||this.wM||(this.MM.QM()&&this.MM.PT(t),this.sT=!0)}ET(){this.sT=!1}cT(t,s){this.iT&&!s||this.wM||(this._M.QM()&&this._M.PT(t),this.iT=!0)}AT(){this.iT=!1}aT(t){if(!this.wM)throw new Error("not device transform shader");this.MM.PT(t);const s=this._v,i=s.um()/2,e=s.Mm()/2,n=s.Ow(i,e,s.yw(s.Mm()),i,e,0,s.Mm());this._M.PT(n)}RT(t){this.GM.QM()&&this.GM.FT(t[0],t[1],t[2],t[3])}static DT(){return Ii}static OT(t){const s=t?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","attribute highp vec3 aPos;",`attribute ${s} vec2 aTex;`,`varying ${s} vec2 vTex;`,"uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {",`	gl_Position = matP * matMV * vec4(aPos, 1.0);`,`	vTex = aTex;`,"}"].join("\n")}static LT(t){const s=t?"highp":"mediump";return["#version 300 es","in highp vec3 aPos;",`in ${s} vec2 aTex;`,`out ${s} vec2 vTex;`,"uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {",`	gl_Position = matP * matMV * vec4(aPos, 1.0);`,`	vTex = aTex;`,"}"].join("\n")}static kT(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * color;","}"].join("\n")}static BT(){return["#extension GL_EXT_frag_depth : enable","varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * color;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static NT(){return["#version 300 es","in mediump vec2 vTex;","out lowp vec4 outColor;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\toutColor = texture(samplerFront, vTex) * color;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static WT(){return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","varying highmedp vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highmedp vec2 srcStart;","uniform highmedp vec2 pixelSize;","uniform highmedp vec2 tileSize;","uniform highmedp vec2 tileSpacing;","void main(void) {","\thighmedp vec2 tile = floor(vTex);","\thighmedp vec2 tex = fract(vTex);","\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","}"].join("\n")}static jT(){return["#extension GL_EXT_frag_depth : enable","#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","varying highmedp vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highmedp vec2 srcStart;","uniform highmedp vec2 pixelSize;","uniform highmedp vec2 tileSize;","uniform highmedp vec2 tileSpacing;","void main(void) {","\thighmedp vec2 tile = floor(vTex);","\thighmedp vec2 tex = fract(vTex);","\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static VT(){return["#version 300 es","in highp vec2 vTex;","out lowp vec4 outColor;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highp vec2 srcStart;","uniform highp vec2 pixelSize;","uniform highp vec2 tileSize;","uniform highp vec2 tileSpacing;","void main(void) {","\thighp vec2 tile = floor(vTex);","\thighp vec2 tex = fract(vTex);","\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\toutColor = texture(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static UT(t,s,i){let e="";return 2<=t?e="#version 300 es\n":(s&&(e="#extension GL_EXT_frag_depth : enable\n"),i&&(e+="#extension GL_EXT_shader_texture_lod : enable\n#extension GL_OES_standard_derivatives : enable\n")),e+`
#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
${2<=t?"in":"varying"} vec2 vTex;
${2<=t?"out lowp vec4 outColor;":""}
uniform lowp vec4 color;
uniform lowp sampler2D samplerFront;
uniform vec2 pixelSize;

uniform vec2 tileSize;
uniform vec2 tileSpacing;
uniform float outlineThickness;

const float PI = 3.1415926;

lowp vec4 cospVec4(lowp vec4 a, lowp vec4 b, float x)
{
	return (a + b + (a - b) * cos(x * PI)) / 2.0;
}

vec3 randVec3(vec2 seed)
{
	return vec3(fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(12.9898,78.233))) * 43758.5453),
				fract(sin(dot(seed.yx + vec2(0.1, 0.1), vec2(12.9898,-78.233))) * 43758.5453),
				fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(-12.9898,-78.233))) * 43758.5453));
}

lowp vec4 sampleTile(vec2 tile, vec2 uv, vec2 ddx, vec2 ddy)
{
	vec2 posRandom = tileSize;
	float angleRandom = outlineThickness;
	
	vec3 rand = (randVec3(floor(tile + 0.5)) - 0.5) * 2.0;
	
	float angle = angleRandom * rand.z * PI;
	float sin_a = sin(angle);
	float cos_a = cos(angle);
	float aspect = pixelSize.x / pixelSize.y;

	vec2 mid = tile + vec2(0.5, 0.5);
	vec2 dp = uv - mid;
	dp.x /= aspect;
	vec2 r = vec2(dp.x * cos_a - dp.y * sin_a,
				  dp.y * cos_a + dp.x * sin_a);
	r.x *= aspect;

	vec2 p = mid + r + (posRandom * rand.xy / 2.0);
	
	${2<=t?"return textureGrad(samplerFront, p, ddx, ddy);":""}
	${t<2&&i?"return texture2DGradEXT(samplerFront, p, ddx, ddy);":""}
	${t<2&&!i?"return texture2D(samplerFront, p);":""}
}

void main(void) {
	
	${t<2?"lowp vec4 outColor;":""}
	
	float blendMarginX = tileSpacing.x;
	float blendMarginY = tileSpacing.y;
	
	vec2 tile = floor(vTex);
	vec2 tex = fract(vTex);
	vec2 ddx = ${2<=t||i?"dFdx(vTex)":"vec2(0.0, 0.0)"};
	vec2 ddy = ${2<=t||i?"dFdy(vTex)":"vec2(0.0, 0.0)"};
	
	vec4 curTile = sampleTile(tile, vTex, ddx, ddy);
	
	bool inLeftMargin = (tex.x < blendMarginX);
	bool inRightMargin = (tex.x > 1.0 - blendMarginX);
	bool inTopMargin = (tex.y < blendMarginY);
	bool inBottomMargin = (tex.y > 1.0 - blendMarginY);
	
	if (inLeftMargin)
	{
		lowp vec4 leftTile = sampleTile(tile + vec2(-1.0, 0.0), vTex, ddx, ddy);
		float leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;
		lowp vec4 leftMixedTile = cospVec4(leftTile, curTile, leftMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =     sampleTile(tile + vec2(0.0,  -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftTile = sampleTile(tile + vec2(-1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);
			
			outColor = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =     sampleTile(tile + vec2(0.0,  1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftTile = sampleTile(tile + vec2(-1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);
			
			outColor = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = leftMixedTile;
		}
	}
	else if (inRightMargin)
	{
		lowp vec4 rightTile = sampleTile(tile + vec2(1.0, 0.0), vTex, ddx, ddy);
		float rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);
		lowp vec4 rightMixedTile = cospVec4(curTile, rightTile, rightMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =      sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightTile = sampleTile(tile + vec2(1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);
			
			outColor = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =      sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightTile = sampleTile(tile + vec2(1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);
			
			outColor = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = rightMixedTile;
		}
	}
	else if (inTopMargin)
	{
		lowp vec4 topTile = sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
		outColor = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
	}
	else if (inBottomMargin)
	{
		lowp vec4 bottomTile = sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
		outColor = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
	}
	else
	{
		outColor = curTile;
	}
	
	outColor *= color;
	${t<2?"gl_FragColor = outColor;":""}
	${2<=t?"gl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
	${t<2&&s?"gl_FragDepthEXT = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
}
`}static HT(){return["attribute vec4 aPoints;","varying float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static zT(){return["#version 300 es","in vec4 aPoints;","out float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static JT(){return["uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","}"].join("\n")}static qT(){return["#extension GL_EXT_frag_depth : enable","uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static $T(){return["#version 300 es","uniform lowp sampler2D samplerFront;","in lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","out lowp vec4 outColor;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\toutColor = texture(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static XT(){return["uniform lowp vec4 color;","void main(void) {","\tgl_FragColor = color;","}"].join("\n")}static YT(){return["precision lowp float;","varying mediump vec2 vTex;","uniform vec4 color;","uniform vec4 color2_;","vec3 fromLinear(vec3 linearRGB)","{","\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));","\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);","\tvec3 lower = linearRGB * vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","vec3 toLinear(vec3 sRGB)","{","\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));","\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));","\tvec3 lower = sRGB/vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","void main(void) {","\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);","\tfloat a = mix(color.a, color2_.a, vTex.x);","\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);","}"].join("\n")}static ZT(){return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","precision lowp float;","varying highmedp vec2 vTex;","uniform vec4 color;","void main(void) {",`	highmedp float grad = vTex.x / (1.0 - vTex.y);`,`	gl_FragColor = color * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);`,"}"].join("\n")}static KT(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","void main(void) {","\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;","\tgl_FragColor = color * f;","}"].join("\n")}static QT(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float f = step(diffSq.x + diffSq.y, 0.25);","\tgl_FragColor = color * f;","}"].join("\n")}static t_(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","uniform mediump float outlineThickness;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float distSq = diffSq.x + diffSq.y;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump float innerF = step(distSq, 0.25);","\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;","\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;","\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);","\tgl_FragColor = color * innerF * outerF;","}"].join("\n")}static s_(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump vec2 halfNormSq = halfNorm * halfNorm;","\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;","\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;","\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);","\tgl_FragColor = color * f;","}"].join("\n")}static i_(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","uniform mediump float outlineThickness;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float distSq = diffSq.x + diffSq.y;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump vec2 halfNormSq = halfNorm * halfNorm;","\tmediump vec2 pxNorm = pixelSize * norm;","\tmediump vec2 innerEdge1 = halfNorm - pxNorm;","\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;","\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);","\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;","\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;","\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);","\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;","\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);","\tgl_FragColor = color * innerF * outerF;","}"].join("\n")}}}{const Ci=self.Bs,Pi=self.bs,Tn=Pi._s,Ei=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);Ci.ey.TM=class{constructor(t,s,i){if(!Ei.has(i))throw new Error("invalid uniform type");this.Y2=t,this.yM=this.Y2.pT(),this.pr=s,this.yf=i,this.e_="color"===this.yf,this.n_=this.yM.getUniformLocation(this.Y2.mT(),s),this.r_=!!this.n_;const e=Ei.get(i);this.h_=new Float32Array(e),this.o_=new Float32Array(e)}ur(){this.Y2=null,this.yM=null,this.n_=null}QM(){return this.r_}wT(){return this.yf}a_(){return this.e_}hT(t){this.QM()&&(this.h_[0]=t,this.o_.set(this.h_),this.yM.uniform1f(this.n_,t))}nT(t){this.QM()&&(this.h_[0]=t,this.o_.set(this.h_),this.yM.uniform1i(this.n_,t))}rT(t,s){this.QM()&&(this.h_[0]=t,this.h_[1]=s,this.o_.set(this.h_),this.yM.uniform2f(this.n_,t,s))}oT(t,s,i){this.QM()&&(this.h_[0]=t,this.h_[1]=s,this.h_[2]=i,this.o_.set(this.h_),this.yM.uniform3f(this.n_,t,s,i))}eT(t,s,i,e){this.QM()&&(this.h_[0]=t,this.h_[1]=s,this.h_[2]=i,this.h_[3]=e,this.o_.set(this.h_),this.yM.uniform4f(this.n_,t,s,i,e))}l_(t){t=Math.fround(t);const s=this.h_;s[0]!==t&&(s[0]=t,this.yM.uniform1f(this.n_,t))}u_(t){const s=this.h_;s[0]!==t&&this.yM.uniform1i(this.n_,s[0]=t)}c_(t,s){t=Math.fround(t),s=Math.fround(s);const i=this.h_;i[0]===t&&i[1]===s||(i[0]=t,i[1]=s,this.yM.uniform2f(this.n_,t,s))}f_(t,s,i){t=Math.fround(t),s=Math.fround(s),i=Math.fround(i);const e=this.h_;e[0]===t&&e[1]===s&&e[2]===i||(e[0]=t,e[1]=s,e[2]=i,this.yM.uniform3f(this.n_,t,s,i))}FT(t,s,i,e){t=Math.fround(t),s=Math.fround(s),i=Math.fround(i),e=Math.fround(e);const n=this.h_;n[0]===t&&n[1]===s&&n[2]===i&&n[3]===e||(n[0]=t,n[1]=s,n[2]=i,n[3]=e,this.yM.uniform4f(this.n_,t,s,i,e))}PT(t){const s=this.h_;Tn.W(s,t)||(Ci.Lh(s,t,0),this.yM.uniformMatrix4fv(this.n_,!1,t))}vT(t){const s=this.o_;return this.a_()?s[0]===Math.fround(t.na())&&s[1]===Math.fround(t.ra())&&s[2]===Math.fround(t.oa()):s[0]===Math.fround(t)}xT(t){const s=this.o_;this.a_()?(s[0]=t.na(),s[1]=t.ra(),s[2]=t.oa()):s[0]=t}_T(t){return this.o_[0]===Math.fround(t)}TT(t,s){const i=this.o_;return i[0]===Math.fround(t)&&i[1]===Math.fround(s)}CT(t){this.o_[0]=t}IT(t,s){const i=this.o_;i[0]=t,i[1]=s}}}{const Ai=self.Bs,Ri=self.bs,Un=Ri.Es,Tn=Ri._s;Ai.ey.d_=class{constructor(t){this.renderer=t,this.fT=Tn.create(),this.lT=Tn.create(),this.Jx=null,this.qx=null,this.p_=!1,this.m_=Un.I(1,1,1,1),this.dT=null,this.g_=new Ai.Rect,this.clearColor=Ai.lr(Ai.Uo,0,0,0,0)}},Ai.ey.y_=class{constructor(t){const s=new ArrayBuffer(96);this.yf=0,this.w_=t,this.yM=t.renderer.qb(),this.S_=0,this.v_=0,this.b_=null,this.x_=new Float32Array(s,0,16),this.M_=new Float32Array(s,64,4),this.T_=new Float32Array(s,80,4),this.__=[]}G_(t,s){this.yf=1,this.S_=t,this.v_=s}I_(){const t=this.yM;t.drawElements(t.TRIANGLES,this.v_,t.UNSIGNED_SHORT,this.S_)}C_(t){this.yf=2,this.b_=t}P_(){const t=this.yM,s=this.b_;t.bindTexture(t.TEXTURE_2D,s?s.mx():null)}E_(t){this.yf=3,t.ua(this.M_,0)}A_(){const t=this.M_,s=this.w_;Un.G(s.m_,t),s.dT.RT(t)}R_(t){this.yf=21,t.ua(this.M_,0)}F_(){const t=this.M_,s=this.w_.dT;s.FM.QM()&&s.FM.FT(t[0],t[1],t[2],t[3])}D_(t,s){this.yf=4,this.S_=t,this.v_=s}O_(){this.yM.blendFunc(this.S_,this.v_)}L_(t,s,i,e){this.yf=5;const n=this.M_;n[0]=t,n[1]=s,n[2]=i,n[3]=e}k_(){const t=this.M_;this.yM.viewport(t[0],t[1],t[2],t[3])}B_(t){this.yf=6,Tn.G(this.x_,t)}N_(){const t=this.w_,i=t.renderer.Fy,e=t.dT,n=this.x_;for(let t=0,s=i.length;t<s;++t){const r=i[t];r===e?r.uT(n,!0):r.ET()}Tn.G(t.lT,n)}W_(t){this.yf=7,Tn.G(this.x_,t)}j_(){const t=this.w_,i=t.renderer.Fy,e=t.dT,n=this.x_;for(let t=0,s=i.length;t<s;++t){const r=i[t];r===e?r.cT(n,!0):r.AT()}Tn.G(t.fT,n)}V_(t){this.yf=8,this.b_=t}U_(){const t=this.yM,s=this.b_,i=this.w_;s?(i.Jx=s.$x(),i.qx=s.Xx(),i.p_&&i.qx?t.bindFramebuffer(t.FRAMEBUFFER,i.qx):t.bindFramebuffer(t.FRAMEBUFFER,i.Jx)):(i.Jx=null,i.qx=null,t.bindFramebuffer(t.FRAMEBUFFER,null))}H_(t){this.yf=9,t.ua(this.x_,0)}z_(t,s,i,e){this.yf=9;const n=this.x_;n[0]=t,n[1]=s,n[2]=i,n[3]=e}J_(){const t=this.yM,s=this.x_,i=this.w_,e=i.clearColor,n=s[0],r=s[1],h=s[2],o=s[3];e.ga(n,r,h,o)||(t.clearColor(n,r,h,o),e.$o(n,r,h,o)),t.clear(t.COLOR_BUFFER_BIT)}q_(t){this.yf=15,t.ua(this.x_,0)}X_(){const t=this.x_;this.w_.g_.set(t[0],t[1],t[2],t[3])}Y_(t,s){this.yf=10,this.S_=t,this.v_=1,this.x_[0]=s}Z_(){const t=this.yM,s=this.w_,i=s.renderer,e=i.Ly,n=(t.useProgram(e.o2),e.uT(s.lT,!1),e.cT(s.fT,!1),s.g_),r=(e.CM.QM()&&e.CM.c_(n.Ml(),n.Tl()),e.PM.QM()&&e.PM.c_(n._l(),n.Gl()),this.x_[0]);if(e.EM.QM()&&e.EM.l_(r),e.GM.QM()){const h=s.m_;e.GM.FT(h[0],h[1],h[2],h[3])}t.drawArrays(t.POINTS,this.S_/4,this.v_),t.useProgram(s.dT.o2)}K_(t){this.yf=11,this.b_=t}Q_(){const t=this.yM,s=this.w_,i=this.b_;if(s.dT=i,t.useProgram(i.o2),i.uT(s.lT,!1),i.cT(s.fT,!1),i.GM.QM()){const e=s.m_;i.GM.FT(e[0],e[1],e[2],e[3])}}tG(){this.yf=12}sG(){const t=this.w_.dT,s=this.yM,i=this.x_,e=this.M_,n=this.T_;if(t.OM.QM()){const r=this.w_.renderer,h=this.b_;r.iG!==h&&(s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,h?h.mx():null),r.iG=h,s.activeTexture(s.TEXTURE0))}t.UM.QM()&&t.UM.c_(i[0],i[1]),t.kM.QM()&&t.kM.c_(i[2],i[3]),t.BM.QM()&&t.BM.c_(i[4],i[5]),t.zM.QM()&&t.zM.l_(this.v_),t.JM.QM()&&t.JM.l_(i[6]),t.qM.QM()&&t.qM.l_(i[7]),t.NM.QM()&&t.NM.c_(i[12],i[13]),t.WM.QM()&&t.WM.c_(i[14],i[15]),t.jM.QM()&&t.jM.c_(n[0],n[1]),t.VM.QM()&&t.VM.c_(n[2],n[3]),t.$M.QM()&&t.$M.c_(e[0],e[1]),t.XM.QM()&&t.XM.c_(e[2],e[3]),t.HM.QM()&&t.HM.l_(this.S_)}eG(){this.yf=13}nG(){const t=this.w_.dT,i=t.tT,e=this.__;for(let t=0,s=i.length;t<s;++t){const n=i[t],r=e[t];n.a_()?n.f_(r.na(),r.ra(),r.oa()):n.l_(r)}}rG(t){this.yf=14,this.b_=t}hG(){const t=this.yM,s=this.b_,i=this.w_.Jx;s!==i&&t.bindFramebuffer(t.FRAMEBUFFER,s),t.invalidateFramebuffer(t.FRAMEBUFFER,[t.COLOR_ATTACHMENT0]),s!==i&&t.bindFramebuffer(t.FRAMEBUFFER,i)}oG(t,s,i){this.yf=17;const e=this.x_,n=this.w_.renderer,r=(e[0]=t.um(),e[1]=t.Mm(),e[2]=(s||n).um(),e[3]=(s||n).Mm(),e[4]=t.Kx()?1:0,e[5]="stretch"===i,this.__);Ai.Bh(r),r.push(t.$x()),r.push(s?s.$x():null)}aG(){const t=this.x_,s=this.__,i=this.yM,e=t[0],n=t[1],r=t[2],h=t[3],o=0!==t[4],a=0!==t[5],l=s[0],u=s[1];if(i.bindFramebuffer(i.READ_FRAMEBUFFER,l),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,u),a)i.blitFramebuffer(0,0,e,n,0,0,r,h,i.COLOR_BUFFER_BIT,o?i.LINEAR:i.NEAREST);else{const c=Math.min(e,r),f=Math.min(n,h),d=Math.max(n-h,0),p=Math.max(h-n,0);i.blitFramebuffer(0,d,c,f+d,0,p,c,f+p,i.COLOR_BUFFER_BIT,i.NEAREST)}}lG(t){this.yf=18,this.b_=t}uG(){this.b_.cG(),this.b_=null}fG(t){this.yf=19,this.b_=t}dG(){this.b_.pG(),this.b_=null}mG(t,s,i){this.yf=20;const e=this.x_;e[0]=t,e[1]=s,e[2]=i}gG(){const t=this.w_.dT,s=this.x_;t.UM.QM()&&t.UM.c_(s[0],s[1]),t.DM.QM()&&t.DM.l_(s[2])}yG(t,s,i,e,n,r,h){this.yf=16;const o=this.x_;t.ua(o,0),o[4]=1/s,o[5]=1/i,o[6]=e/s,o[7]=n/i,o[8]=r/s,o[9]=h/i}wG(){const t=this.w_.dT,s=this.x_;t.NM.QM()&&t.NM.c_(s[0],s[1]),t.UM.QM()&&t.UM.c_(s[4],s[5]),t.AM.QM()&&t.AM.c_(s[6],s[7]),t.RM.QM()&&t.RM.c_(s[8],s[9])}SG(t,s,i,e,n,r,h){this.yf=29;const o=this.x_;o[0]=1/t,o[1]=1/s,o[2]=i,o[3]=e,o[4]=n,o[5]=r,o[6]=h}vG(){const t=this.w_.dT,s=this.x_;t.UM.QM()&&t.UM.c_(s[0],s[1]),t.AM.QM()&&t.AM.c_(s[2],s[3]),t.DM.QM()&&t.DM.l_(s[4]),t.RM.QM()&&t.RM.c_(s[5],s[6])}bG(t){this.yf=22,this.S_=t?1:0}xG(){const t=this.yM,s=0!==this.S_;s||t.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT),s||t.depthMask(!1)}MG(t){this.yf=23,this.S_=t?1:0}TG(){const t=this.yM;0===this.S_?(t.disable(t.DEPTH_TEST),t.depthMask(!1)):(t.enable(t.DEPTH_TEST),t.depthMask(!0))}_G(t){this.yf=24,this.S_=t?1:0}GG(){const t=this.yM,s=this.w_,i=s.renderer,e=0!==this.S_;s.p_=e,t.activeTexture(t.TEXTURE2),e?(s.qx&&t.bindFramebuffer(t.FRAMEBUFFER,s.qx),t.bindTexture(t.TEXTURE_2D,i.jx())):(t.bindTexture(t.TEXTURE_2D,null),s.qx&&t.bindFramebuffer(t.FRAMEBUFFER,s.Jx)),t.activeTexture(t.TEXTURE0)}IG(){this.yf=25}CG(){const t=this.yM;t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,1),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1)}PG(){this.yf=26}EG(){const t=this.yM;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,1,1),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}AG(){this.yf=27}FG(){const t=this.yM;t.disable(t.STENCIL_TEST)}DG(t,s,i,e,n){this.yf=28,this.S_=t?1:0;const r=this.x_;r[0]=s,r[1]=i,r[2]=e,r[3]=n}OG(){const t=this.yM,s=this.x_;1===this.S_?(t.enable(t.SCISSOR_TEST),t.scissor(s[0],s[1],s[2],s[3])):t.disable(t.SCISSOR_TEST)}LG(){switch(this.yf){case 1:return void this.I_();case 2:return void this.P_();case 3:return void this.A_();case 4:return void this.O_();case 5:return void this.k_();case 6:return void this.N_();case 7:return void this.j_();case 8:return void this.U_();case 9:return void this.J_();case 10:return void this.Z_();case 11:return void this.Q_();case 12:return void this.sG();case 13:return void this.nG();case 14:return void this.hG();case 15:return void this.X_();case 16:return void this.wG();case 17:return void this.aG();case 18:return void this.uG();case 19:return void this.dG();case 20:return void this.gG();case 21:return void this.F_();case 22:return void this.xG();case 23:return void this.TG();case 24:return void this.GG();case 25:return void this.CG();case 26:return void this.EG();case 27:return void this.FG();case 28:return void this.OG();case 29:return void this.vG()}}}}{let I=function(t,s,i,e,n,r){s?t.strokeRect(i,e,n,r):t.fillRect(i,e,n,r)},t=function(t){return t*(4/3)},o=function(t,s){t=t.trim();const i=parseFloat(t);return isFinite(i)?t.endsWith("%")?s*i/100:i:0};I,t,o;const Fi=self.Bs,Di=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),Oi={timeout:60},Li=new Fi.Uo(0,0,0,1),ki=new Set(["left","center","right"]),Bi=new Set(["top","center","bottom"]),Ni=new Set(["word","cjk","character"]),Wi=new Set(["ltr","rtl"]),ji=new Set;Fi.FontManager&&Fi.FontManager.addEventListener("fontload",t=>{const s=t.font.Kc();for(const i of ji)(i.kG()||Fi.vn(i.BG(),s))&&i.NG()});let s=!1,i=!1;Fi.ey.Mv=class{constructor(t,s){s=Object.assign({},Oi,s),this._v=t,this.WG="Arial",this.jG=16,this.VG=1,this.UG=0,this.HG=!1,this.zG=!1,this.JG="black",this.qG=!1,this.nm=null,this.$G=!0,this.XG=null,this.YG=new Set,this.ZG="left",this.KG="top",this.uf="",this.QG=null,this.tI=Fi.lr(Fi.tm),this.sI="word",this.iI="ltr",this.eI=!1,this.nI=!1,this.rI=!1,this.hI=-1,this.oI=0,this.aI=0,this.lI=0,this.Xm=0,this.Ym=0,this.uI=1,this.cI=null,this.fI=null,this.dI=null,this.pI=null,this.mI=-1,this.gI=-1,this.yI="",this.wI="",this.SI="",this.vI=1,this.bI=1,this.xI=t=>this.MI(t),this.Lb=null,this.TI=new Fi.Rect,this._I=1,this.GI=new Fi.n0(()=>{this.II(),this.CI(8,8)},s.timeout),this.EI=null,this.AI=!1,ji.add(this)}ur(){this.XG=null,this.YG.clear(),this.nm=null,this.QG=null,this.cI=null,this.fI=null,this.dI=null,this.pI=null,this.xI=null,this.GI.ur(),this.EI=null,this.II(),this.tI.tc(),this.tI=null,this._v=null,this.AI=!0,ji.delete(this)}RI(){this.rI=!0}FI(){this.RI(),this.nI=!0}NG(){this.FI(),this.eI=!0}DI(t){if(this.qG!==(t=!!t)){this.qG=t;const s=this.qG?"alphabetic":"top";this.fI&&(this.fI.textBaseline=s),this.dI&&(this.dI.textBaseline=s),this.NG()}}kG(){return this.qG}om(t){this.nm!==t&&(this.nm=t,this.tI.om(t),this.nm&&this.nm.Ug()&&this.nm.Hg().then(()=>this.RI()),this.NG())}OI(t){this.$G!==(t=!!t)&&(this.$G=t,this.RI())}LI(t){this.WG!==(t=t||"serif")&&(this.WG=t,this.NG())}BG(){return this.WG}kI(t){this.jG!==(t=t<.1?.1:t)&&(this.jG=t,this.NG())}BI(){return this.jG}NI(t){this.VG!==t&&(this.VG=t,this.NG())}WI(t){this.UG!==t&&(this.UG=t,this.FI())}jI(){return this.UG}VI(t){this.HG!==(t=!!t)&&(this.HG=t,this.NG())}UI(){return this.HG}HI(t){this.zG!==(t=!!t)&&(this.zG=t,this.NG())}zI(){return this.zG}JI(t){t=Math.floor(t),this.hI!==t&&(this.hI=t,this.RI())}qI(){return this.hI}$I(t,s){let i=[];(this.HG||s.fg("b"))&&i.push("bold"),(this.zG||s.fg("i"))&&i.push("italic");const e=s.ug("size"),n=(e?parseFloat(e.param):this.jG)*this.VG;i.push(t?n+"pt":n*this.XI()+"pt");let r=this.WG,h=s.ug("font");return h&&h.param&&(r=h.param,this.XG)&&!this.YG.has(r)&&(this.XG(r),this.YG.add(r)),r&&(Di.has(r)?i.push(r):i.push('"'+r+'"')),i.join(" ")}m2(t){t instanceof Fi.Uo&&(t=t.Ta()),this.JG!==t&&(this.JG=t,this.RI())}YI(t,s,i){Li.Xo(t,s,i),this.m2(Li)}ZI(t){if(!ki.has(t))throw new Error("invalid horizontal alignment");this.ZG!==t&&(this.ZG=t,this.FI())}KI(){return this.ZG}QI(t){if(!Bi.has(t))throw new Error("invalid vertical alignment");this.KG!==t&&(this.KG=t,this.FI())}tC(){return this.KG}sC(t){if(!Ni.has(t))throw new Error("invalid word wrap mode");this.sI!==t&&(this.sI=t,this.NG())}iC(){return this.sI}eC(t){if(!Wi.has(t))throw new Error("invalid text direction");this.iI!==t&&(this.iI=t,this.fI&&(this.fI.direction=this.iI),this.dI&&(this.dI.direction=this.iI),this.NG())}nC(){return this.iI}df(t){this.uf!==t&&(this.uf=t,this.NG())}rC(){return this.uf}XI(){return this._I*this.uI*self.devicePixelRatio}hC(r,h,o){if(void 0===o&&(o=1),!(r<=0||this.aI===r&&this.lI===h&&this.uI===o)){let t=this.aI,s=(this.aI=r,this.lI=h,this.uI=o,self.devicePixelRatio),i=(this.Xm=this.aI*this.uI*s,this.Ym=this.lI*this.uI*s,Math.max(this.Xm,this.Ym)),e=Math.min(this._v.Jb(),4096),n=1;e<i&&(n=e/i,this.Xm=Math.min(this.Xm*n,e),this.Ym=Math.min(this.Ym*n,e)),this._I=n,this.aI!==t?this.NG():this.FI()}}um(){return this.Xm}Mm(){return this.Ym}oC(){return this.uI}aC(){return this.lC(),this.tI.qm()}uC(){return this.lC(),this.tI.$m()+this.tI.hm()*(this.UG+4)-this.UG}cC(){this.lC();let t=0;for(const s of this.tI.rm())for(const i of s.Pm())t+=i.Em();return t}Yx(){return this.GI.l0(),this.fC(),this.Lb}dC(t,s){this.lC();const i=this.XI(),e=this.tI.rm();for(const n of e){const r=n._m()*i;if(s>=n.og()-n.Mm()*i+r&&s<n.og()+r)for(const h of n.Pm())if(t>=h.rg()&&t<h.rg()+h.um()*i)return h}return null}*pC(t){this.lC();const s=this.tI.rm();for(const i of s)for(const e of i.Pm()){const n=e.ug("tag");n&&Fi.vn(n.param,t)&&(yield e)}}mC(t,s){for(const i of this.pC(t)){if(0===s)return i;--s}return null}gC(t){let s=0;for(const i of this.pC(t))++s;return s}fC(){this.Lb&&!this.rI&&!this.nI&&!this.eI||this.AI||this.Xm<=0||this.Ym<=0||(this.rI=!1,this.yC())}yC(){this.AI||(this.lC(),this.CI(Math.max(Fi.Br(Math.ceil(this.Xm)),128),Math.max(Fi.Br(Math.ceil(this.Ym)),64)),this.wC(),this.SC(),this.GI.l0())}CI(t,s){this.cI||(this.cI=Fi.Ao(16,16));let i=!1;this.mI===t&&this.gI===s||(this.mI=t,this.gI=s,this.cI.width=t,this.cI.height=s,i=!0),this.fI||(this.fI=this.cI.getContext("2d"),i=!0),i?(this.fI.textBaseline=this.qG?"alphabetic":"top",this.fI.direction=this.iI,this.fI.font=this.yI,this.fI.fillStyle=this.SI,this.fI.strokeStyle=this.SI,this.fI.globalAlpha=this.vI,this.fI.lineWidth=this.bI):this.fI.clearRect(0,0,t,s)}vC(){this.dI||(this.dI=Fi.Ao(16,16).getContext("2d"),this.pI=Fi.Ao(16,16).getContext("2d"),this.dI.textBaseline=this.qG?"alphabetic":"top",this.pI.textBaseline="top",this.dI.direction=this.iI,this.pI.direction=this.iI)}bC(t){this.wI!==t&&(this.wI=t,this.dI.font=t,this.pI.font=t)}xC(){if(!s){s=!0,this.vC();const t=this.dI.measureText("test");i="number"==typeof t.fontBoundingBoxAscent&&"number"==typeof t.fontBoundingBoxDescent}return i}lC(){this.MC(),this.TC()}MC(){this.eI&&(this.vC(),!this.qG||this.QG&&this.QG.toString()===this.uf||(this.QG=new Fi.Fn(this.uf,{Op:!0})),this.tI.tm(this.qG?this.QG.Jp():this.uf,this.xI,this.aI,this.sI,0),this.eI=!1)}TC(){this.nI&&(this._C(),this.nI=!1)}MI(t){let s=t.wm()?t.km().join(""):" ",i=(this.bC(this.$I(!0,t)),t.ug("size")),e=(i?parseFloat(i.param):this.jG)*this.VG,n=this.dI.measureText(s),r=0;if(this.qG&&this.xC()){const h=this.pI.measureText(s);r=n.fontBoundingBoxAscent-h.fontBoundingBoxAscent}return{width:n.width,height:4/3*e,fontBoundingBoxAscent:n.fontBoundingBoxAscent||0,fontBoundingBoxDescent:n.fontBoundingBoxDescent||0,ym:r}}GC(t){this.yI!==t&&(this.yI=t,this.fI.font=t)}IC(t){this.SI!==t&&(this.SI=t,this.fI.fillStyle=t,this.fI.strokeStyle=t)}CC(t){this.vI!==t&&(this.vI=t,this.fI.globalAlpha=t)}PC(t){this.bI!==t&&(this.bI=t,this.fI.lineWidth=t)}_C(){let e=this.XI(),n=(4+this.UG)*e,r=0,h=this.tI.rm();if(0!==h.length){for(const s of h){s.ng(NaN),s.hg(NaN);for(const o of s.Pm())o.ng(NaN),o.hg(NaN)}let t=this.qG&&this.xC(),i=h[0].Mm()*e;if("center"===this.KG){const a=h.reduce((t,s)=>t+s.Mm()*e+n,0)-n;r=Math.max(this.Ym/2-a/2,0),t&&(i=h[0].Gm()*e)}else if("bottom"===this.KG){const l=h.reduce((t,s)=>t+s.Mm()*e+n,0)-this.UG*e,u=t?h.at(-1)._m()*e:0;r=this.Ym-l-u-2}for(let t=0,s=h.length;t<s;++t){const c=h[t],f=c.Mm()*e,d=r;if(this.qG){if(r+=0===t?i:f,0<t&&r>this.Ym-4*e)break}else if(0<t&&r>=this.Ym-f)break;0<=d&&this.EC(c,r,e),this.qG||(r+=f),r+=n}}}EC(t,s,i){let e=0;"center"===this.ZG?e=Math.floor((this.Xm-t.um()*i)/2):"right"===this.ZG&&(e=this.Xm-t.um()*i),t.ng(e),t.hg(s);for(const n of"ltr"===this.iI?t.Pm():t.ig())this.AC(n,e,s,i),e+=n.um()*i}AC(t,s,i,e){const n=t.ug("offsetx"),r=(s+=n?o(n.param,t.Mm())*e:0,t.ug("offsety"));if(i+=r?o(r.param,t.Mm())*e:0,t.vm()){const h=t.ug("iconoffsety");i+=h?o(h.param,t.Mm())*e:.2*t.Mm()*e}t.ng(s),t.hg(i)}wC(){this.fI.imageSmoothingEnabled=this.$G,this.fI.imageSmoothingQuality="high",this.oI=0;const t=this.XI(),s=this.tI.rm();for(const i of s)this.RC(i,t)}RC(t,s){const i=t.rg(),e=t.og();if(Number.isFinite(i)&&Number.isFinite(e))for(const n of"ltr"===this.iI?t.Pm():t.ig())this.FC(n,s,t.Mm())}FC(h,o,a){const l=this.fI,u=h.rg(),c=h.og();if(Number.isFinite(u)&&Number.isFinite(c)){let t=a/16,s=h.um()*o,i=h.Mm()*o,e=h.Mm()/16,n=(4+this.UG)*o,r=h.wm()?h.km():null;if(-1!==this.hI){if(this.oI>=this.hI)return;h.wm()&&this.oI+r.length>this.hI&&(r=r.slice(0,this.hI-this.oI),s=this.MI(h).width*o),this.oI+=h.Em()}const f=h.ug("background"),d=h.fg("u"),p=h.fg("s");if((!h.wm()||!Fi.H1(r)||f||d||p)&&!h.fg("hide")){const m=h.ug("color"),g=h.ug("opacity"),y=(this.CC(g?parseFloat(g.param)/100:1),f&&(this.IC(f.param),l.fillRect(u,c-i,s,i+n)),h.ug("linethickness")),w=y?parseFloat(y.param):1,S=h.fg("stroke");if(S&&this.PC(.5*e*w*this.XI()),h.wm()){const v=r.join("");if(this.GC(this.$I(!1,h)),!S){this.PC(.5*e*w*this.XI());const b=h.ug("outlineback");b&&(this.IC(b.param),this.DC(!0,v,u,c,s))}if(this.IC(m?m.param:this.JG),this.DC(S,v,u,c,s),!S){this.PC(.5*e*w*this.XI());const x=h.ug("outline");x&&(this.IC(x.param),this.DC(!0,v,u,c,s))}}else if(h.vm()&&0<h.um()){const M=h.vg(this.nm);M&&l.drawImage(M,u,c-i,s,i)}if(this.IC(m?m.param:this.JG),d&&I(l,S,u,c+o*t,s,o*t*w),p){const T=c-i/4,_=o*e,G=T+_/2;l.fillRect(u,G-_*w/2,s,_*w)}}}}DC(t,s,i,e,n){"rtl"===this.iI&&(i+=n),t?"Gecko"===Fi.li.yi?this.fI.strokeText(s,i,e,n):this.fI.strokeText(s,i,e):"Gecko"===Fi.li.yi?this.fI.fillText(s,i,e,n):this.fI.fillText(s,i,e)}SC(){this._v.OC()||(this.Lb||(this.Lb=this._v.Wx(this.cI.width,this.cI.height,{Rb:!0,Fb:"high"})),this._v.LC(this.cI,this.Lb),this.TI.set(0,0,this.Xm/this.Lb.um(),this.Ym/this.Lb.Mm()),this.EI&&this.EI())}kC(){return this.TI}II(){this.Lb&&(this._v.OC()||this._v.Hx(this.Lb),this.Lb=null)}static g2(){for(const t of ji)t.II()}static BC(){return ji.values()}}}{const Vi=self.Bs;class Ui{constructor(t){this.yM=t.qb(),this.NC=t.$b(),this.WC=t.jC(),this.VC=null,this.a0=!1,this.UC=!1,this.HC=0,1===this.NC?this.VC=this.WC.createQueryEXT():this.VC=this.yM.createQuery()}ur(){this.zC(),this.yM=null,this.WC=null,this.UC=!1}zC(){this.VC&&(1===this.NC?this.WC.deleteQueryEXT(this.VC):this.yM.deleteQuery(this.VC),this.VC=null)}cG(){if(this.a0)throw new Error("query already active");1===this.NC?this.WC.beginQueryEXT(this.WC.TIME_ELAPSED_EXT,this.VC):this.yM.beginQuery(this.WC.TIME_ELAPSED_EXT,this.VC),this.a0=!0}pG(){if(!this.a0)throw new Error("query not active");1===this.NC?this.WC.endQueryEXT(this.WC.TIME_ELAPSED_EXT):this.yM.endQuery(this.WC.TIME_ELAPSED_EXT),this.a0=!1}JC(){if(this.VC&&!this.UC&&!this.a0){let t;t=1===this.NC?this.WC.getQueryObjectEXT(this.VC,this.WC.QUERY_RESULT_AVAILABLE_EXT):this.yM.getQueryParameter(this.VC,this.yM.QUERY_RESULT_AVAILABLE);const s=this.yM.getParameter(this.WC.GPU_DISJOINT_EXT);t&&!s&&(1===this.NC?this.HC=this.WC.getQueryObjectEXT(this.VC,this.WC.QUERY_RESULT_EXT):this.HC=this.yM.getQueryParameter(this.VC,this.yM.QUERY_RESULT),this.HC/=1e9,this.UC=!0),(t||s)&&this.zC()}}qC(){return this.UC}$C(){if(this.UC)return this.HC;throw new Error("no result available")}}Vi.ey.XC=class{constructor(t){this._v=t,this.aw=t.uv(),this.a0=!1,this.YC=null,this.ZC=!1,this.KC=null,this.QC=[]}ur(){for(const t of this.QC)t instanceof Ui&&t.ur();Vi.Bh(this.QC),this.YC=null,this.KC=null,this._v=null}cG(){if(this.a0)throw new Error("query already active");const t=this._v.tP();0<t.length?(this.ZC=!0,this.YC=t.at(-1),this.YC.sP(),this.YC.QC.push(this)):(this.ZC=!1,this.YC=null),this.a0=!0,t.push(this),this.iP()}pG(){if(!this.a0)throw new Error("query not active");const t=this._v.tP().pop();if(t!==this)throw new Error("can only end most nested query");this.a0=!1,this.sP(),this.YC&&(this.YC.iP(),this.YC=null)}iP(){this.KC=Vi.lr(Ui,this._v),this.QC.push(this.KC),this.KC.cG()}sP(){this.KC.pG(),this.KC=null}JC(){for(const t of this.QC)t.JC()}eP(){return this.ZC}qC(){return this.QC.every(t=>t.qC())}$C(){return this.QC.reduce((t,s)=>t+s.$C(),0)}uv(){return this.aw}}}{const Hi=self.Bs;Hi.ey.nP=class{constructor(t,s=1e3){this._v=t,this.rP=s,this.hP=[],this._v.oP(this)}ur(){this.tc(),this._v.aP(this),this._v=null}tc(){for(const t of this.hP)t.ur();Hi.Bh(this.hP)}lP(){const t=new Hi.ey.XC(this._v);if(this.hP.push(t),this.hP.length>this.rP){const s=this.hP.shift();s.ur()}return t}uP(t){for(const s of this.hP){if(s.uv()>=t)return;if(s.eP())return;s.JC()}}cP(t,s){if(s<=t)return NaN;let i=0;for(const e of this.hP){if(e.uv()>=s)break;if(!(e.uv()<t)){if(!e.qC())return NaN;i+=e.$C()}}return i}fP(i){for(let t=0,s=this.hP.length;t<s;++t){const e=this.hP[t];if(!(e.uv()<i))return void(0<t&&this.hP.splice(0,t));e.ur()}}}}{let i=function(){n=-1;for(const t of e)t.dP()&&(t.resolve(),e.delete(t));0<e.size&&(n=self.requestAnimationFrame(i))},v=(i,self.Bs),t=self.bs,b=(t.Ps,t.Es),y=t._s,r={powerPreference:"default",pP:!0,alpha:!1,depth:!1,mP:!1,gP:2,failIfMajorPerformanceCaveat:!1},h=new Set(["default","low-power","high-performance"]),c=new v.Ql(0,0,1,0,1,1,0,1),w=y.create(),S=y.create(),x=new v.Ql,M=new v.Rect,T=null,e=(v.isDebug&&(self.yP=function(){T?T.loseContext():console.warn("WEBGL_lose_context not supported")},self.wP=function(){T?T.restoreContext():console.warn("WEBGL_lose_context not supported")}),new Set),n=-1;v.ey.SP=class extends v.ey._y{constructor(t,s){if(super(s),s=Object.assign({},r,s),!h.has(s.powerPreference))throw new Error("invalid power preference");let i={alpha:!!s.alpha,depth:!1,antialias:!1,powerPreference:s.powerPreference,failIfMajorPerformanceCaveat:!!s.failIfMajorPerformanceCaveat},e=null,n=0;if(2<=s.gP&&(e=t.getContext("webgl2",i),n=2),e||(e=t.getContext("webgl",i),n=1),!e)throw new Error("renderer-unavailable (could not get WebGL context)");this.yM=e,this.vP=e.getContextAttributes(),this.bP=e.getParameter(e.VERSION),this.NC=n,this.xP=b.create(),this.MP=!1,this.TP=y.create(),this._P=!!s.depth,this.GP=!(!s.depth||!s.mP),this.IP=this._P,this.CP=!1,this.PP=null,this.EP=!0,this.AP=0,this.RP=0,this.vM=null,this.bM=null,this.FP=null,this.xM=null,this.DP=new Float32Array(8e3*this.ov()),this.OP=new Uint16Array(12e3),this.LP=new Float32Array(16e3),this.kP=new Float32Array(32e3),this.BP=0,this.NP=0,this.WP=0,this.jP=0,this.VP=null,this.UP=null,this.HP=[],this.zP=0,this.JP=0,this.qP=null,this.$P=0,this.w_=v.lr(v.ey.d_,this),this.XP=v.lr(v.Uo,1,1,1,1),this.YP=null,this.iG=null,this.ZP=0,this.KP=0,this.QP=new v.Rect,this.tE=v.lr(v.Rect,0,0,-1,-1),this.sE=0,this.iE=-1,this.eE=0,this.nE=0,this.rE=0,this.hE="(unavailable)",this.oE="(unavailable)",this.aE=[],this.lE=!1,this.uE=null,this.cE=null,this.fE=null,this.dE=null,this.pE=null,this.mE=null,this.gE=0,this.yE=!!s.pP,this.WC=null,this.wE=new Set,this.SE=[],this.cw(this.OP)}yv(){return!0}async mw(){super.mw();const t=this.yM,s=this.ov(),i=(this.XP.$o(1,1,1,1),this.YP=null,this.iG=null,this.BP=0,this.WP=0,this.jP=8e3*s-4*s,v.Bh(this.HP),this.zP=0,this.JP=0,this.VP=null,this.qP=null,this.QP.set(0,0,1,1),this.$P=0,this.w_),e=(i.dT=null,i.Jx=null,i.qx=null,b.set(i.m_,1,1,1,1),i.clearColor.$o(0,0,0,0),i.g_.set(0,0,1,1),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),this.ZP=t.ONE,this.KP=t.ONE_MINUS_SRC_ALPHA,this.vE(t),t.disable(t.CULL_FACE),t.disable(t.STENCIL_TEST),t.disable(t.DITHER),this._P?(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.LEQUAL)):(t.disable(t.DEPTH_TEST),t.depthMask(!1)),this.IP=this._P,this.CP=!1,this.xM=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.xM),t.bufferData(t.ARRAY_BUFFER,this.kP.byteLength,t.DYNAMIC_DRAW),this.vM=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vM),t.bufferData(t.ARRAY_BUFFER,this.DP.byteLength,t.DYNAMIC_DRAW),this.bM=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.bM),t.bufferData(t.ARRAY_BUFFER,this.LP.byteLength,t.DYNAMIC_DRAW),this.FP=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.FP),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.OP,t.STATIC_DRAW),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,null),this.iE=t.getParameter(t.MAX_TEXTURE_SIZE),t.getParameter(t.ALIASED_POINT_SIZE_RANGE)),n=(this.eE=e[0],this.nE=e[1],t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT)),r=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT),h=(this.rE=n&&r?Math.min(n.precision,r.precision):0,2048<this.nE&&(this.nE=2048),this.aE=t.getSupportedExtensions(),t.getExtension("WEBGL_debug_renderer_info"));if(h&&(this.hE=t.getParameter(h.UNMASKED_VENDOR_WEBGL),this.oE=t.getParameter(h.UNMASKED_RENDERER_WEBGL)),this.uE=t.getExtension("KHR_parallel_shader_compile"),v.isDebug&&(T=t.getExtension("WEBGL_lose_context")),this.yE&&(1===this.$b()?this.WC=t.getExtension("EXT_disjoint_timer_query"):this.WC=t.getExtension("EXT_disjoint_timer_query_webgl2")||t.getExtension("EXT_disjoint_timer_query")),this.cE=t.getExtension("EXT_texture_filter_anisotropic"),this.cE?this.gE=t.getParameter(this.cE.MAX_TEXTURE_MAX_ANISOTROPY_EXT):this.gE=0,this.$b()<2&&this._P&&this.GP&&(this.fE=t.getExtension("WEBGL_depth_texture"),!this.fE))throw new Error("no depth texture support");this.$b()<2&&(this.dE=t.getExtension("EXT_frag_depth"),this.pE=t.getExtension("OES_standard_derivatives"),this.mE=t.getExtension("EXT_shader_texture_lod"));let o=v.ey.cM,a=o.OT(!1),l=o.kT(),u=a,c=o.JT(),f=o.HT(),d=o.WT(),p=o.OT(!0),m=!1;this._P&&(this.$b()<2?this.dE&&(l=o.BT(),c=o.qT(),d=o.jT(),m=!0):(u=o.LT(),l=o.NT(),c=o.$T(),f=o.zT(),d=o.VT(),p=o.LT(!0)));const g=o.UT(this.$b(),m,this.pE&&this.mE),y=2<=this.$b()?o.LT():a,w=[[l,u,"<default>"],[l,u,"<default-device-transform>"],[c,f,"<point>"],[o.XT(),a,"<fill>"],[o.YT(),a,"<lineargradient>"],[o.ZT(),a,"<penumbra>"],[o.QT(),a,"<hardellipse>"],[o.t_(),a,"<hardellipseoutline>"],[o.s_(),a,"<smoothellipse>"],[o.i_(),a,"<smoothellipseoutline>"],[o.KT(),a,"<smoothline>"],[d,p,"<tilemap>"],[g,y,"<tilerandomization>"]],S=await Promise.all(w.map(t=>this.bE({src:t[0],dM:t[1],name:t[2]})));this.Oy=S[0],this.UP=S[1],this.Ly=S[2],this.Ny=S[3],this.Wy=S[4],this.jy=S[5],this.Vy=S[6],this.Uy=S[7],this.Hy=S[8],this.zy=S[9],this.Jy=S[10],this.ky=S[11],this.By=S[12],this.Ww()}async bE(t){const s=await v.ey.cM.gM(this,t);return this.Lw(s),s}xE(){this.VP=null}hC(t,s,i){if(this.Xm!==t||this.Ym!==s||i){this.lv();const e=this.yM,n=this.w_;this.Xm=t,this.Ym=s,this.ME(0,0,t,s),this.Aw(this.TP,t/s),this.TE(this.TP),this.UP&&(e.useProgram(this.UP.mT()),this.UP.aT(this.Cy),this.VP=this.UP,this.w_.dT=this.UP),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0),this.YP=null,this.iG=null,this._P&&this.EP&&this._E(this.Xm,this.Ym),this.qP&&this.qP.Ux(this.Xm,this.Ym),e.bindFramebuffer(e.FRAMEBUFFER,null),this.qP=null,n.Jx=null,n.qx=null}}_E(t,s){const i=this.yM;this.PP&&this.AP===t&&this.RP===s||(this.GP?(this.PP&&i.deleteTexture(this.PP),this.PP=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.PP),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),2<=this.$b()?i.texImage2D(i.TEXTURE_2D,0,i.DEPTH24_STENCIL8,t,s,0,i.DEPTH_STENCIL,i.UNSIGNED_INT_24_8,null):this.fE&&i.texImage2D(i.TEXTURE_2D,0,i.DEPTH_STENCIL,t,s,0,i.DEPTH_STENCIL,this.fE.UNSIGNED_INT_24_8_WEBGL,null),i.bindTexture(i.TEXTURE_2D,null)):(this.PP&&i.deleteRenderbuffer(this.PP),this.PP=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,this.PP),i.renderbufferStorage(i.RENDERBUFFER,2<=this.NC?i.DEPTH24_STENCIL8:i.DEPTH_STENCIL,t,s),i.bindRenderbuffer(i.RENDERBUFFER,null)),this.AP=t,this.RP=s)}GE(t,s){this._P&&(this.EP=!1,this._E(t,s))}IE(){this._P&&(this.EP=!0,this._E(this.Xm,this.Ym))}ME(t,s,i,e){const n=this.xP;if(n[0]!==t||n[1]!==s||n[2]!==i||n[3]!==e){const r=this.CE();r.L_(t,s,i,e),b.set(n,t,s,i,e),this.JP=0}}Gw(t){super.Gw(t),this.Aw(this.TP,this.Xm/this.Ym)}xw(t){super.xw(t),this.Aw(this.TP,this.Xm/this.Ym)}Tw(t){super.Tw(t),this.Aw(this.TP,this.Xm/this.Ym)}TE(t){if(!y.W(this.Cy,t)){const s=this.CE();s.B_(t),y.G(this.Cy,t),this.JP=0,this.MP=!0}}PE(){let t,s,i,e=this.qP;i=(null===e?(t=this.TP,s=this.um(),this):(t=e.Zx(),s=e.um(),e)).Mm(),this.TE(t),this.ME(0,0,s,i)}EE(t){if(!y.W(this.Py,t)){const s=this.CE();s.W_(t),y.G(this.Py,t),this.JP=0,this.MP=!0}}AE(){this.MP=!1}RE(){return this.MP}zx(){return this.w_}CE(){const t=this.HP;return this.zP===t.length&&t.push(new v.ey.y_(this.w_)),t[this.zP++]}lv(){0===this.zP||this.OC()||(this.FE(),this.DE(),this.zP=0,this.BP=0,this.NP=0,this.WP=0,this.JP=0)}FE(){const t=this.yM;0<this.WP&&(t.bindBuffer(t.ARRAY_BUFFER,this.xM),t.bufferSubData(t.ARRAY_BUFFER,0,this.kP.subarray(0,this.WP))),0<this.BP&&(t.bindBuffer(t.ARRAY_BUFFER,this.vM),t.bufferSubData(t.ARRAY_BUFFER,0,this.DP.subarray(0,this.BP)),t.bindBuffer(t.ARRAY_BUFFER,this.bM),t.bufferSubData(t.ARRAY_BUFFER,0,this.LP.subarray(0,this.NP)))}DE(){const i=this.HP;for(let t=0,s=this.zP;t<s;++t)i[t].LG()}OE(){return this.XP.aa()}LE(t,s,i,e){const n=this.XP;if(!n.ga(t,s,i,e)){n.$o(t,s,i,e);const r=this.CE();r.E_(n),this.JP=0,this.$y=null}}kE(t){const s=this.XP;if(s.aa()!==t){s.ia(t);const i=this.CE();i.E_(s),this.JP=0,this.$y=null}}m2(t){const s=this.XP;if(!s.equals(t)){s.set(t);const i=this.CE();i.E_(s),this.JP=0,this.$y=null}}BE(){this.LE(1,1,1,1)}NE(){return this.XP}WE(t){if(t!==this.YP){const s=this.CE();s.C_(t),this.YP=t,this.JP=0}}Kb(){this.YP=null}d2(t){const s=this.dS(t);this.jE(s[0],s[1])}VE(t){const s=this.gS(t);this.jE(s.cS,s.fS)}jE(t,s){if(t!==this.ZP||s!==this.KP){const i=this.CE();i.D_(t,s),this.ZP=t,this.KP=s,this.JP=0,this.$y=null}}UE(){return this.ZP===this.yM.ONE&&this.KP===this.yM.ONE_MINUS_SRC_ALPHA}HE(){this.jE(this.yM.ONE,this.yM.ONE_MINUS_SRC_ALPHA)}zE(){this.jE(this.yM.SRC_ALPHA,this.yM.ONE_MINUS_SRC_ALPHA)}JE(){this.jE(this.yM.ONE,this.yM.ZERO)}Rect(t){this.qE(t.Ml(),t.Tl(),t._l(),t.Gl())}qE(t,s,i,e){this.hv(t,s,i,s,i,e,t,e)}$E(){let t=this.BP;if(t>=this.jP&&(this.lv(),t=0),1===this.JP)this.HP[this.zP-1].v_+=6;else{const s=this.CE();s.G_(t,6),this.JP=1}}XE(t){t.Su(this.DP,this.BP,this.Zy+this.Ky),this.BP+=12}Ql(t){this.$E(),this.XE(t),c.ua(this.LP,this.NP),this.NP+=8}hv(t,s,i,e,n,r,h,o){this.$E();let a=this.DP,l=this.BP,u=this.Zy+this.Ky;a[l++]=t,a[l++]=s,a[l++]=u,a[l++]=i,a[l++]=e,a[l++]=u,a[l++]=n,a[l++]=r,a[l++]=u,a[l++]=h,a[l++]=o,a[l++]=u,this.BP=l,c.ua(this.LP,this.NP),this.NP+=8}AS(t,s){this.$E(),this.XE(t),s.Pl(this.LP,this.NP),this.NP+=8}YE(t,s){this.$E(),this.XE(t),s.ua(this.LP,this.NP),this.NP+=8}ZE(t,s,i,e,n,r,h,o,a,l,u,c,f){this.$E();let d=this.DP,p=this.BP,m=this.Zy+this.Ky;d[p++]=t,d[p++]=s,d[p++]=m+i,d[p++]=e,d[p++]=n,d[p++]=m+r,d[p++]=h,d[p++]=o,d[p++]=m+a,d[p++]=l,d[p++]=u,d[p++]=m+c,this.BP=p,f.Pl(this.LP,this.NP),this.NP+=8}GS(t,s,i,e,n,r,h,o,a,l,u,c,f){this.$E();let d=this.DP,p=this.BP,m=this.Zy+this.Ky;d[p++]=t,d[p++]=s,d[p++]=m+i,d[p++]=e,d[p++]=n,d[p++]=m+r,d[p++]=h,d[p++]=o,d[p++]=m+a,d[p++]=l,d[p++]=u,d[p++]=m+c,this.BP=p,f.ua(this.LP,this.NP),this.NP+=8}KE(e,n,r){const h=this.DP,o=this.LP;if(r.length%3!=0)throw new Error("invalid index buffer length");for(let i=0,t=r.length;i<t;){const a=r[i++],l=r[i++],u=r[i++],c=3*a,f=3*l,d=3*u,p=2*a,m=2*l,g=2*u;this.$E();let t=this.BP,s=this.NP;h[t++]=e[0+c],h[t++]=e[1+c],h[t++]=e[2+c],h[t++]=e[0+f],h[t++]=e[1+f],h[t++]=e[2+f],h[t++]=e[0+d],h[t++]=e[1+d],h[t++]=e[2+d],h[t++]=e[0+d],h[t++]=e[1+d],h[t++]=e[2+d],o[s++]=n[0+p],o[s++]=n[1+p],o[s++]=n[0+m],o[s++]=n[1+m],o[s++]=n[0+g],o[s++]=n[1+g],o[s++]=n[0+g],o[s++]=n[1+g],this.BP=t,this.NP=s}}QE(t,s){this.vS(0),y.G(w,this.Cy),y.G(S,this.Py),this.PE();const[i,e]=this.tA(this.qP),n=this.Ow(0,0,this.yw(e),0,0,0,e);if(this.EE(n),"crop"===t&&this.qP&&s){const r=this.Xm/2,h=this.Ym/2,o=s.um(),a=s.Mm(),l=this.qP.um(),u=this.qP.Mm(),c=Math.min(l,o),f=Math.min(u,a),d=Math.max(a-u,0),p=Math.max(u-a,0);M.set(-r,h-p,-r+c,h-f-p),x.vu(M),M.set(0,d,c,f+d),M.Ct(o,a),this.AS(x,M)}else{const m=i/2,g=e/2;this.qE(-m,g,m,-g)}this.TE(w),this.EE(S)}sA(t){if(!this.QP.equals(t)){this.QP.G(t);const s=this.CE();s.q_(t),this.JP=0}}iA(){}eA(t,s,i,e){7996<=this.WP&&this.lv();let n=this.WP,r=this.Zy+this.Ky;if(2===this.JP&&this.$P===r)this.HP[this.zP-1].v_++;else{const o=this.CE();o.Y_(n,r),this.JP=2,this.$P=r}const h=this.kP;h[n++]=t,h[n++]=s,h[n++]=i,h[n++]=e,this.WP=n}jw(t){if(this.VP!==t){const s=this.CE();s.K_(t),this.VP=t,this.JP=0,this.$y=null}}nA(){return this.VP}rA(){this.jw(this.UP)}hA(t){const s=this.CE();s.R_(t),this.JP=0}oA(t,s,i=1){const e=this.CE();e.mG(t,s,i),this.JP=0}aA(t,s,i,e,n,r,h){if(this.VP!==this.ky)throw new Error("must set tilemap fill mode first");const o=this.CE();o.yG(t,s,i,e,n,r,h),this.JP=0}lA(t,s,i,e,n,r,h){if(this.VP!==this.By)throw new Error("must set tile randomization mode first");const o=this.CE();o.SG(t,s,i,e,n,r,h),this.JP=0}uA(t,s,i,e,n,r,h,o,a,l,u){const c=this.VP;if(u%=10800,c.KM&&!c.MT(s,i,e,n,r,h,o,a,l,u)){const f=this.CE(),d=(f.tG(),c.GT(s,i,e,n,r,h,o,a,l,u),f.x_),p=(d[0]=r,d[1]=h,s.ua(d,2),d[6]=a,d[7]=l,i.ua(d,12),f.M_),m=(n.ua(p,0),p[1]);p[1]=p[3],p[3]=m,e.ua(f.T_,0),f.S_=u,f.v_=o,c.OM.QM()?f.b_=t?t.Yx():null:f.b_=null,this.JP=0}}cA(t){const s=this.VP;if(0!==t.length&&!s.ST(t)){const i=this.CE();i.eG(),s.bT(t),v.Vh(i.__,t),this.JP=0}}fA(t,s,i,e){const n=this.CE();n.z_(t,s,i,e),this.JP=0}tc(t){const s=this.CE();s.H_(t),this.JP=0}dA(){}av(){super.av(),this.yM.flush()}pA(){if(this._P&&this.qP&&this.qP.sM()){const t=this.CE();t.bG(this.IP),this.JP=0}}mA(t){if(this.IP!==(t=!!t)&&this._P){this.IP=t;const s=this.CE();s.MG(t),this.JP=0}}gA(){return this.IP}jx(){return this.PP}Vx(){return this.GP}yA(t){if(t=!!t,this.GP&&this.CP!==t){if(t&&this.gA())throw new Error("depth still enabled");this.CP=t;const s=this.CE();s._G(t),this.JP=0}}wA(t,s,i,e,n=0){if(t=Math.floor(t),s=Math.floor(s),i=Math.floor(i),e=Math.floor(e),!this.tE.xl(t,s,i,e)){this.tE.ml(t,s,i,e);const r=n||this.tA(this.SA())[1],h=(s=r-s-e,this.CE());h.DG(!0,t,s,i,e),this.JP=0}}vA(){if(-1!==this.tE._l()){this.tE.set(0,0,-1,-1);const t=this.CE();t.DG(!1,0,0,0,0),this.JP=0}}bA(){for(const t of this.wE)t.uP(this.aw)}OC(){return!this.yM||this.yM.isContextLost()||this.lE}g2(){super.gw(),v.ey.Ob.g2(),v.ey._x.g2(),v.ey.Mv.g2();for(const t of this.wE)t.tc();this.aE=[],this.WC=null,this.uE=null,this.cE=null,this.fE=null,this.dE=null,this.pE=null,this.mE=null,this.gE=0,this.hE="(unavailable)",this.oE="(unavailable)",this.VP=null,this.UP=null,this.PP=null;for(const s of this.qy.values())s.g2()}async w2(){this.lE=!0,await this.mw(),this.lE=!1;for(const t of this.qy.values())t.w2(this);this.hC(this.Xm,this.Ym,!0)}xA(t,s){if(this.OC())throw new Error("context lost");this.lv();const i=v.lr(v.ey.Ob,this);return i.zb(t,s),i}async MA(e,n){if(this.OC())throw new Error("context lost");if(n=Object.assign({},n),v.Vi.ImageBitmapOptions){let t=await createImageBitmap(e,{premultiplyAlpha:"premultiply"}),s=n.Ib&&"clamp-to-edge"!==n.Ib||n.Cb&&"clamp-to-edge"!==n.Cb,i=v.kr(t.width)&&v.kr(t.height);return this.Xb()||i||!s?n.premultiplyAlpha=!1:v.Vi.$i?(t=await createImageBitmap(e,{premultiplyAlpha:"premultiply",resizeWidth:v.Br(t.width),resizeHeight:v.Br(t.height)}),n.premultiplyAlpha=!1):t=await createImageBitmap(e,{premultiplyAlpha:"none"}),v.kf(()=>this.xA(t,n))}if(e instanceof Blob){if("undefined"==typeof Image)throw new Error("texture upload variant not supported in worker");const t=await v.Eo(e);e=t}return v.kf(()=>this.xA(e,n))}Wx(t,s,i){this.lv();const e=v.lr(v.ey.Ob,this);return e.Qb(t,s,i),e}LC(t,s,i){this.lv(),s.ox(t,i)}Hx(t){t&&(t.yx(),0<t.wx()||(this.lv(),t===this.YP&&(this.yM.bindTexture(this.yM.TEXTURE_2D,null),this.YP=null),t===this.iG&&(this.yM.activeTexture(this.yM.TEXTURE1),this.yM.bindTexture(this.yM.TEXTURE_2D,null),this.yM.activeTexture(this.yM.TEXTURE0),this.iG=null),t.lx()))}TA(t){let s=this.Xm,i=this.Ym,e=!0;if(t&&("number"==typeof t.width&&(s=Math.floor(t.width),e=!1),"number"==typeof t.height)&&(i=Math.floor(t.height),e=!1),s<=0||i<=0)throw new Error("invalid size");this.lv();const n=v.lr(v.ey._x,this);return n.Bx(s,i,Object.assign({Mx:e},t)),this.qP=null,this.w_.Jx=null,this.w_.qx=null,n}_A(t,s=!0){if(t!==this.qP){t&&t.iM()&&t.Ux(this.Xm,this.Ym);const i=this.CE();i.V_(t),this.qP=t,this.JP=0,s&&this.PE()}}SA(){return this.qP}tA(t){return t?[t.um(),t.Mm()]:[this.Xm,this.Ym]}GA(t,s="stretch"){if(this.NC<2||this.qP&&0<this.qP.eM())this.JE(),this.BE(),this.IA(t,s);else{const i=this.CE();i.oG(t,this.qP,s),this.JP=0}}IA(t,s="stretch"){const i=t.Yx();if(!i)throw new Error("not a texture-backed render target");this.WE(i),this.QE(s,i)}CA(t){if(!(this.NC<2)){const s=this.CE();s.rG(t.$x()),this.JP=0}}PA(t){this._A(null),this.lv();const s=t.Yx();s===this.YP&&(this.yM.bindTexture(this.yM.TEXTURE_2D,null),this.YP=null),s===this.iG&&(this.yM.activeTexture(this.yM.TEXTURE1),this.yM.bindTexture(this.yM.TEXTURE_2D,null),this.yM.activeTexture(this.yM.TEXTURE0),this.iG=null),t.lx()}async aM(t,s,i){this.lv();let e=this.qP,n,r,h,o=(h=t?(n=t.um(),r=t.Mm(),t.$x()):(n=this.um(),r=this.Mm(),null),0),a=0,l=n,u=r;if(i){o=v.gr(Math.floor(i.Ml()),0,n-1),a=v.gr(Math.floor(i.Tl()),0,r-1);let t=i.width(),s=(t=0===t?n-o:v.gr(Math.floor(t),0,n-o),i.height());s=0===s?r-a:v.gr(Math.floor(s),0,r-a),l=t,u=s,a=r-(a+u)}let c=this.yM,f=(c.bindFramebuffer(c.FRAMEBUFFER,h),()=>{c.bindFramebuffer(c.FRAMEBUFFER,null),this.qP=null,this.w_.Jx=null,this.w_.qx=null,this._A(e)}),d;if(!s&&2<=this.$b()){c.bindFramebuffer(c.READ_FRAMEBUFFER,h);const p=c.createBuffer(),m=l*u*4,g=c.PIXEL_PACK_BUFFER,y=(c.bindBuffer(g,p),c.bufferData(g,m,c.STREAM_READ),c.readPixels(o,a,l,u,c.RGBA,c.UNSIGNED_BYTE,0),c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindBuffer(g,null),f(),c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0));await this.mM(()=>c.getSyncParameter(y,c.SYNC_STATUS)===c.SIGNALED),c.deleteSync(y),d=new ImageData(l,u),c.bindBuffer(g,p),c.getBufferSubData(g,0,new Uint8Array(d.data.buffer),0,m),c.bindBuffer(g,null),c.deleteBuffer(p)}else d=new ImageData(l,u),c.readPixels(o,a,l,u,c.RGBA,c.UNSIGNED_BYTE,new Uint8Array(d.data.buffer)),f();return d}EA(){this.mA(!0);const t=this.CE();t.IG(),this.JP=0,this.sE=1}AA(){this.mA(!1);const t=this.CE();t.PG(),this.JP=0,this.sE=2}RA(){return 2===this.sE}FA(){this.mA(!0);const t=this.CE();t.AG(),this.JP=0,this.sE=0}DA(t){if(this.OA()){const s=this.CE();s.lG(t),this.JP=0}}LA(t){if(this.OA()){const s=this.CE();s.fG(t),this.JP=0}}mM(s){const t=new Promise(t=>e.add({resolve:t,dP:s}));return-1===n&&(n=self.requestAnimationFrame(i)),t}wv(){return this.Xm*this.Ym*(this.vP.alpha?4:3)}Sv(){let t=0;for(const s of v.ey._x.lM())s.Yx()||(t+=s.vx());return t}vv(){let t=0;for(const s of v.ey.Ob.bx())t+=s.vx();return t}kA(){return this.bP}$b(){return this.NC}BA(){return"webgl"+this.$b()}Xb(){return 2<=this.$b()}Jb(){return this.iE}NA(){return this.eE}WA(){return this.nE}jA(){return 0!==this.rE}VA(){return this.rE}UA(){return this.hE}HA(){return this.oE}zA(){if(2<=this.$b())return"webgl2";{const t=[];return this.dE&&t.push("EXT_frag_depth"),this.pE&&t.push("OES_standard_derivatives"),this.mE&&t.push("EXT_shader_texture_lod"),0<t.length?"webgl1:"+t.join(","):"webgl1:none"}}JA(){return this.aE}OA(){return!!this.WC}jC(){return this.WC}pM(){return this.uE}nx(){return this.cE}hx(){return this.gE}oP(t){this.wE.add(t)}aP(t){this.wE.delete(t)}tP(){return this.SE}qb(){return this.yM}vE(t){this.uS([["normal",t.ONE,t.ONE_MINUS_SRC_ALPHA],["additive",t.ONE,t.ONE],["xor",t.ONE,t.ONE_MINUS_SRC_ALPHA],["copy",t.ONE,t.ZERO],["destination-over",t.ONE_MINUS_DST_ALPHA,t.ONE],["source-in",t.DST_ALPHA,t.ZERO],["destination-in",t.ZERO,t.SRC_ALPHA],["source-out",t.ONE_MINUS_DST_ALPHA,t.ZERO],["destination-out",t.ZERO,t.ONE_MINUS_SRC_ALPHA],["source-atop",t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],["destination-atop",t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA]])}qA(){return this.xv()}}}{const zi=self.Bs,Ji={$A:null,XA:null,YA:null,getTime:null,ZA:null};zi.ey.KA=class{constructor(t){t=Object.assign({},Ji,t),this.QA=t.$A,this.t3=t.XA,this.s3=t.YA,this.i3=t.getTime,this.e3=t.ZA,this.n3=null,this.r3=new Set}h3(t){this.r3.add(t)}o3(t){this.r3.delete(t)}g2(){this.n3=null;for(const t of this.r3)t.g2()}a3(t){return this.QA?this.QA(t):[t.um(),t.Mm()]}SA(t){return this.t3(t)}l3(t,s){this.s3(t,s)}u3(){return this.i3()}s1(t){this.e3(t)}f3(t,s,i){return s=Math.floor(s),i=Math.floor(i),!this.n3||this.n3.um()===s&&this.n3.Mm()===i||(t.Hx(this.n3),this.n3=null),null===this.n3&&(this.n3=t.xA(null,{width:s,height:i,Pb:"nearest",Rb:!1})),this.n3}}}{const o=self.Bs,qi=self.bs,Tn=qi._s,$i=o.lr(o.Rect),Xi=o.lr(o.Rect),Yi=o.lr(o.Rect),Zi=o.lr(o.Rect),Ki=Tn.create(),Qi=Tn.create(),te={d3:null,m3:null,g3:null,y3:!1},se={w3:null,S3:!1,v3:!1,b3:!1,x3:!1,M3:!1,T3:!1};o.ey._3=class{constructor(t,s){s=Object.assign({},te,s),this.c1=t,this.G3=s.d3,this.I3=s.m3,this.C3=s.g3,this.P3=null,this.E3=[],this.A3=[],this.R3=[],this.F3=!1,this.l2=0,this.D3=!1,this.O3=!1,this.L3=!1,this.B3=!1,this.N3=!1,this.W3=!1,this.MP=!1,this.j3=!1,this.V3=!1,this.U3=!1,this.H3=!1,this.z3=!1,this.J3=0,this.q3=[null,null,null],this.X3=!!s.y3,this.Y3=0,this.Z3=0,this.K3=0,this.Q3=0,this.tR=null,this.sR=null,this.iR=o.lr(o.Rect),this.eR=o.lr(o.Rect),this.nR=o.lr(o.Rect),this.rR=o.lr(o.Rect),this.hR=o.lr(o.Rect),this.oR=1,this.aR=1,this.lR=0,this.uR=0,this.cR=null,this.fR=null,this.dR=0,this.pR=0,this.mR=!1,this.Dx=Tn.create(),this.gR=Tn.create(),this.c1.h3(this)}ur(){this.c1.o3(this),o.Bh(this.R3),o.Bh(this.E3),o.Bh(this.A3),this.tR=null,this.sR=null,this.G3=null,this.I3=null,this.C3=null}g2(){this.F3=!0,o.Bh(this.R3),o.Bh(this.E3),o.Bh(this.A3)}yR(){return this.F3}wR(n,t){if(t=Object.assign({},se,t),o.Bh(this.R3),this.Y3=0,this.Z3=0,this.D3=!1,this.O3=!1,this.L3=!1,this.B3=!1,this.N3=!1,this.W3=!1,this.J3=0,this.z3=!!t.x3,this.H3=!!t.T3,this.F3=!1,o.Vh(this.E3,n),0!==n.length){if(t.w3){if(t.w3.length!==n.length)throw new Error("incorrect indexMap length");o.Vh(this.A3,t.w3)}else{o.Bh(this.A3);for(let t=0,s=n.length;t<s;++t)this.A3.push(t)}for(const s of n)this.Y3+=s.$v(),this.Z3+=s.Xv(),s.t2()&&(this.D3=!0),s.i2()&&(this.O3=!0),s.s2()&&(this.L3=!0),s.Yv()&&(this.B3=!0),s.h2()&&(this.N3=!0);this.W3=this.SR(n[0].Jv());const r=this.vR(n[0],t),h=this.bR(n.at(-1),t);if(1!==n.length||r||h){this.U3=!1;let e=0;r&&(this.J3=1,this.R3.push(o.lr(o.ey._3.MR.xR,this,-1,1)),e=1);for(let s=0,i=n.length;s<i;++s)if(0!==s||r){let t=1===e?2:1;s!==i-1||h||(t=0),this.J3=Math.max(this.J3,t),this.R3.push(o.lr(o.ey._3.MR.TR,this,e,t,s)),e=t}else this.J3=1,this.R3.push(o.lr(o.ey._3.MR._R,this,-1,1,s)),e=1;h&&this.R3.push(o.lr(o.ey._3.MR.GR,this,e,0))}else this.U3=!0}}vR(t,s){return!!(s.S3||t.Zv()||s.b3&&!t.Qv()||t.i2()&&!this.H3||0!==this.Y3||0!==this.Z3)||(t.Jv().yv()?t.s2()&&(s.M3||s.x3)||t.e2()&&s.x3:t.s2()&&!this.W3&&s.M3)}bR(t,s){return!!s.v3||(t.Jv().yv()?t.s2()||t.Yv():(t.s2()||t.Yv())&&this.IR())}SR(t){return t.Rw()&&this.L3&&!this.B3}CR(t,s,i){t.Rw()&&null===s&&(s=t.GetBackbufferRenderTarget()),this.cR=s,this.tR=i.PR||null,this.sR=i.contextObject||null,this.l2=i.ER||0,this.oR=i.devicePixelRatio||1,this.aR=i.AR||1,this.lR=i.RR||0,this.uR="number"==typeof i.time?i.time:this.c1.u3(),this.MP=!1,t.AE(),this.D3&&this.FR();let e=!1;if(this.DR()&&(this.OR(t,i),e=!0,this.fR=this.c1.f3(t,this.K3,this.Q3),$i.G(this.eR),$i.zl(),t.Rw()&&t._MaybeDoPendingClearRenderPass(this.cR),t.CopyTextureToTexture(this.cR.Yx(),this.fR,$i.Ml(),$i.Tl(),$i.width(),$i.height())),this.U3)this.LR(t,i);else if(e||this.OR(t,i),0!==this.nR.width()||0!==this.nR.height()){t.HE(),t.BE(),t.wS(0),t.vS(0),this.P3=i.kR||null,this.dR=i.BR||0,this.pR=i.NR||0,this.mR=!!i.WR,this.jR(t),this.q3[0]=s,this.q3[1]=1<=this.J3?this.VR():null,this.q3[2]=2===this.J3?this.VR():null;for(const n of this.R3){const r=this.UR(n.HR()),h=this.UR(n.zR());t.Rw()?n.JR(t,r,h):n.qR(t,r,h)}t.WE(null),this.q3[1]&&this.$R(this.q3[1]),this.q3[2]&&this.$R(this.q3[2]),this.q3.fill(null),this.YR(t),this.cR=null,this.fR=null,this.tR=null,this.sR=null,this.P3=null}}OR(t,s){const[i,e]=this.c1.a3(t);this.ZR(t,i,e),this.KR(s)}ZR(t,s,i){if(s<=0||i<=0)throw new Error("invalid draw size");this.K3===s&&this.Q3===i||this.QR(t,s,i,0,0,this.Dx,this.gR),this.K3=s,this.Q3=i}QR(t,s,i,e,n,r,h){const o=s/2+e,a=i/2+n,l=(t.Aw(r,s/i),t.Ow(o,a,t.yw(i),o,a,0,i));Tn.G(h,l)}KR(t){this.iR.G(t.tF),t.sF?this.eR.G(t.sF):this.eR.set(0,0,this.K3,this.Q3),this.nR.G(this.eR),this.nR.Ct(this.K3,this.Q3);const s=this.aR*this.oR;this.eR.Ll(this.Y3*s,this.Z3*s),this.hR.G(this.eR),this.hR.Ct(this.K3,this.Q3),this.eR.Jl(0,0,this.K3,this.Q3),this.rR.G(this.eR),this.rR.Ct(this.K3,this.Q3)}jR(t){if(this.j3=t.gA(),this.V3=t.RA(),this.H3)t.mA(!1),this.O3&&t.yA(!0);else{if($i.G(this.eR),t.yv()){const s=this.aR*this.oR;$i.Ll(Math.max(this.Y3,1)*s,Math.max(this.Z3,1)*s),$i.zl(),$i.gr(0,0,this.K3,this.Q3)}else $i.zl();t.wA($i.Ml(),$i.Tl(),$i.width(),$i.height(),this.Q3)}}iF(t){t.BE(),this.H3||(this.V3&&t.FA(),t.mA(!1),this.O3&&t.yA(!0)),t.Rw()&&t.SetNormalizedCoordsProgramVariant(!0)}YR(t){t.yA(!1),this.V3&&t.AA(),t.mA(this.j3),this.H3||t.vA(),t.Rw()&&t.SetNormalizedCoordsProgramVariant(!1),this.MP=t.RE()}eF(){this.hR.gr(0,0,1,1)}UR(t){return t<0?null:this.q3[t]}VR(){return this.c1.SA(this)}nF(){return this.cR}$R(t){this.c1.l3(t,this)}rF(t){return this.E3[t]}hF(t){this.P3?this.P3(this,t,()=>this.G3(t,this)):this.G3(t,this),this.U3||this.iF(t)}oF(t){if(this.H3)return!0;if(0!==this.dR||0!==this.pR)return!1;const[s,i]=t.tA(t.SA());return s===this.K3&&i===this.Q3}aF(t,s){let i=this.Dx,e=this.gR;if(s&&!this.oF(t)){i=Ki,e=Qi;const[n,r]=t.tA(t.SA());this.QR(t,n,r,this.dR,this.pR,i,e),this.H3||t.vA()}t.TE(i),t.EE(e)}FR(){this.c1.s1(this)}lF(t,s){return this.C3(this.A3[t],s)}uF(t,s){let i=this.hR,e=this.rR,n=this.nR;t.yv()&&(Xi.G(i),Xi.Nl(1),i=Xi,Yi.G(e),Yi.Nl(1),e=Yi,Zi.G(n),Zi.Nl(1),n=Zi),this.cF(t,s,e,n,i,1/this.K3,1/this.Q3)}fF(t,s){let e=this.rR,n=this.nR,r=1/this.K3,h=1/this.Q3;if(this.I3){let{dF:t,pF:s,mF:i}=this.I3(this.tR);t||($i.set(0,0,0,0),t=$i),s=s||this.K3,i=i||this.Q3,e=t,n=t,r=1/s,h=1/i}else t.yv()&&(Yi.G(e),Yi.Nl(1),e=Yi,Zi.G(n),Zi.Nl(1),n=Zi);let i=this.hR;t.yv()&&((i=Xi).G(this.hR),i.Nl(1)),this.cF(t,s,e,n,i,r,h),t.Rw()&&this.N3&&t.SetProgramParameter_IsSrcTexRotated(this.z3)}gF(t){return this.L3?t.Rw()?this.DR()?this.fR:this.cR.Yx():this.cR:null}cF(t,s,i,e,n,r,h){t.uA(this.gF(t),n,i,e,this.iR,r,h,this.oR,this.aR,this.lR,this.uR),t.cA(this.lF(s,t))}LR(t,s){const i=this.E3[0],e=t.gA(),n=i.i2();n&&(t.mA(!1),t.yA(!0),this.hR.set(0,0,1,1),this.nR.set(0,0,1,1)),t.jw(i),t.d2(this.l2),t._A(this.cR);let r=0,h=1;if(this.nR.set(0,0,1,1),i.e2()&&this.I3){const{dF:o,pF:a,mF:l}=this.I3(this.tR);o&&this.nR.G(o),r=Number.isFinite(a)?1/a:0,h=Number.isFinite(l)?1/l:0}else{const[u,c]=this.c1.a3(t);r=1/u,h=1/c}s.tF?this.iR.G(s.tF):this.iR.set(0,0,0,0),t.uA(this.gF(t),this.hR,this.nR,this.nR,this.iR,r,h,this.oR,this.aR,this.lR,this.uR),t.cA(this.lF(0,t)),t.Rw()&&this.N3&&t.SetProgramParameter_IsSrcTexRotated(this.z3),t.wS(0),this.hF(t),n&&(t.yA(!1),t.mA(e))}DR(){return this.W3}IR(){return!this.W3}yF(){return this.L3}wF(){return!!this.U3&&!this.DR()}SF(){return this.H3}vF(){return this.tR}bF(){return this.sR}xF(){return this.l2}MF(){return this.mR}RE(){return this.MP}TF(){return this.eR}_F(){return this.rR}GF(){return this.X3}async IF(t,s,i){}}}{const ie=self.Bs;ie.ey._3.MR=class{constructor(t,s,i,e=-1){this.CF=t,this.PF=s,this.EF=i,this.Xg=e}AF(){return this.CF}HR(){return this.PF}zR(){return this.EF}RF(){return this.Xg}mT(){return this.AF().rF(this.RF())}qR(t,s,i){}JR(t,s,i){}}}{const ee=self.Bs;ee.ey._3.MR.xR=class extends ee.ey._3.MR{constructor(t,s,i,e){super(t,s,i,e)}qR(t,s,i){const e=this.AF();t.HE(),t.Ww(),t._A(i,e.MF()),t.fA(0,0,0,0),e.hF(t),e.eF()}JR(t,s,i){const e=this.AF();t.HE(),t.Ww(),t._A(i,!1),t.fA(0,0,0,0),e.hF(t),e.eF()}}}{const ne=self.Bs,re=ne.lr(ne.Rect),he=ne.lr(ne.Ql);ne.ey._3.MR.GR=class extends ne.ey._3.MR{constructor(t,s,i,e){super(t,s,i,e)}qR(t,s,i){const e=this.AF();t.Ww(),t._A(i),e.aF(t,!0),t.d2(e.xF()),t.WE(s.Yx()),he.vu(e.TF()),re.G(e._F()),re.Nl(1),t.AS(he,re),e.GF()&&t.CA(s)}JR(t,s,i){const e=this.AF();t.Ww(),t._A(i,!1),e.oF(t)?he.vu(e._F()):(t.SetNormalizedCoordsProgramVariant(!1),e.aF(t,!0),he.vu(e.TF())),t.SetBackTexture(null),t.d2(e.xF()),t.WE(s.Yx()),e.SF()?t.QE():t.AS(he,e._F())}}}{const oe=self.Bs;oe.ey._3.MR._R=class extends oe.ey._3.MR{constructor(t,s,i,e){super(t,s,i,e)}qR(t,s,i){const e=this.AF();t._A(i,e.MF()),t.fA(0,0,0,0),t.JE(),t.jw(this.mT()),e.fF(t,this.RF()),e.hF(t),e.eF()}JR(t,s,i){const e=this.AF();t._A(i,!1),t.fA(0,0,0,0),t.JE(),t.jw(this.mT()),e.fF(t,this.RF()),e.hF(t),e.eF()}}}{const ae=self.Bs,le=ae.lr(ae.Rect),ue=ae.lr(ae.Ql);ae.ey._3.MR.TR=class extends ae.ey._3.MR{constructor(t,s,i,e){super(t,s,i,e)}qR(t,s,i){const e=this.AF(),n=(t._A(i),0===this.zR());n?t.d2(e.xF()):(t.fA(0,0,0,0),t.JE()),t.jw(this.mT()),e.uF(t,this.RF()),t.WE(s.Yx()),e.aF(t,n),ue.vu(e.TF()),le.G(e._F()),le.Nl(1),t.AS(ue,le),e.GF()&&t.CA(s)}JR(t,s,i){const e=this.AF(),n=(t._A(i,!1),0===this.zR());n?(t.d2(e.xF()),t.SetBackTexture(null),e.oF(t)?ue.vu(e._F()):(t.SetNormalizedCoordsProgramVariant(!1),e.aF(t,!0),ue.vu(e.TF()))):(t.fA(0,0,0,0),t.JE(),ue.vu(e._F())),t.jw(this.mT()),e.uF(t,this.RF()),t.WE(s.Yx()),e.SF()?t.QE():t.AS(ue,e._F())}}}{let u=function(t,s){const i=t[0],e=s[0],n=i-e;if(0!=n)return n;const r=t[1],h=s[1];return r-h},c=(u,self.Bs),f=self.$s,d=null,s=new Set,p=[],m=[],i=!1,t=!1,e=new Set(["vsync","unlimited-tick","unlimited-frame"]);self.FF=class{constructor(t){d=t,Object.defineProperties(this,{DF:{value:d.LF().OF(),writable:!1},kF:{value:d.NF().BF(),writable:!1},WF:{value:{},writable:!1},jF:{value:{},writable:!1},VF:{value:d.UF(),writable:!1},HF:{value:d.zF(),writable:!1},storage:{value:new self.JF(d),writable:!1},isInWorker:{value:d.qF(),writable:!1},$F:{value:d.XF(),writable:!1},YF:{value:d.ZF(),writable:!1},Pb:{value:d.KF(),writable:!1},QF:{value:d.tD(),writable:!1},sD:{value:new self.iD(t),writable:!1},eD:{value:new self.nD(t),writable:!1}}),d.rD().addEventListener("keydown",t=>{s.has(t.key)?t.stopPropagation():s.add(t.key)}),d.rD().addEventListener("keyup",t=>s.delete(t.key)),d.Vf().addEventListener("window-blur",()=>s.clear()),d.qF()&&(self.alert=t=>(i||(i=!0,console.warn("[Construct] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual.")),this.alert(t)))}hD(t){Object.defineProperties(this.WF,t)}oD(t){Object.defineProperties(this.jF,t)}addEventListener(t,s){d.rD().addEventListener(t,s)}removeEventListener(t,s){d.rD().removeEventListener(t,s)}aD(t,...s){f.Ie(t);const i=d.lD(),e=i.uD(t);if(!e)throw new Error(`cannot find function name '${t}'`);if(!e.Zu())return e.cD();if(s.length<e.fD())throw new Error(`not enough function parameters passed for '${t}' (${s.length} passed, ${e.fD()} expected)`);let n=e.dD(),r=n.pD(),h=i.mD();if(h){r=r.slice(0);const a=new Set(r);for(const l of h.pD())a.has(l)||(r.push(l),a.add(l));for(const u of i.gD())a.has(u)||(r.push(u),a.add(u))}const o=n.yD(r,e.wD(),e.SD(),e.cD(),...s);return o}vD(t){const s=d.xD().bD();if(!s)throw new Error("not in a function which returns a value");switch(s.MD()){case 1:"number"==typeof t&&s.TD(t);break;case 2:"string"==typeof t&&s.TD(t);break;case 3:"number"!=typeof t&&"string"!=typeof t||s.TD(t)}}signal(t){f.Ie(t),d.lD()._D(t)}GD(t){return f.Ie(t),d.lD().ID(t)}CD(){return[d.XF(),d.ZF()]}get isSuspended(){return d.PD()}get dt(){return d.ED()}get AD(){return d.RD()}get gameTime(){return d.FD()}get DD(){return d.OD()}get timeScale(){return d.LD()}set timeScale(t){f.Me(t),d.kD(t)}get fps(){return t||(console.warn("IRuntime.fps is deprecated. Use IRuntime.framesPerSecond instead."),t=!0),d.BD()}get framesPerSecond(){return d.BD()}get ND(){return d.WD()}get jD(){return d.VD()}get UD(){return d.HD()}get zD(){return d.JD()}set zD(t){if(!e.has(t))throw new Error("invalid framerate mode");d.qD(t)}get $D(){return d.XD()}set $D(t){f.Me(t),d.YD(t)}get ZD(){return d.KD()}set ZD(t){d.QD(t)}random(){return d.tO()}get layout(){const t=d.sO();if(t)return t.iO();throw new Error("no layout is running - make sure a layout is loaded before accessing")}eO(t){let s=d.nO(),i=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");if(i=s.rO(t))return i.iO();throw new Error("invalid layout")}hO(){return d.nO().oO().map(t=>t.iO())}aO(t){let s=d.nO(),i;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");if(!(i=s.rO(t)))throw new Error("invalid layout");s.lO()||s.uO(i)}get keyboard(){const t=d.cO().keyboard;if(t)return t;throw new Error("runtime.keyboard used but Keyboard object missing - add it to your project first")}get fO(){const t=d.cO().fO;if(t)return t;throw new Error("runtime.mouse used but Mouse object missing - add it to your project first")}get dO(){const t=d.cO().dO;if(t)return t;throw new Error("runtime.touch used but Touch object missing - add it to your project first")}get pO(){const t=d.cO().pO;if(t)return t;throw new Error("runtime.timelineController used but Timeline Controller object missing - add it to your project first")}mO(t,s){f.Ie(t),f.Ie(s),d.gO(t,s)}yO(t){f.Me(t);const s=d.wO(t);return s?s.SO():null}vO(t,e){f.Ye(e);const n=d.bO();for(const s of t){const i=d.xO(s),r=i.MO();p.push([r.TO().RF(),r._O()]),m.push(i)}if(0!==p.length){p.sort(u),m.sort((t,s)=>e(t.SO(),s.SO()));let i=!1;for(let t=0,s=p.length;t<s;++t){const h=m[t],o=n.GO(p[t][0]),a=p[t][1],l=o.IO();l[a]!==h&&((l[a]=h).MO().CO(o,!0),o.PO(h),i=!0)}i&&d.EO(),c.Bh(p),c.Bh(m)}}async AO(t,s){const i=new MessageChannel,e=i.port1,n=i.port2;return await d.RO("runtime","script-create-worker",{url:t,opts:s,port2:n},[n]),e}alert(t){return d.RO("runtime","alert",{message:t+(d.qF()?" [via Web Worker]":"")})}FO(t){return f.Me(t),d.DO(t)}OO(t){d.LO(t)}}}{let s=self.Bs,h=null;self.kO=class{constructor(t){h=t,Object.defineProperties(this,{BO:{value:h.NO("audio/webm; codecs=opus"),writable:!1}})}WO(t){const s=self.VO.jO(t);if(!s)throw new Error("invalid IImageInfo");s.UO(h.HO())}zO(t){return h.xo(t)}JO(t){return h.Mo(t)}qO(t){return h.To(t)}$O(t){return h._o(t)}XO(t){return h.YO(t)}ZO(t){return"flat"===h.KO()&&s.So(t)&&(t=t.toLowerCase()),h.QO(t)}get tL(){return h.sL()}async iL(t,s){if(this.BO)throw new Error("decodeWebMOpus(): not supported because WebM Opus is supported by the platform");const i=await h.HO().eL(s),e=new Float32Array(i),n=t.createBuffer(1,e.length,48e3),r=n.getChannelData(0);return r.set(e),n}nL(...t){return h.rL(...t)}hL(t){return h.oL(t)}aL(t){return h.lL(t)}}}{let h=self.Bs,i=self.$s,o=null;self.uL=class{constructor(t){o=t,Object.defineProperties(this,{runtime:{value:o.HO(),writable:!1}})}cL(t,s){const i=o.HO(),e=i.xO(t),n=i.xO(s);return o.fL(e,n)}dL(t,s){const i=o.HO(),e=i.xO(t);for(const n of s){const r=i.xO(n);if(o.fL(e,r))return n}return null}pL(t){const s=o.HO().xO(t),i=o.mL(s);return i?i.SO():null}gL(t,s){if(i.Me(t),i.Me(s),t=Math.floor(t),s=Math.floor(s),t<=0||s<=0)throw new Error("invalid cell size");o.yL(t,s)}wL(){return o.SL()}vL(t,s){let i=o.HO(),e;e=Array.isArray(t)?t.map(t=>i.bL(t)):[i.bL(t)];const n=h.Rect.bl(s),r=[];return o.xL(null,e,n,r),r.map(t=>t.SO())}}}{let s=self.Bs,i=null,e=new Map([["Windows","windows"],["macOS","macos"],["Linux","linux"],["Chrome OS","chrome-os"],["Android","android"],["iOS","ios"]]),n=new Map([["Chrome","chrome"],["Chromium","chromium"],["Edge","edge"],["Opera","opera"],["NW.js","nwjs"],["Firefox","firefox"],["Safari","safari"]]),r=new Map([["Chromium","chromium"],["Gecko","gecko"],["WebKit","webkit"]]);self.iD=class{constructor(t){i=t,Object.defineProperties(this,{ML:{value:s.li.vi,writable:!1},TL:{value:e.get(s.li.ci)||"unknown",writable:!1},_L:{value:s.li.fi,writable:!1},GL:{value:n.get(s.li.di)||"unknown",writable:!1},IL:{value:s.li.mi,writable:!1},CL:{value:r.get(s.li.yi)||"unknown",writable:!1}})}get exportType(){let t=i.PL();return i.EL()?t="nwjs":i.AL()?t="windows-webview2":"cordova"===t?t="Android"===s.li.ci?"cordova-android":"cordova-ios":"playable-ad-single-file"!==t&&"playable-ad-zip"!==t||(t="playable-ad"),t}get renderer(){return i.FL().RL()}get DL(){return i.FL().OL()}get LL(){return i.FL().kL()}get BL(){return i.FL().NL()}get WL(){return i.FL().jL()}get VL(){return i.FL().UL()}get devicePixelRatio(){return i.HL()}}}{const ce=self.$s;self.JF=class{constructor(t){this.zL=t.JL()}getItem(t){return ce.Ie(t),this.zL.getItem(t)}setItem(t,s){return ce.Ie(t),this.zL.setItem(t,s)}removeItem(t){return ce.Ie(t),this.zL.removeItem(t)}clear(){return this.zL.clear()}keys(){return this.zL.keys()}}}{const fe=self.Bs,de=fe.Ns();self.qL=class{#$L;constructor(){const t=fe.YL.XL(de);this.#$L=t,Object.defineProperties(this,{runtime:{value:t.HO().ZL(),writable:!1},KL:{value:t.QL(),writable:!1},tk:{value:t.sk(),writable:!1},ik:{value:t.ek(),writable:!1},nk:{value:t.rk(),writable:!1},hk:{value:t.ak(),writable:!1},lk:{value:t.uk(),writable:!1},ck:{value:t.fk(),writable:!1},dk:{value:t.pk(),writable:!1}})}static mk(t){if(!t)return null;const s=fe.YL.gk(t);return s?s.yk():null}wk(){return this.#$L.vk().Sk()}bk(){return this.#$L.xk().SO()}}}{const pe=self.Bs,me=self.$s,ge=pe.Ns();self.Mk=class{#$L;constructor(){const t=pe.YL.XL(ge);this.#$L=t,Object.defineProperties(this,{name:{value:t.Kc(),writable:!1},runtime:{value:t.HO().ZL(),writable:!1},Tk:{value:t._k().yk(),writable:!1}}),t.HO().Gk(this,t)}addEventListener(t,s){me.Ie(t),me.Ye(s),this.#$L.rD().addEventListener(t,s)}removeEventListener(t,s){me.Ie(t),me.Ye(s),this.#$L.rD().removeEventListener(t,s)}Ik(){return[...this.instances()]}Ck(){return pe.first(this.instances())}Pk(){return[...this.Ek()]}Ak(){return pe.first(this.Ek())}Rk(t){const s=this.#$L,i=s.HO().Fk(t),e=s.Dk(i);return e?e.SO():null}*instances(){for(const t of this.#$L.Ok())yield t.SO()}*Ek(){for(const t of this.#$L.kk().Lk())yield t.SO()}Bk(t){me.Ye(t);const s=this.#$L;if(0<s.Nk())throw new Error("setInstanceClass() called too late, because instances have already been created - call in runOnStartup");s.Wk(t)}ki(t,s,i,e,n){if(me.ye(s),me.ye(i),"number"!=typeof t&&"string"!=typeof t)throw new TypeError("invalid layer parameter");const r=this.#$L,h=r.HO(),o=h.sO().TO(t);if(!o)throw new Error("invalid layer");const a=h.jk(r,o,s,i,e,n),l=(e&&o.Vk(a),h.lD());return l.Uk(!0),a.Hk(),l.Uk(!1),l.zk()||h.nO().Jk()||h.qk(),a.SO()}}}{const ye=self.$s,l=new WeakMap,we=["above","below","top-sublayer","bottom-sublayer"];self.$k=class{constructor(t){l.set(this,t);const s=[],i=t.Xk(),e=i.Yk().length;for(let t=0;t<e;++t)s.push(new self.Zk(i,t));Object.defineProperties(this,{name:{value:t.Kc(),writable:!1},index:{value:t.RF(),writable:!1},effects:{value:s,writable:!1}})}addEventListener(t,s){ye.Ie(t),ye.Ye(s),l.get(this).rD().addEventListener(t,s)}removeEventListener(t,s){ye.Ie(t),ye.Ye(s),l.get(this).rD().removeEventListener(t,s)}get width(){return l.get(this).um()}set width(t){ye.Me(t),l.get(this).Sm(t)}get height(){return l.get(this).Mm()}set height(t){ye.Me(t),l.get(this).fm(t)}Kk(t,s){ye.Me(t),ye.Me(s);const i=l.get(this);i.Sm(t),i.fm(s)}getSize(){const t=l.get(this);return[t.um(),t.Mm()]}set scale(t){ye.Me(t),l.get(this).Qk(t)}get scale(){return l.get(this).tB()}set angle(t){ye.Me(t),l.get(this).sB(t)}get angle(){return l.get(this).iB()}set scrollX(t){ye.ye(t),l.get(this).eB(t)}get scrollX(){return l.get(this).nB()}set scrollY(t){ye.ye(t),l.get(this).rB(t)}get scrollY(){return l.get(this).hB()}scrollTo(t,s){ye.ye(t),ye.ye(s);const i=l.get(this);i.eB(t),i.rB(s)}oB(){const t=l.get(this);return[t.nB(),t.hB()]}aB(t){let s=l.get(this),i=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");return(i=s.TO(t))?i.lB():null}uB(){return l.get(this).cB().map(t=>t.lB())}*fB(){for(const t of l.get(this).fB())yield t.lB()}dB(t,s,i){const e=l.get(this),n=self.pB,r=(ye.Ie(t),ye.hn(s,n),s?e.HO().mB(s):null),h=we.indexOf(i);if(h<0)throw new Error("invalid location");e.gB(t,r,h)}yB(t,s,i){const e=l.get(this),n=e.HO(),r=self.pB,h=(ye.rn(t,r),n.mB(t));if(!h)throw new Error("invalid layer");ye.hn(s,r);const o=s?n.mB(s):null,a=we.indexOf(i);if(a<0)throw new Error("invalid location");e.wB(h,o,a)}SB(t){const s=l.get(this),i=self.pB,e=(ye.rn(t,i),s.HO().mB(t));if(!e)throw new Error("invalid layer");const n=e.HO();s.vB(e),n.lD().zk()||n.qk()}bB(){const t=l.get(this),s=t.HO();t.xB(),s.lD().zk()||s.qk()}MB(t,s){ye.Me(t),ye.Me(s),l.get(this).TB(t,s)}_B(){return l.get(this).GB()}set Y(t){ye.Ie(t);const s=l.get(this);if("perspective"===t)s.IB();else{if("orthographic"!==t)throw new Error("invalid projection");s.CB()}}get Y(){return l.get(this).PB()?"orthographic":"perspective"}}}{const Se=self.Bs,f=self.$s,d=new WeakMap,ve=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),be=new Map([...ve.entries()].map(t=>[t[1],t[0]])),xe=Se.lr(Se.Uo);self.pB=class{constructor(t){d.set(this,t);const s=[],i=t.Xk(),e=i.Yk().length;for(let t=0;t<e;++t)s.push(new self.Zk(i,t));Object.defineProperties(this,{name:{value:t.Kc(),writable:!1},layout:{value:t.rO().iO(),writable:!1},effects:{value:s,writable:!1}}),t.HO().Gk(this,t)}get EB(){const t=d.get(this).AB();return t?t.lB():null}*RB(){for(const t of d.get(this).RB())yield t.lB()}*DB(){for(const t of d.get(this).OB())yield t.lB()}*LB(){for(const t of d.get(this).OB())for(const s of t.kB())yield s.lB()}get index(){return d.get(this).RF()}get isVisible(){return d.get(this).BB()}set isVisible(t){d.get(this).NB(t)}get WB(){return d.get(this).jB()}get isInteractive(){return d.get(this).VB()}set isInteractive(t){d.get(this).UB(t)}get HB(){return d.get(this).zB()}set HB(t){d.get(this).JB(!!t)}get qB(){return d.get(this).$B()}get opacity(){return d.get(this).OE()}set opacity(t){t=Se.gr(+t,0,1),isNaN(t)||d.get(this).kE(t)}set scale(t){f.Me(t),d.get(this).XB(t)}get scale(){return d.get(this).YB()}set scaleRate(t){f.Me(t),d.get(this).ZB(t)}get scaleRate(){return d.get(this).KB()}set angle(t){f.Me(t),d.get(this).sB(t)}get angle(){return d.get(this).QB()}set parallaxX(t){f.Me(t),d.get(this).t5(t)}get parallaxX(){return d.get(this).s5()}set parallaxY(t){f.Me(t),d.get(this).i5(t)}get parallaxY(){return d.get(this).e5()}set n5(t){f.Me(t),d.get(this).F2(t)}get n5(){return d.get(this).R2()}set r5(t){d.get(this).h5(t)}get r5(){return d.get(this).o5()}set a5(t){d.get(this).l5(t)}get a5(){return d.get(this).u5()}set ER(t){f.Ie(t);const s=ve.get(t);if("number"!=typeof s)throw new Error("invalid blend mode");d.get(this).d2(s)}get ER(){return be.get(d.get(this).c5())}set backgroundColor(t){if(f.Ve(t),t.length<3)throw new Error("expected 3 elements");xe.Xo(t[0],t[1],t[2]);const s=d.get(this),i=s.f5();i.fa(xe)||(i.ea(xe),s.HO().EO())}get backgroundColor(){const t=d.get(this).f5();return[t.na(),t.ra(),t.oa()]}set scrollX(t){f.ye(t);const s=d.get(this);s.d5(!0),s.eB(t)}get scrollX(){return d.get(this).nB()}set scrollY(t){f.ye(t);const s=d.get(this);s.d5(!0),s.rB(t)}get scrollY(){return d.get(this).hB()}scrollTo(t,s){f.ye(t),f.ye(s);const i=d.get(this);i.d5(!0),i.eB(t),i.rB(s)}oB(){const t=d.get(this);return[t.nB(),t.hB()]}p5(){d.get(this).d5(!1)}getViewport(){return d.get(this).m5().Il()}g5(t,s,i=0){f.ye(t),f.ye(s),f.ye(i);const e=d.get(this),n=e.HO();return e.y5(t-n.w5(),s-n.S5(),i)}v5(t,s,i=0){f.ye(t),f.ye(s),f.ye(i);const e=d.get(this),n=e.HO(),[r,h]=e.b5(t,s,i);return[r+n.w5(),h+n.S5()]}x5(t,s,i=0){return f.ye(t),f.ye(s),f.ye(i),d.get(this).M5(t,s,i)}T5(t,s,i=0){return f.ye(t),f.ye(s),f.ye(i),d.get(this)._5(t,s,i)}get G5(){return d.get(this).I5()}}}{let e=function(t){let s=_e.get(t);return s||(s=Me.lr(Me.Event.Vf),_e.set(t,s)),s};e;const Me=self.Bs,Te=self.$s,_e=new WeakMap,Ge=Me.Ns();self.C5=class{#$L;constructor(){const t=Me.YL.XL(Ge),s={runtime:{value:(this.#$L=t).HO().ZL(),writable:!1},P5:{value:t.E5().Sk(),writable:!1},Tk:{value:t._k().yk(),writable:!1}};t.A5(s),t.R5(s),Object.defineProperties(this,s),t.HO().Gk(this,t)}static F5(){return Me.YL.D5()}O5(){const t=_e.get(this);t&&(t.ur(),_e.delete(this))}addEventListener(t,s,i){Te.Ie(t),Te.Ye(s),e(this).addEventListener(t,s,i)}removeEventListener(t,s,i){Te.Ie(t),Te.Ye(s),e(this).removeEventListener(t,s,i)}dispatchEvent(t){e(this).dispatchEvent(t)}L5(){const t=this.#$L,s=t.HO();s.k5(t),s.lD().zk()||s.nO().Jk()||s.lD().B5()||s.qk()}N5(){const t=this.#$L.W5();return t?t.map(t=>t.SO()):[]}*j5(){const t=this.#$L;if(t.V5())for(const s of t.U5())yield s.SO()}get uid(){return this.#$L.H5()}get z5(){return this.#$L.J5()}set timeScale(t){Te.Me(t),this.#$L.kD(t)}get timeScale(){return this.#$L.q5()}X5(){this.#$L.Y5()}get dt(){const t=this.#$L;return t.HO().ED(t)}Z5(...t){Te.Ve(t);const s=new Set(t),i=this.#$L.K5();return s.de(i)}Q5(t){Te.rn(t,Set),this.#$L.tN(t)}sN(){return new Set(this.#$L.K5())}signal(t){Te.Ie(t);const s=this.#$L;s.HO().lD().iN(s,t)}GD(t){Te.Ie(t);const s=this.#$L;return s.HO().lD().eN(s,t)}}}{const Ie=self.Bs,Ce=self.$s,Pe=Ie.Ns();self.nN=class extends self.C5{#$L;#rN=!1;#hN=null;#oN=!1;#aN=null;#lN;#uN;constructor(t){super(),this.#$L=Ie.YL.XL(Pe),this.#rN=!1,this.#hN=null,this.#oN=!1,this.#aN=null,this.#lN=t?.domComponentId,this.#uN=t?.wrapperComponentId}O5(){this.cN(!1),this.fN(!1),super.O5()}dN(){return Ie.YL.pN()}mN(t){const s=this.#$L;s.HO().gN(t,s)}yN(t){const s=this.#$L;return s.HO().wN(t,s)}SN(t,s){if(Ce.Ie(t),Ce.Ye(s),!this.#lN)throw new Error("no DOM component id set");const i=this.#$L.HO();i.vN(this.#lN,t,s)}bN(t){Ce.Ve(t);for(const[s,i]of t)this.SN(s,i)}xN(t,s){if(Ce.Ie(t),!this.#lN)throw new Error("no DOM component id set");const i=this.#$L.HO();i.ff(this.#lN,t,s)}MN(t,s){if(Ce.Ie(t),!this.#lN)throw new Error("no DOM component id set");const i=this.#$L.HO();return i.RO(this.#lN,t,s)}TN(t,s){const i=this.#$L.HO();if(!i.qF())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.#lN,handler:t,data:s,responseId:null});this.xN(t,s)}cN(t){if(this.#rN!==(t=!!t)){this.#rN=t;const s=this.#$L.HO();t?(this.#hN||(this.#hN=()=>this._N()),s.Vf().addEventListener("tick",this.#hN)):s.Vf().removeEventListener("tick",this.#hN)}}GN(){return this.#rN}_N(){}fN(t){if(this.#oN!==(t=!!t)){this.#oN=t;const s=this.#$L.HO();t?(this.#aN||(this.#aN=()=>this.IN()),s.Vf().addEventListener("tick2",this.#aN)):s.Vf().removeEventListener("tick2",this.#aN)}}CN(){return this.#oN}IN(){}PN(){return[]}EN(){return null}AN(t){}RN(){if(!this.#uN)throw new Error("no wrapper component id set");const t=this.#$L.HO();return t.FN(this.#uN)}DN(t,s){if(Ce.Ie(t),Ce.Ye(s),!this.#uN)throw new Error("no wrapper component id set");const i=this.#$L.HO();i.ON(this.#uN,t,s)}LN(t){Ce.Ve(t);for(const[s,i]of t)this.DN(s,i)}kN(t,s){if(!this.#uN)throw new Error("no wrapper component id set");this.runtime.eD.BN(this.#uN,t,s)}NN(t,s){if(this.#uN)return this.runtime.eD.WN(this.#uN,t,s);throw new Error("no wrapper component id set")}}}{let t=function(t){return class n extends t{#jN;#VN;constructor(t){super(t);const s=Ee.YL.XL(De),i=s.MO(),e=(this.#jN=s,this.#VN=i,Fe.set(this,s),[]),n=i.UN();if(n){const h=i.E5().Xk().Yk().length;for(let t=0;t<h;++t)e.push(new self.Zk(n,t))}const r={effects:{value:e,writable:!1}};Object.defineProperties(this,r)}get layout(){return this.#VN.rO().iO()}get HN(){return this.#VN.TO().lB()}get x(){return this.#VN.I2()}set x(t){t=+t;const s=this.#VN;isNaN(t)||s.I2()===t||(s.C2(t),s.zN())}get y(){return this.#VN.E2()}set y(t){t=+t;const s=this.#VN;isNaN(t)||s.E2()===t||(s.A2(t),s.zN())}setPosition(t,s){t=+t,s=+s;const i=this.#VN;isNaN(t)||isNaN(s)||i.I2()===t&&i.E2()===s||(i.JN(t,s),i.zN())}qN(){const t=this.#VN;return[t.I2(),t.E2()]}$N(t,s){if(t=+t,s=+s,!(isNaN(t)||isNaN(s)||0===t&&0===s)){const i=this.#VN;i.XN(t,s),i.zN()}}get n5(){return this.#VN.R2()}set n5(t){t=+t;const s=this.#jN,i=this.#VN;isNaN(t)||i.R2()===t||(i.F2(t),s.HO().EO())}get YN(){return this.#VN.ZN()}get width(){return this.#VN.um()}set width(t){t=+t;const s=this.#VN;isNaN(t)||s.um()===t||(s.Sm(t),s.zN())}get height(){return this.#VN.Mm()}set height(t){t=+t;const s=this.#VN;isNaN(t)||s.Mm()===t||(s.fm(t),s.zN())}Kk(t,s){t=+t,s=+s;const i=this.#VN;isNaN(t)||isNaN(s)||i.um()===t&&i.Mm()===s||(i.hC(t,s),i.zN())}getSize(){const t=this.#VN;return[t.um(),t.Mm()]}get angle(){return this.#VN.iB()}set angle(t){t=Ee.yr(+t);const s=this.#VN;isNaN(t)||s.iB()===t||(s.sB(t),s.zN())}get KN(){return Ee.vr(this.angle)}set KN(t){this.angle=Ee.Sr(t)}Mu(){return this.#VN.QN().Il()}t4(){return this.#VN.s4().yu()}i4(){return this.#VN.e4()}get isVisible(){return this.#VN.jB()}set isVisible(t){t=!!t;const s=this.#jN,i=this.#VN;i.jB()!==t&&(i.NB(t),s.HO().EO())}get opacity(){return this.#VN.OE()}set opacity(t){t=Ee.gr(+t,0,1);const s=this.#jN,i=this.#VN;isNaN(t)||i.OE()===t||(i.kE(t),s.HO().EO())}set n4(t){if(Ae.Ve(t),t.length<3)throw new Error("expected 3 elements");ke.Xo(t[0],t[1],t[2]);const s=this.#jN,i=this.#VN;i.r4().fa(ke)||(i.h4(ke),s.HO().EO())}get n4(){const t=this.#VN.r4();return[t.na(),t.ra(),t.oa()]}set ER(t){Ae.Ie(t);const s=Oe.get(t);if("number"!=typeof s)throw new Error("invalid blend mode");const i=this.#jN,e=this.#VN;e.d2(s),i.HO().EO()}get ER(){return Le.get(this.#VN.c5())}o4(){this.#VN.a4()}l4(){this.#VN.u4()}c4(t){Ae.rn(t,Re);const s=this.#jN,i=s.HO().mB(t);if(!i)throw new Error("invalid layer");s.MO().f4(i)}d4(t,s){Ae.rn(t,n),this.#VN.m4(Fe.get(t),s)}get zIndex(){return this.#VN._O()}get g4(){return this.#VN.y4()}set g4(t){this.#VN.w4(!!t)}Xl(t,s){return Ae.ye(t),Ae.ye(s),this.#VN.S4(+t,+s)}cL(t){Ae.rn(t,n);const s=this.#jN,i=Fe.get(t);return s.HO().NF().fL(s,i)}pL(){const t=this.#jN,s=t.HO().NF().mL(t);return s?s.SO():null}getParent(){const t=this.#jN.v4();return t?t.SO():null}b4(){const t=this.#jN.x4();return t?t.SO():null}*M4(){for(const t of this.#jN.M4())yield t.SO()}T4(){return this.#jN._4()}G4(t){const s=this.#jN.I4(t);return s?s.SO():null}*children(){for(const t of this.#jN.children())yield t.SO()}*C4(){for(const t of this.#jN.C4())yield t.SO()}P4(t,s){Ae.rn(t,n),Ae.Oe(s),s=s||{};const i=this.#jN,e=Fe.get(t);i.E4(e,s)}removeChild(t){Ae.rn(t,n);const s=this.#jN,i=Fe.get(t);s.A4(i)}R4(){const t=this.#jN;if(t.F4()){const s=t.v4();s.A4(t)}}D4(){const t=this.#VN;return{O4:t.L4(),B4:t.N4(),W4:t.j4(),V4:t.U4(),H4:t.z4(),J4:t.q4(),X4:t.Y4(),Z4:t.K4(),Q4:t.t6()}}s6(t,s){Ae.Me(t),Ae.Me(s),this.#VN.i6(t,s)}e6(){const t=this.#VN;t.n6(),t.zN()}r6(t,s,i){Ae.Me(t),Ae.Me(s),Ae.De(i);const e=this.#VN;e.h6(t,s,i)&&e.zN()}o6(t,s){let i=NaN,e=NaN,n=NaN,r=NaN,h=NaN,o=this.#VN;if(o.a6()){const a=o.l6(),l=a.gb(t,s);null!==l&&(i=l.I2(),e=l.E2(),n=l.R2(),r=l.D2(),h=l.L2())}return{x:i,y:e,n5:n,u:r,v:h}}u6(){const t=this.#VN;if(!t.a6())return[0,0];const s=t.l6();return[s.nb(),s.rb()]}}};0;const Ee=self.Bs,Ae=self.$s,Re=self.pB,Fe=new WeakMap,De=Ee.Ns(),Oe=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),Le=new Map([...Oe.entries()].map(t=>[t[1],t[0]])),ke=Ee.lr(Ee.Uo);self.c6=t(self.C5),self.f6=t(self.nN)}{const Be=self.$s;self.d6=class extends self.c6{#$L;constructor(){super(),this.#$L=self.C5.F5()}p6(){return this.#$L.g6().m6()}focus(){this.#$L.g6().y6()}blur(){this.#$L.g6().w6()}S6(t,s){Be.Ie(t),this.#$L.g6().v6(t,s)}}}{let e=function(t){let s=je.get(t);return s||(s=Ne.lr(Ne.Event.Vf),je.set(t,s)),s};e;const Ne=self.Bs,We=self.$s,je=new WeakMap,Ve=Ne.Ns();self.b6=class{#$L;constructor(){const t=Ne.YL.XL(Ve),s={runtime:{value:(this.#$L=t).HO().ZL(),writable:!1},behavior:{value:t.M6().x6(),writable:!1},T6:{value:t.G6()._6(),writable:!1}};Object.defineProperties(this,s),t.HO().Gk(this,t)}static F5(){return Ne.YL.D5()}get I6(){return this.#$L.C6().SO()}O5(){const t=je.get(this);t&&(t.ur(),je.delete(this))}addEventListener(t,s,i){We.Ie(t),We.Ye(s),e(this).addEventListener(t,s,i)}removeEventListener(t,s,i){We.Ie(t),We.Ye(s),e(this).removeEventListener(t,s,i)}dispatchEvent(t){e(this).dispatchEvent(t)}}}{const Ue=self.Bs,He=Ue.Ns();self.P6=class{constructor(){const t=Ue.YL.XL(He),s={runtime:{value:t.HO().ZL(),writable:!1},behavior:{value:t.M6().x6(),writable:!1},name:{value:t.Kc(),writable:!1}};Object.defineProperties(this,s)}}}{const ze=self.Bs,Je=ze.Ns();self.E6=class{#$L;constructor(){const t=ze.YL.XL(Je),s={runtime:{value:(this.#$L=t).HO().ZL(),writable:!1}};Object.defineProperties(this,s)}Ik(){return this.#$L.Lk().map(t=>t.SO())}static mk(t){if(!t)return null;const s=ze.YL.A6(t);return s?s.x6():null}}}{const qe=self.Bs,$e=self.$s,Xe=qe.lr(qe.Uo);self.Zk=class{#$L;constructor(t,s){this.#$L=t;const i={index:{value:s,writable:!1}};Object.defineProperties(this,i)}get name(){const t=this.#$L.Yk();return t[this.index].Kc()}get isActive(){return this.#$L.R6(this.index)}set isActive(t){t=!!t;const s=this.#$L;s.R6(this.index)!==t&&(s.F6(this.index,t),s.D6(),s.HO().EO())}setParameter(t,s){$e.Me(t),t=Math.floor(+t);const i=this.#$L,e=i.O6(this.index,t);if(null===e)throw new RangeError("invalid index");if(e instanceof qe.Uo){if(!Array.isArray(s)||s.length<3)throw new TypeError("expected array with 3 elements");Xe.Xo(s[0],s[1],s[2]),s=Xe}else if("number"!=typeof s)throw new TypeError("expected number");const n=i.L6(this.index,t,s);n&&i.R6(this.index)&&i.HO().EO()}getParameter(t){$e.Me(t),t=Math.floor(+t);const s=this.#$L,i=s.O6(this.index,t);if(null===i)throw new RangeError("invalid index");return i instanceof qe.Uo?[i.na(),i.ra(),i.oa()]:i}}}self.k6=class{#$L;constructor(t){this.#$L=t,Object.defineProperties(this,{name:{value:t.Kc(),writable:!1}})}get speed(){return this.#$L.B6()}get isLooping(){return this.#$L.N6()}get repeatCount(){return this.#$L.W6()}get j6(){return this.#$L.V6()}get U6(){return this.#$L.H6()}get frameCount(){return this.#$L.z6()}J6(){return this.#$L.q6().map(t=>t.X6())}*frames(){for(const t of this.#$L.q6())yield t.X6()}};self.VO=class{#$L;constructor(t){this.#$L=t}static jO(t){return t.#$L}get width(){return this.#$L.um()}get height(){return this.#$L.Mm()}getSize(){const t=this.#$L;return[t.um(),t.Mm()]}Y6(t){return t.Z6(this)}K6(){return this.#$L.kC().Il()}};{const Ye=self.$s;self.Q6=class extends self.VO{#$L;constructor(t){super(t.tW()),this.#$L=t,Object.defineProperties(this,{duration:{value:t.sW(),writable:!1},iW:{value:t.eW(),writable:!1},nW:{value:t.rW(),writable:!1}})}hW(){const t=this.#$L;return[t.eW(),t.rW()]}oW(){return this.#$L.aW()}lW(t){return this.uW(t)[0]}cW(t){return this.uW(t)[1]}uW(t){let s=this.#$L,i=null;if("number"==typeof t)i=s.fW(Math.floor(t));else{if("string"!=typeof t)throw new TypeError("expected string or number");i=s.dW(t)}return i?[i.I2(),i.E2()]:this.hW()}pW(){const t=this.#$L.mW();return t?t.Nu():0}gW(t){return this.yW(t)[0]}wW(t){return this.yW(t)[1]}yW(t){Ye.Me(t),t=Math.floor(t);const s=this.#$L.mW();if(!s||t<0||t>=s.Nu())return[0,0];const i=s.Bu(),e=i[2*t],n=i[2*t+1];return[e,n]}get tag(){return this.#$L.SW()}}}{let s=function(t){const s=Ke.get(t);if(s.vW())throw new Error("timeline/tween was released and is no longer valid");return s};s;const Ze=self.$s,Ke=new WeakMap;self.bW=class{constructor(t){Ke.set(this,t),t.HO().Gk(this,t)}pause(){s(this).xW()}resume(){s(this).MW()}stop(){s(this).l0()}Z5(t){return s(this).TW(t)}set time(t){Ze.Me(t),s(this)._W(t)}get time(){return s(this).u3()}set totalTime(t){Ze.Me(t),s(this).GW(t)}get totalTime(){return s(this).IW()}set isLooping(t){s(this).PW(!!t)}get isLooping(){return s(this).EW()}set U6(t){s(this).AW(!!t)}get U6(){return s(this).RW()}set playbackRate(t){Ze.Me(t),s(this).FW(t)}get playbackRate(){return s(this).DW()}get progress(){const t=s(this);return t.u3()/t.IW()}get tags(){return s(this).OW()}get finished(){return s(this).LW()}get isPlaying(){return s(this).IsPlaying()}get kW(){return s(this).BW()}get NW(){return Ke.get(this).vW()}}}{let i=new WeakMap;self.WW=class extends self.bW{constructor(t){super(t),i.set(this,t);const s={name:{value:t.Kc(),writable:!1}};Object.defineProperties(this,s)}}}{let i=function(t){const s=n.get(t);if(s.vW())throw new Error("tween was released and is no longer valid");return s},e=(i,self.$s),n=new WeakMap,r=new WeakMap,h=null;self.jW=class extends self.bW{constructor(t,s,i){super(t),h=h||i.VW,n.set(this,t),s&&r.set(this,s)}stop(){const t=i(this),s=r.get(this);s.UW(t)}HW(t){e.Ie(t);const s=self.mc.Dc(h(t));i(this).zW(s)}get I6(){const t=i(this).JW();return t?t.SO():null}get qW(){return i(this).$W()}set qW(t){i(this).XW(!!t)}get value(){const t=i(this);if("value"!==t.YW())throw new Error("not a value tween");return t.KW("value").ZW()}}}self.QW=class extends self.qL{constructor(){super()}};{const Qe=self.Bs,tn=self.$s,sn=Qe.Ns();self.tj=class extends self.QW{#$L;#lN;#sj=0;#ij=new Map;constructor(t){if(super(),this.#$L=Qe.YL.XL(sn),!t?.domComponentId)throw new Error("no DOM component ID specified");this.#lN=t.domComponentId,this.ej("elem-focused",t=>t.nj()),this.ej("elem-blurred",t=>{t&&t.rj()})}hj(t){const s=this.#sj++;return this.#ij.set(s,t),s}oj(t){this.#ij.delete(t)}ej(t,i){const s=this.#$L.HO();s.vN(this.#lN,t,t=>{const s=this.#ij.get(t.elementId);i(s,t)})}aj(t){tn.Ve(t);for(const[s,i]of t)this.aj(s,i)}}}{const en=self.Bs,nn=(new WeakMap,en.Ns());self.lj=class extends self.Mk{#$L;constructor(){super(),this.#$L=en.YL.XL(nn)}uj(){}cj(){return this.#$L.tW().fj()}dj(t){}pj(t){}mj(){}gj(t){}}}{const rn=self.Bs,hn=(new WeakMap,rn.Ns());self.yj=class extends self.f6{#$L;#wj=null;#Sj=null;constructor(t){super(t),this.#$L=rn.YL.XL(hn)}O5(){if(super.O5(),this.#wj){const t=this.#$L.HO().Vf();t.removeEventListener("renderercontextlost",this.#wj),t.removeEventListener("renderercontextrestored",this.#Sj),this.#wj=null,this.#Sj=null}}vj(){if(!this.#wj){this.#wj=()=>this.bj(),this.#Sj=()=>this.xj();const t=this.#$L.HO().Vf();t.addEventListener("renderercontextlost",this.#wj),t.addEventListener("renderercontextrestored",this.#Sj)}}bj(){}xj(){}Mj(t){}}}{const on=self.Bs,an=on.lr(on.Rect),ln=new WeakMap,un=on.Ns();self.Tj=class extends self.yj{#_j=-1;#Gj=!0;#Ij=!1;#Cj=!1;#Pj=-.2;#Ej=on.lr(on.Rect,0,0,-1,-1);#Aj=0;#Rj=0;#Fj=-1;#Dj=-1;#Oj=!1;constructor(t){if(!t?.domComponentId)throw new Error("no DOM component ID specified");super(t);const s=on.YL.XL(un),i=(ln.set(this,s),this.#_j=this.Tk.hj(this),s.HO().FL());this.#Aj=i.Lj(),this.#Rj=i.kj(),this.cN(!0)}O5(){super.O5(),this.Tk.oj(this.#_j),this.Bj("destroy"),this.#_j=-1,ln.delete(this)}Nj(){const t=ln.get(this).HO();if(t.qF())throw new Error("not valid in worker mode");return this.Wj("get-element")}Bj(t,s){(s=s||{}).elementId=this.#_j,this.xN(t,s)}Wj(t,s){return(s=s||{}).elementId=this.#_j,this.TN(t,s)}jj(t,s){return(s=s||{}).elementId=this.#_j,this.MN(t,s)}Vj(t){t=t||{};const s=ln.get(this).MO();t.elementId=this.#_j,t.isVisible=s.jB(),t.htmlIndex=s.TO().Uj(),t.htmlZIndex=s.Hj(),Object.assign(t,this.zj()),this.#Gj=!!t.isVisible,this.TN("create",t),this.Jj(!0)}qj(t){this.#Gj!==(t=!!t)&&(this.#Gj=t,this.Bj("set-visible",{isVisible:t}))}_N(){this.Jj(!1)}$j(){const t=ln.get(this).HO(),s=t.FL().Xj();return"Android"===on.li.ci&&("scale-inner"===s||"scale-outer"===s||"crop"===s)}Jj(u){const c=ln.get(this);if(!c.Yj()){let t=c.MO(),s=t.TO(),i=t.QN(),[e,n]=s.b5(i.Ml(),i.Tl()),[r,h]=s.b5(i._l(),i.Gl()),o=c.HO().FL(),a=o.kL(),l=o.NL();if(t.jB()&&s.jB())if(!this.$j()&&(r<=0||h<=0||a<=e||l<=n))this.qj(!1);else{an.set(e,n,r,h);const f=o.Lj(),d=o.kj(),p=s.Uj(),m=t.Hj();if(!u&&an.equals(this.#Ej)&&this.#Aj===f&&this.#Rj===d&&this.#Fj===p&&this.#Dj===m)this.qj(!0);else{this.#Ej.G(an),this.#Aj=f,this.#Rj=d,this.#Fj=p,this.#Dj=m,this.qj(!0);let t=null;this.#Cj&&(t=s.Zj()+this.#Pj),this.Bj("update-position",{left:Math.round(this.#Ej.Ml()),top:Math.round(this.#Ej.Tl()),width:Math.round(this.#Ej.width()),height:Math.round(this.#Ej.height()),htmlIndex:p,htmlZIndex:m,fontSize:t})}}else this.qj(!1)}}Kj(){this.Wj("focus",{focus:!0})}Qj(){this.Wj("focus",{focus:!1})}nj(){this.#Ij=!0}rj(){this.#Ij=!1}tV(){return this.#Ij}sV(t,s){this.postToDOMElement("set-css-style",{prop:on.Wo(t),val:s})}iV(t,s){this.postToDOMElement("set-attribute",{name:t,val:s})}eV(t){this.postToDOMElement("remove-attribute",{name:t})}nV(){this.#Oj||(this.#Oj=!0,Promise.resolve().then(()=>{this.#Oj=!1,this.Bj("update-state",this.zj())}))}zj(){}rV(){return this.#_j}}}self.hV=class extends self.E6{constructor(){super()}};self.oV=class extends globalThis.P6{constructor(){super()}uj(){}};{const cn=self.Bs,fn=new WeakMap,dn=cn.Ns();self.aV=class extends self.b6{#rN=!1;#oN=!1;#lV=!1;constructor(){super(),fn.set(this,cn.YL.XL(dn))}O5(){super.O5(),this.cN(!1),this.fN(!1),this.uV(!1),fn.delete(this)}dN(){return cn.YL.pN()}cV(){}mN(t){const s=fn.get(this);s.HO().gN(t,s.C6(),s.G6())}yN(t){const s=fn.get(this);return s.HO().wN(t,s.C6(),s.G6())}cN(t){if(this.#rN!==(t=!!t)){this.#rN=t;const s=fn.get(this).HO();t?s.fV(this):s.dV(this)}}GN(){return this.#rN}_N(){}fN(t){if(this.#oN!==(t=!!t)){this.#oN=t;const s=fn.get(this).HO();t?s.pV(this):s.mV(this)}}CN(){return this.#oN}IN(){}uV(t){if(this.#lV!==(t=!!t)){this.#lV=t;const s=fn.get(this).HO();t?s.gV(this):s.yV(this)}}wV(){return this.#lV}SV(){}PN(){return[]}EN(){return null}AN(t){}}}{let e=self.$s,n=null;self.nD=class{constructor(t){n=t}OO(t){n.LO(t)}BN(t,s,i){e.Ie(t),e.Ie(s),e.Ue(i),n.vV(t,s,i)}WN(t,s,i){return e.Ie(t),e.Ie(s),e.Ue(i),n.bV(t,s,i)}xV(t){return e.Ce(t),new self.MV(n,t)}set TV(t){n._V(!!t)}get TV(){return n.GV()}IV(t){n.CV(!!t)}PV(t){e.ye(t);const s=n.EV(t);return s?s.Sk():null}}}self.MV=class{#AV;#RV;#FV;#DV;#OV;#LV;constructor(t,s){const i=(this.#AV=t).lD(),e=t.mD(),n=(this.#RV=e,this.#FV=e.kV(),t.xD()),r=(this.#DV=n.BV(),this.#OV=n.NV(e),i.WV()),h=r.NV();this.#LV=h,s&&h.jV(s),t.VV(!1)}UV(){const t=this.#AV.lD(),s=this.#FV,i=this.#LV;t.HV(s),this.#RV.zV(this.#DV,this.#OV),t.JV(s),i.qV(i.RF()+1)}get $V(){return this.#LV.XV()}release(){const t=this.#AV,s=t.xD(),i=t.lD().WV();t.VV(!0),i.YV(),s.YV()}};{let d=self.Bs,n=self.$s,p=null,r=null;self.ZV=class{constructor(t,s){r=t,p=s}KV(){p.HE()}QV(t){p.VE(t)}t8(){p.Jw()}s8(){p.Ww()}i8(){p.Qw()}setColor(t){p.LE(t[0],t[1],t[2],t[3])}e8(t,s,i,e){p.LE(t,s,i,e)}n8(){p.BE()}r8(t){p.kE(t)}h8(t){p.vS(t)}o8(){p.bS()}rect(t){p.qE(t.left,t.top,t.right,t.bottom)}a8(t,s,i,e){p.qE(t,s,i,e)}l8(t){p.Ql(d.Ql.wu(t))}u8(t,s,i,e,n,r,h,o){p.hv(t,s,i,e,n,r,h,o)}c8(t,s){p.AS(d.Ql.wu(t),d.Rect.Cl(s))}f8(t,s){p.YE(d.Ql.wu(t),d.Ql.wu(s))}d8(t,s,i,e,n,r,h,o,a,l,u,c,f){p.ZE(t,s,i,e,n,r,h,o,a,l,u,c,d.Rect.Cl(f))}p8(t,s,i,e,n,r,h,o,a,l,u,c,f){p.GS(t,s,i,e,n,r,h,o,a,l,u,c,d.Ql.wu(f))}m8(t,s,i){p.KE(t,s,i)}g8(t){p.rv(t)}line(t,s,i,e){p.Cm(t,s,i,e)}y8(t,s,i,e,n,r){p.IS(t,s,i,e,n,r)}w8(t,s,i,e){p.RS(t,s,i,e)}S8(t){p.LS(d.Rect.Cl(t))}v8(t){p.kS(d.Ql.wu(t))}b8(t){p.US(t)}x8(){p.HS()}M8(t){p.$S(t)}T8(){p.KS()}_8(t){n.hn(t,self.G8);const s=t?r.mB(t):null;p.WE(s)}I8(t,s){const i=self.VO.jO(t);if(i)return i.C8(p,{Ib:s?.Ib??"clamp-to-edge",Cb:s?.Cb??"clamp-to-edge",Pb:s?.Pb??"trilinear",Rb:s?.Rb??!0});throw new Error("invalid IImageInfo")}P8(t){const s=self.VO.jO(t);if(!s)throw new Error("invalid IImageInfo");s.II()}Z6(t){const s=self.VO.jO(t);if(!s)throw new Error("invalid IImageInfo");const i=s.Yx();return self.G8.E8(r,i)}A8(t,s,i){n.Me(t),n.Me(s);const e=p.Wx(t,s,{Ib:i?.Ib??"clamp-to-edge",Cb:i?.Cb??"clamp-to-edge",Pb:i?.Pb??"trilinear",Rb:i?.Rb??!0});return self.G8.E8(r,e)}F8(t,s,i){n.rn(s,self.G8);const e=r.mB(s);p.LC(t,e,{premultiplyAlpha:i?.premultiplyAlpha??!0})}deleteTexture(t){n.rn(t,self.G8);const s=r.mB(t);p.Hx(s)}D8(){const t=p.xv();return new self.O8(r,t)}L8(){r.FL().k8(p)}B8(t){n.rn(t,globalThis.pB);const s=r.mB(t);s.N8(p)}}}{const pn=new WeakMap,mn=new WeakMap;self.G8=class{constructor(t,s){pn.set(this,{runtime:t,W8:s}),mn.set(s,this),t.Gk(this,s),Object.defineProperties(this,{width:{value:s.um(),writable:!1},height:{value:s.Mm(),writable:!1}})}static E8(t,s){if(!s)return null;const i=mn.get(s);return i||new self.G8(t,s)}}}{let e=function(t){return yn.get(t).j8};e;const gn=self.$s,yn=new WeakMap;self.O8=class{constructor(t,s){yn.set(this,{runtime:t,j8:s}),t.Gk(this,s)}release(){e(this).ur()}set V8(t){gn.Ie(t),e(this).LI(t)}get V8(){return e(this).BG()}set U8(t){gn.Me(t),e(this).kI(t)}get U8(){return e(this).BI()}set lineHeight(t){gn.Me(t),e(this).WI(t)}get lineHeight(){return e(this).jI()}set H8(t){e(this).VI(t)}get H8(){return e(this).UI()}set z8(t){e(this).HI(t)}get z8(){return e(this).zI()}setColor(t){gn.Ve(t),this.J8(t[0],t[1],t[2])}J8(t,s,i){e(this).YI(t,s,i)}q8(t){gn.Ie(t),e(this).m2(t)}set X8(t){e(this).ZI(t)}get X8(){return e(this).KI()}set verticalAlign(t){e(this).QI(t)}get verticalAlign(){return e(this).tC()}set Y8(t){e(this).sC(t)}get Y8(){return e(this).iC()}set Z8(t){e(this).eC(t)}get Z8(){return e(this).nC()}set text(t){gn.Ie(t),e(this).df(t)}get text(){return e(this).rC()}Kk(t,s,i){gn.Me(t),gn.Me(s),gn.Me(i),e(this).hC(t,s,i)}Y6(){const{runtime:t,j8:s}=yn.get(this),i=s.Yx();return self.G8.E8(t,i)}K6(){return e(this).kC().Il()}K8(t){gn.Ye(t),e(this).EI=t}Q8(){e(this).II()}get tU(){return e(this).aC()}get sU(){return e(this).uC()}}}{let e=function(t){if(!t)return"";const s=t.split(".");if(s.length<2)return"";const i=s.at(-1).toLowerCase();return Sn.get(i)||""},r=function(e){return new Promise((t,s)=>{const i=document.createElement("script");i.onload=t,i.onerror=s,i.async=!1,i.type="module",i.src=e,document.head.appendChild(i)})};e,r;const g=self.Bs,wn=new Set(["local","remote"]),Sn=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);g.iU=class extends g.rr{constructor(t,s){super();const i=s.exportType,e=(this.lf=t,this.eU="folders",this.nU=new Map,this.rU="cordova"===i,this.hU=!!s.isiOSCordova,this.oU=!!s.isFileProtocol,this.aU=s.swClientId,this.lU=s.supportedAudioFormats||{},this.uU=new Map,this.cU=!1,this.fU=s.scriptFolder,this.dU="",this.pU="",this.mU="",this.gU=s.fileMap||new Map,this.yU=new Map,"html5"===i||"scirra-arcade"===i||"instant-games"===i);this.wU=e?"remote":"local",this.SU=new Map,this.vU=[],this.bU=[],this.xU=!1,this.MU=0,this.TU=0,this._U=0,this.GU=!1,this.IU=g.lr(g.Td,()=>this.CU(),50),this.PU=g.lr(g.md,Math.max(g.hardwareConcurrency,8)),this.EU=g.lr(g.md,20),this.AU=new self.kO(this)}ur(){for(const t of this.SU.values())t.ur();this.SU.clear(),g.Bh(this.bU),this.lf=null}HO(){return this.lf}RU(t){this.eU=t}KO(){return this.eU}FU(){return this.fU}DU(t){this.dU=t}sL(){return this.dU}OU(t){this.pU=t}LU(){return this.pU}kU(t){this.mU=t}BU(){return this.mU}NU(){return this.oU}To(t,s){return s=s||this.wU,g.So(t)?("flat"===this.eU&&(t=t.toLowerCase()),this.rU&&this.oU?this.WU(t):"playable-ad-single-file"===this.lf.PL()?self.c3_runtimeInterface._PlayableAdFetchBlob(t):("local"===s?this.PU:this.EU).uc(()=>g.To(t))):g.To(t)}_o(t){return g.So(t)?("flat"===this.eU&&(t=t.toLowerCase()),this.rU&&this.oU?this.jU(t):"playable-ad-single-file"===this.lf.PL()?g.Io(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("local"===this.wU?this.PU:this.EU).uc(()=>g._o(t))):g._o(t)}xo(t){return g.So(t)?("flat"===this.eU&&(t=t.toLowerCase()),this.rU&&this.oU?this.VU(t):"playable-ad-single-file"===this.lf.PL()?g.Co(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("local"===this.wU?this.PU:this.EU).uc(()=>g.xo(t))):g.xo(t)}async Mo(t){const s=await this.xo(t);return JSON.parse(s)}UU(t,s){return"flat"===this.eU&&(t=t.toLowerCase()),this.lf.RO("runtime","cordova-fetch-local-file",{filename:t,as:s})}VU(t){return this.UU(t,"text")}async WU(t){const s=await this.UU(t,"buffer"),i=e(t);return new Blob([s],{type:i})}async HU(t){"flat"===this.eU&&(t=t.toLowerCase());let s=this.nU.get(t);if(!s){const i=await this.WU(t);s=URL.createObjectURL(i),this.nU.set(t,s)}return s}jU(t){return this.UU(t,"buffer")}QO(t){"flat"===this.eU&&(t=t.toLowerCase());let s=this.dU+t;return"Gecko"===g.li.yi&&"preview"===this.lf.PL()?this.zU(s):s}YO(t){return g.wo(t)?Promise.resolve(t):this.rU&&this.oU?this.HU(t):"playable-ad-single-file"===this.lf.PL()?URL.createObjectURL(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("flat"===this.eU&&(t=t.toLowerCase()),Promise.resolve(t))}JU(s){if(g.wo(s)||"preview"!==this.lf.PL()||!this.aU||!s)return s;try{const t=new URL(s,location.href);return t.searchParams.set("__c3_client_id",this.aU),t.toString()}catch(t){return console.warn("Invalid iframe URL: "+s),s}}qU(t){return this.YO(t)}$U(t){if(t.XU&&!wn.has(t.XU))throw new Error("invalid load policy");let s=this.SU.get(t.url);return s||(s=g.lr(g.YU,this,{url:t.url,size:t.size||0,XU:t.XU||this.wU}),this.SU.set(s.ZU(),s),this.xU)||(this.MU+=s.nc(),this.bU.push(s.KU().then(()=>this.QU(s.nc())))),s}tH(t){this.SU.delete(t.ZU())}async sH(){try{await Promise.all(this.bU),this._U=1}catch(t){console.error("Error loading: ",t),this.GU=!0,this.CU()}}iH(){this.xU=!0}eH(){return this.GU}QU(t){this.TU+=t,this.IU.Ld()}CU(){const t=g.lr(g.Event,"loadingprogress");this._U=g.gr(this.TU/this.MU,0,1),t.progress=this._U,this.lf.Vf().dispatchEvent(t)}nH(){return this._U}rH(t){g.Vh(this.vU,t),this.vU.length&&this.bU.push(this.hH())}async hH(){const t=[],s=[];for(const[i,e,n]of this.vU)this.MU+=n,t.push(this.oH(i,e,s).then(()=>this.QU(n)));await Promise.all(t),this.lf.qF()&&0<s.length&&await this.lf.RO("runtime","load-webfonts",{webfonts:s})}async oH(s,i,e){try{let t=await this.YO(i);"Gecko"===g.li.yi&&(s=`'${s}'`),("Gecko"===g.li.yi&&"preview"===this.lf.PL()||"playable-ad-single-file"===this.lf.PL())&&(t=this.zU(t));const n=new FontFace(s,`url('${t}')`);(this.lf.qF()?self:document).fonts.add(n),await n.load(),this.lf.qF()&&e.push({name:s,url:t})}catch(t){console.warn(`[C3 runtime] Failed to load web font '${s}': `,t)}}NO(t){return!!this.lU[t]}aH(t,s){this.cU=!!s;for(const[i,e,n]of t)this.uU.set(i,{fileName:i,lH:e.map(t=>({type:t[0],uH:t[1],cH:i+t[1],fileSize:t[2]})),isMusic:n})}fH(t){"flat"===this.eU&&(t=t.toLowerCase());const s=this.uU.get(t);if(!s)return null;let i=null;for(const e of s.lH)if(i||"audio/webm; codecs=opus"!==e.type||(i=e),this.NO(e.type))return e;return i}dH(t){const s=this.fH(t);return s?{url:this.QO(s.cH),type:s.type}:null}pH(){if(this.cU){const t=[];for(const s of this.uU.values())if(!s.isMusic){const i=this.fH(s.fileName);i&&t.push({originalUrl:s.fileName,url:this.QO(i.cH),type:i.type,fileSize:i.fileSize})}return t}return[]}mH(t){return"preview"===this.lf.PL()&&(t=new URL(t,location.href).toString()),this.gU.get(t)||null}zU(t){let s=this.yU.get(t);if(!s){const i=this.mH(t);if(!i)return t;s=URL.createObjectURL(i),this.yU.set(t,s)}return s}OF(){return this.AU}async rL(...t){const s=await Promise.all(t.map(t=>this.YO(t)));if(this.lf.qF())if(1===t.length){const i=t[0];await import((g.So(i)?"./":"")+i)}else{const e=t.map(t=>`import "${g.So(t)?"./":""}${t}";`).join("\n"),n=URL.createObjectURL(new Blob([e],{type:"application/javascript"}));await import(n)}else await Promise.all(s.map(t=>r(t)))}async oL(t){if(WebAssembly.compileStreaming){const s=await this.YO(t);return WebAssembly.compileStreaming(fetch(s))}{const i=await g._o(t);return WebAssembly.compile(i)}}async lL(t){const s=await this.YO(t);return this.lf.RO("runtime","add-stylesheet",{url:s})}}}{const vn=self.Bs;vn.gH=class extends vn.rr{constructor(t,s){super(),this.yH=t,this.lf=t.HO(),this.wH=s.url||"",this.SH=s.size,this.vH=s.XU,this.bH=s.blob||null,this.xH=!!this.bH,this.Ng=null}ur(){this.Ng=null,this.yH=null,this.lf=null,this.bH=null}ZU(){return this.wH}nc(){return this.SH}KU(){return"local"===this.vH||this.bH?(this.xH=!0,Promise.resolve()):(this.Ng||(this.Ng=this.yH.To(this.wH,this.vH).then(t=>(this.xH=!0,this.Ng=null,this.bH=t)).catch(t=>{console.error("Error loading resource: ",t),this.Ng=null})),this.Ng)}MH(){return this.xH}TH(){return this.bH?Promise.resolve(this.bH):this.Ng||this.yH.To(this.wH,this.vH)}}}{const bn=self.Bs,lr=new bn.md,ur=new Set;bn.YU=class extends bn.gH{constructor(t,s){super(t,s),this._H=null,this.GH=null,this.d1=0,this.IH=-1,this.CH=-1,ur.add(this)}ur(){if(0!==this.d1)throw new Error("released image asset which still has texture references");this.yH.tH(this),this._H=null,ur.delete(this),super.ur()}static PH(){for(const t of ur)t._H=null,t.GH=null,t.d1=0}C8(t,s){return s=s||{},this.d1++,this.GH?Promise.resolve(this.GH):(this._H||(s.Eb=this.lf.FL().EH(),this._H=this.AH(t,s)),this._H)}async AH(s,i){try{const e=await this.TH();return 0===this.d1?this._H=null:await lr.uc(async()=>{const t=await s.MA(e,i);return this._H=null,0===this.d1?(s.Hx(t),null):(this.GH=t,this.IH=t.um(),this.CH=t.Mm(),this.GH)})}catch(t){throw console.error("Failed to load texture: ",t),t}}II(){if(this.d1<=0)throw new Error("texture released too many times");if(this.d1--,0===this.d1&&this.GH){const t=this.GH.Jv();t.Hx(this.GH),this.GH=null}}RH(){return this.d1}Yx(){return this.GH}um(){return this.IH}Mm(){return this.CH}async FH(){const t=await this.TH();return bn.Vi.ImageBitmap?createImageBitmap(t):bn.Eo(t)}}}{let t=function(t,s){return t.MO().DH()-s.MO().DH()};t;const cr=self.Bs;cr.OH=class extends cr.rr{constructor(t,s,i){super(),this.LH=t,this.tl=s,this.sl=i,this.kH=[],this.BH=!0,this.NH=new Set,this.WH=!1}ur(){cr.Bh(this.kH),this.NH.clear(),this.LH=null}l0(){cr.Bh(this.kH),this.BH=!0,this.NH.clear(),this.WH=!1}jH(){this.BH=!1}sc(){if(this.kH.length){if(this.kH.length>this.NH.size)return!1;this.VH()}return!0}UH(t){this.NH.has(t)?(this.NH.delete(t),0===this.NH.size&&(this.WH=!1)):(this.kH.push(t),this.BH=1===this.kH.length)}b0(t){this.NH.add(t),this.WH=!0,50<=this.NH.size&&this.VH()}VH(){this.WH&&(this.kH.length===this.NH.size?this.l0():(cr.qh(this.kH,this.NH),this.NH.clear(),this.WH=!1))}HH(){this.BH||(this.kH.sort(t),this.BH=!0)}zH(t){this.VH(),this.HH(),this.kH.length&&t.push(this.kH)}}}{const fr=self.Bs;fr.JH=class extends fr.rr{constructor(t,s){super(),this.qH=t,this.$H=s,this.XH=fr.lr(fr.Ku)}ur(){this.XH.ur(),this.XH=null}YH(t,s,i){let e=this.XH.ei(t,s);return e||(i?(e=fr.lr(fr.OH,this,t,s),this.XH.Set(t,s,e),e):null)}ZH(t){return Math.floor(t/this.qH)}KH(t){return Math.floor(t/this.$H)}QH(e,n,r){if(n)for(let i=n.Ml(),t=n._l();i<=t;++i)for(let t=n.Tl(),s=n.Gl();t<=s;++t)if(!r||!r.Xl(i,t)){const h=this.YH(i,t,!1);h&&(h.b0(e),h.sc())&&this.XH.ic(i,t)}if(r)for(let i=r.Ml(),t=r._l();i<=t;++i)for(let t=r.Tl(),s=r.Gl();t<=s;++t)n&&n.Xl(i,t)||this.YH(i,t,!0).UH(e)}t7(t,s){let i=this.ZH(t.Ml()),e=this.KH(t.Tl()),n=this.ZH(t._l()),r=this.KH(t.Gl());for(;i<=n;++i)for(let t=e;t<=r;++t){const h=this.YH(i,t,!1);h&&h.zH(s)}}s7(t){let s=t.Ml(),i=t.Tl(),e=t._l(),n=t.Gl();for(;s<=e;++s)for(let t=i;t<=n;++t){const r=this.YH(s,t,!1);r&&r.jH()}}}}{let h=function(t,s){return t.MO().DH()-s.MO().DH()},t=function(t,s){return t.MO().R2()-s.MO().R2()};h,t;const S=self.Bs,dr=new S.Rect,pr=new S.Ql,mr=[],gr=(new S.Rect,new S.Rect,self.bs),_n=gr.Ps,Un=gr.Es,Tn=gr._s,yr=Tn.create(),wr=_n.create(),Sr=Un.create(),vr=_n.create(),br=_n.create(),xr=_n.create(),Mr=S.lr(S.Qa),Tr=(S.lr(S.Rect),[]),_r=[],Gr=[],Ir={name:"",sid:-1,i7:!1,isVisible:!0,isInteractive:!0,HB:!1,backgroundColor:[1,1,1,1],r5:!0,e7:[1,1],opacity:1,a5:!1,n7:!1,r7:!1,h7:!1,scaleRate:1,ER:0,n5:0,o7:[],a7:[],l7:[]};S.u7=class extends S.rr{constructor(t,s,i){super(),i=Object.assign({},Ir,i),this.c7=t,this.lf=t.HO(),this.f7=s,this.pr=i.name,this.Xg=-1,this.d7=!!i.HB,this.p7=-1,this.m7=i.sid,this.g7=!!i.i7,this.y7=!!i.isVisible,this.w7=!!i.isInteractive,this.S7=S.lr(S.Uo),this.S7.Va(i.backgroundColor),this.v7=!!i.r5,this.b7=i.e7[0],this.x7=i.e7[1],this.u2=S.lr(S.Uo,1,1,1,i.opacity),this.M7=S.lr(S.Uo),this.T7=!!i.a5,this._7=!!i.n7,this.G7=!!i.r7,this.I7=!!i.h7,this.C7=i.scaleRate,this.l2=i.ER,this.P7=null,this.E7=1,this.c2=i.n5,this.A7=0,this.R7=0,this.F7=0,this.D7=!1,this.xP=S.lr(S.Rect),this.O7=S.lr(S.Rect),this.L7=S.lr(S.Rect),this.k7=!0,this.Dx=Tn.create(),this.B7=!0,this.gR=Tn.create(),this.N7=!0,this.W7=S.lr(S.ey.ly),this.j7=!0,this.V7=[],this.U7=i.o7,this.H7=[],this.z7=[],this.J7=new Map,this.kH=[],this.q7=!1,this.X7=!1,this.Y7=!1;const n=this.lf.FL();this.Z7=S.lr(S.K7,this,i.a7),this.CF=S.lr(S.ey._3,n.Q7(),{d3:(t,s)=>{const i=s.vF(),e=i.SA();t.m2(i.sz()),t.IA(e),t.CA(e),n.iz(e)},g3:t=>this.Xk().ez(t)}),this.nz=!0,this.rz=!0,this.hz=null,this.oz=[],this.az=!1,this.lz=S.lr(S.Rect,0,0,-1,-1),this.uz=S.lr(S.Rect,0,0,-1,-1),this.cz=new self.pB(this),this.fz(),this.pz()&&(this.hz=S.lr(S.JH,this.lf.XF(),this.lf.ZF())),this.mz=i.l7.map(t=>S.u7.gz(this.c7,this,t))}yz(){for(const t of this.U7){const s=this.lf.wz(t[1]);this.c7.Sz(s),s.vz()||(s.bz(t),s.xz(this.Xg)),this.H7.push(t),this.J7.set(t[2],t)}S.Vh(this.V7,this.H7),this.U7=null}static gz(t,s,i){return S.lr(S.u7,t,s,{name:i[0],sid:i[2],isVisible:i[3],isInteractive:i[13],HB:i[19],backgroundColor:i[4].map(t=>t/255),r5:i[5],e7:[i[6],i[7]],opacity:i[8],a5:i[9],n7:i[17],r7:i[18],h7:i[10],scaleRate:i[11],ER:i[12],n5:i[16],o7:i[14],a7:i[15],l7:i[20]})}ur(){for(const t of this.mz)t.ur();S.Bh(this.mz);for(const s of this.kH)this.lf.k5(s);S.Bh(this.kH),this.Z7.ur(),this.Z7=null,this.CF.ur(),this.CF=null,this.cz=null,this.f7=null,this.c7=null,this.lf=null}Mz(t){return this.J7.get(t)}Tz(n){let r=this.c7._z(),h=0,o=this.H7;for(let e=0,t=o.length;e<t;++e){let t=o[e],s=this.lf.wz(t[1]),i=!0;if(!s.Gz()||r){const a=this.lf.Iz(t,this,!0);n.push(a),s.Cz()&&(i=!1,this.z7.push(a.H5()))}i&&(o[h]=o[e],++h)}S.kh(o,h),this.lf.qk(),this.PO()}Pz(t,s){if(!t._k().sk())throw new Error("instance is not of world type");const i=t.MO();if(i.TO()!==this)throw new Error("instance added to wrong layer");this.kH.push(t),0!==i.R2()&&(this.Y7=!0),s&&this.pz()&&t.MO().zN(),this.PO(t)}Ez(t){this.kH.includes(t)||(this.kH.push(t),0!==t.MO().R2()&&(this.Y7=!0),this.PO(t))}Az(t,s){const i=t.MO();if(i.TO()!==this)throw new Error("instance added to wrong layer");this.kH.unshift(t),0!==i.R2()&&(this.Y7=!0),this.PO(t),s&&this.pz()&&t.MO().zN()}Rz(t,s){const i=this.kH.indexOf(t);i<0||(s&&this.pz()&&t.MO().Fz(),this.kH.splice(i,1),this.PO(t),this.Dz())}Oz(){this.Y7=!0}Dz(){0===this.kH.length&&(this.Y7=!1)}Lz(t){if(t){const s=new Set;for(const i of this.kH){const e=i.MO().DH();0<=e&&s.add(e)}let t=-1;for(const n of this.kH){const r=n.MO();if(!(0<=r.DH())){for(++t;s.has(t);)++t;r.kz(t)}}}this.kH.sort(h)}Bz(){}Nz(){for(const t of this.kH)t.E5().Cz()||this.lf.k5(t);this.lf.qk(),S.Bh(this.kH),this.Y7=!1,this.PO()}Wz(s,t,i,e,n,r){const h=this.lf.lD(),o=this.lf.jz(),a=s.Vz(),l=[];for(const u of this.H7){const c=u[0],f=c[0],d=c[1];if(t.Xl(f,d)){const p=o[u[1]];if(p!==s){if(!a)continue;if(!s.Uz(p))continue}let t=n;if(!t){const y=this.lf.bO();t=this.rO()===y?this:(t=y.zz(this.Kc()))||y.GO(this.RF())}const m=this.lf.Iz(u,t,!1,void 0,void 0,!1,r),g=(t.Vk(m),m.MO());g.XN(i,e),g.zN(),h.Uk(!0),m.Hk(),h.Uk(!1),l.push(m)}}return l}Nk(){return this.kH.length}rO(){return this.c7}Kc(){return this.pr}Jz(t){this.Xg=t}RF(){return this.Xg}qz(t){this.p7=t}Uj(){return this.p7}zB(){return this.d7}JB(t){this.d7!==(t=!!t)&&(this.d7=t,this.c7.$z(),this.lf.EO())}Xz(){let t=this.AB();return(t?t.OB():this.rO().Yz()).indexOf(this)}Zz(){return this.m7}HO(){return this.lf}Kz(){return this.g7}Qz(){for(const t of this.RB())if(t.Kz())return!0;return!1}HL(){return this.lf.HL()}Xk(){return this.Z7}AF(){return this.t9(),this.CF}t9(){const t=this.s9();if(this.nz||t!==this.rz||this.CF.yR()){const s=this.Xk().i9();this.CF.wR(s.map(t=>t.mT()),{w3:s.map(t=>t.RF()),S3:!t,T3:!0}),this.nz=!1,this.rz=t}}D6(){this.Xk().D6(),this.nz=!0}pz(){return this.I7&&!this.G7}e9(){return this.hz}n9(){this.az=!1}jB(){for(const t of this.r9())if(!t.BB())return!1;return!0}BB(){return this.y7}NB(t){this.y7!==(t=!!t)&&(this.y7=t,this.lf.EO())}UB(t){this.w7=!!t}VB(){return this.w7}$B(){for(const t of this.r9())if(!t.VB())return!1;return!0}d5(t){if(this.D7!==(t=!!t)){if(this.D7=t){const s=this.rO();this.R7=s.nB(),this.F7=s.hB()}this.h9(),this.lf.EO()}}o9(){return this.D7}eB(t){const s=this.rO(),i=s.a9(),e=s.l9();this.R7!==(t=(t=e<t?e:t)<i?i:t)&&(this.R7=t,this.o9())&&(this.h9(),this.lf.EO())}rB(t){const s=this.rO(),i=s.u9(),e=s.c9();this.F7!==(t=(t=e<t?e:t)<i?i:t)&&(this.F7=t,this.o9())&&(this.h9(),this.lf.EO())}nB(){return this.o9()?this.R7:this.rO().nB()}hB(){return this.o9()?this.F7:this.rO().hB()}m5(){return this.f9(),this.xP}d9(){return this.f9(),this.O7}p9(){return this.f9(),this.L7}GB(){const t=this.rO();return[t.m9(),t.g9()]}yw(t){return this.lf.yw(t)}y9(c,e){const n=this.d9();if(0===c)e.G(n);else{let o=n.Al(),a=n.Rl(),t=this.w9(c),s=n.width()/t,i=n.height()/t,[l,u]=this.GB();if(.5!==l||.5!==u){let t=this.S9(),s=this.lf,i=this.yw()/t,e=(l-.5)*s.v9()/i,n=(u-.5)*s.b9()/i,r=this.iB(),h=(0!==r&&(Mr.set(e,n),Mr.rotate(r),e=Mr.nl(),n=Mr.hl()),S.Rr(t,0,c));o+=S.Lt(e,0,h),a+=S.Lt(n,0,h)}e.set(o-s/2,a-i/2,o+s/2,a+i/2)}}OE(){return this.u2.aa()}kE(t){t=S.gr(t,0,1),this.u2.aa()!==t&&(this.u2.ia(t),this.fz(),this.lf.EO())}fz(){this.M7.G(this.u2),this.M7.ba()}sz(){return this.M7}s9(){return this.u2.ga(1,1,1,1)}KB(){return this.C7}ZB(t){this.C7!==t&&(this.C7=t,this.h9(),this.lf.EO())}s5(){return this.b7}e5(){return this.x7}x9(t,s){this.b7===t&&this.x7===s||(this.b7=t,this.x7=s,this.h9(),this.lf.EO())}t5(t){this.x9(t,this.e5())}i5(t){this.x9(this.s5(),t)}F2(t){this.c2!==t&&(this.c2=t,this.lf.EO())}R2(){return this.c2}sB(t){t=S.yr(t),this.A7!==t&&(this.A7=t,this.h9(),this.lf.EO())}iB(){return S.yr(this.c7.iB()+this.A7)}QB(){return this.A7}M9(){return 0<this.kH.length}IO(){return this.kH}T9(){return this._9()&&this.G7?(S.Vh(Gr,this.IO()),Gr.sort((t,s)=>this.G9(t,s)),Gr):this.IO()}I9(t){S.Xn(t,this.T9());for(const s of this.mz)s.jB()&&0<s.OE()&&s.I9(t)}G9(t,s){const i=this.rO().C9(),e=i[0],n=i[1],r=i[2],h=t.MO(),o=s.MO(),a=h.I2()-e,l=h.E2()-n,u=h.R2()-r,c=o.I2()-e,f=o.E2()-n,d=o.R2()-r;return c*c+f*f+d*d-(a*a+l*l+u*u)}f5(){return this.S7}o5(){return this.v7}h5(t){this.v7!==(t=!!t)&&(this.v7=t,this.lf.EO())}u5(){return this.T7}l5(t){this.T7!==(t=!!t)&&(this.T7=t,this.lf.EO())}P9(){return!this.HO().E9()||!this._7}_9(){return!this.P9()}A9(){return this._9()&&this.rO().R9()}F9(){if(!this.A9())return!1;for(const t of this.mz)if(!t.F9())return!1;return!0}d2(t){this.l2!==t&&(this.l2=t,this.lf.EO())}c5(){return this.l2}D9(){return!this.f7}AB(){return this.f7}O9(t){this.f7=t}OB(){return this.mz}L9(){return 0<this.mz.length}k9(t,s=!0){s?this.mz.push(t):this.mz.unshift(t)}B9(t,s,i){let e=this.mz.indexOf(s);if(-1===e)throw new Error("cannot find layer to insert by");i&&++e,this.mz.splice(e,0,t)}N9(t){const s=this.mz.indexOf(t);if(-1===s)throw new Error("cannot find layer to remove");this.mz.splice(s,1)}W9(){for(const t of this.mz)if(t.j9())return!0;return!1}*kB(){for(const t of this.mz)yield*t.kB();yield this}*RB(){let t=this.AB();for(;t;)yield t,t=t.AB()}*r9(){yield this,yield*this.RB()}V9(t){for(const s of this.RB())if(s===t)return!0;return!1}U9(t){return this===t||this.b7===t.b7&&this.x7===t.x7&&this.E7===t.E7&&this.C7===t.C7&&this.A7===t.A7&&this.nB()===t.nB()&&this.hB()===t.hB()}H9(){return{parallaxX:this.s5(),parallaxY:this.e5(),scale:this.YB(),scaleRate:this.KB(),angle:this.QB(),hasOwnScroll:this.o9(),scrollX:this.nB(),scrollY:this.hB()}}z9(t){this.x9(t.parallaxX,t.parallaxY),this.XB(t.scale),this.ZB(t.scaleRate),this.sB(t.angle),this.d5(t.hasOwnScroll),this.eB(t.scrollX),this.rB(t.scrollY),this.f9()}J9(t){if(0!==t.size){const s=S.qh(this.kH,t);0<s&&(this.Dz(),this.PO())}}PO(t){this.q7=!1,this.az=!1,t&&!t.E5()._k().ek()||(this.X7=!1)}q9(){if(!this.q7){if(this.kH.sort(t),this.pz())for(let t=0,s=this.kH.length;t<s;++t){const i=this.kH[t].MO();i.kz(t),this.hz.s7(i.X9())}else for(let t=0,s=this.kH.length;t<s;++t)this.kH[t].MO().kz(t);this.q7=!0}}Y9(){if(!this.X7){let t=this.c7.Z9(this.Uj()),s=t.map(t=>[...t.kB()]).flat(),i=0;for(const e of s){for(const n of e.IO())n.E5()._k().ek()&&n.MO().K9(i++);e.Q9()}}}Q9(){this.X7=!0}tJ(){return{isVisible:this.jB(),opacity:this.OE(),isInteractive:this.VB()}}sJ(t,s,i){const e=t.MO(),n=s.MO();if(e.TO()!==this||n.TO()!==this)throw new Error("can't arrange Z order unless both objects on this layer");let r=e._O(),h=n._O();return r!==h+(i?1:-1)&&(S.Uh(this.kH,r),r<h&&h--,i&&h++,h===this.kH.length?this.kH.push(t):this.kH.splice(h,0,t),this.PO(t),!0)}iJ(t,s){let i=[],e=0,n=0,r=t.length,h=s.length;for(;e<r&&n<h;){const o=t[e],a=s[n];o.MO().DH()<a.MO().DH()?(i.push(o),++e):(i.push(a),++n)}for(;e<r;++e)i.push(t[e]);for(;n<h;++n)i.push(s[n]);return i}eJ(s){const i=[],e=s.length;for(let t=0;t<e-1;t+=2){const n=s[t],r=s[t+1];i.push(this.iJ(n,r))}return e%2==1&&i.push(s[e-1]),i}nJ(t){for(;1<t.length;)t=this.eJ(t);return t[0]}rJ(){return this.q9(),S.Bh(mr),this.hz.t7(this.m5(),mr),mr.length?1===mr.length?mr[0]:this.nJ(mr):[]}j9(){return this.jB()&&0<this.OE()&&this.hJ()}hJ(){if(this.M9()||!this.o5())return!0;for(const t of this.mz)if(t.hJ())return!0;return!1}oJ(){return this.u5()||!this.s9()||0!==this.c5()||this.Z7.aJ()}lJ(){if(this.oJ())return!0;for(const t of this.mz)if(t.lJ())return!0;return!1}SA(){return this.P7}w9(t){if(this.c7.PB())return 1;{const s=this.uJ();return s/(s-t)}}cJ(t){const s=this.lf.I5();if(this.c7.PB())return s;{const i=this.uJ(),e=this.yw();return e/Math.abs(i-t)*s}}h9(){this.N7=!0,this.j7=!0,this.k7=!0}fJ(t){return this.N7&&(this.dJ(t,this.gR,0,0,null),this.N7=!1),this.gR}S9(t){return this.yw(t)/this.pJ()}uJ(){return this.A9()?this.rO().C9()[2]:this.S9()}mJ(){if(this.A9()){const t=this.rO().C9();return[t[0],t[1],t[2]]}return this.gJ()}gJ(t=0,s=0,n=0){let r=this.lf,i=this.rO(),e=r.yJ(),h=r.wJ(),o=(this.nB()-e)*this.b7+e,a=(this.hB()-h)*this.x7+h,l=(r.tD()&&(o=Math.round(o),a=Math.round(a)),o+t),u=a+s,c=i.PB()?this.yw(n):this.S9(n),[f,d]=this.GB();if(.5!==f||.5!==d){let t=this.yw(n)/c,s=(f-.5)*r.v9()/t,i=(d-.5)*r.b9()/t,e=this.iB();0!==e&&(Mr.set(s,i),Mr.rotate(e),s=Mr.nl(),i=Mr.hl()),l+=s,u+=i}return[l,u,c]}dJ(t,s,i,e,n){const r=this.lf,h=this.rO();if(this.A9()){_n.G(vr,h.C9()),_n.G(br,h.SJ()),_n.G(xr,h.vJ());const o=r.yJ(),a=r.wJ(),l=br[0]-vr[0],u=br[1]-vr[1],c=br[2]-vr[2];vr[0]=(vr[0]-o)*this.b7+o,vr[1]=(vr[1]-a)*this.x7+a,vr[2]*=Math.max(this.b7,this.x7),br[0]=vr[0]+l,br[1]=vr[1]+u,br[2]=vr[2]+c}else{const[f,d,p]=this.gJ(i,e,n),m=(_n.set(vr,f,d,p),_n.set(br,f,d,p-100),this.iB());0===m?_n.set(xr,0,1,0):_n.set(xr,Math.sin(m),Math.cos(m),0)}t.Dw(s,vr,br,xr,n||r.b9())}bJ(){this.B7=!0,this.j7=!0,this.k7=!0}xJ(t){return this.B7&&(this.MJ(t),this.B7=!1),this.Dx}MJ(t){const s=this.lf.FL(),[i,e]=this.GB();if(this.c7.PB())t.Fw(this.Dx,s.TJ(),s._J());else if(.5===i&&.5===e)Tn.G(this.Dx,s.GJ());else{const n=s.TJ(),r=s._J();t.Aw(this.Dx,n/r,i,e)}}N8(t,s=!0,i=0,e=0,n=0){s&&t.TE(this.xJ(t));let r;r=0===i&&0===e&&0===n?this.fJ(t):(this.dJ(t,yr,i,e,n),yr),t.EE(r)}IJ(t){this.N8(t),t.wS(this.R2())}CJ(t){let s=null;if(t.yv()&&this.lf.PJ()){const i=this.lf.FL().EJ(this);i&&(s=i.lP(),t.DA(s))}return s}AJ(t){if(t.Rw()&&this.lf.PJ()){const s=2*(this.RF()+1);t.StartMeasuringRenderPassTime(s,1+s)}}wb(t,s,i){let e=this.lf.FL(),n=this.oJ(),r=null,h=this.CJ(t);if(this.AJ(t),n){const o={Pb:this.lf.KF(),xx:!0,RJ:!!t.Rw()&&this.lf.FJ()};"low"===e.DJ()&&(o.width=e.TJ(),o.height=e._J()),r=this.lf.OJ(o),this.P7=r,t._A(r),this.o5()&&t.fA(0,0,0,0)}else this.P7=s,t._A(s);if(this.o5()||t.tc(this.S7),this.c7.LJ(t,this.P7,this.mz,n&&this.o5()),this.AJ(t),this.N8(t),t.wS(this.R2()),t.mA(this._9()),this.pJ()>Number.EPSILON){this.q9();const a=this.pz()&&0===this.R2()&&!this.Y7;this.A9()?this.kJ(t):a?this.BJ(t):this.NJ(t,this.T9())}t.wS(0),t.vS(0),n&&(t.mA(!1),this.WJ(t,r,s,i)),h&&t.LA(h),this.P7=null}NJ(i,e){let n=this.m5(),r=this.P7,h=this.rO().PB(),o=this.rO().jJ(),a=null;for(let t=0,s=e.length;t<s;++t){const l=e[t];if(l!==a){const u=(a=l).MO();u.jB()&&u.VJ(n,o,h)&&this.UJ(l,u,i,r)}}}kJ(e){const n=this.P7,r=this.HJ(),h=Tr,o=_r,a=this.T9();for(let s=0,i=a.length;s<i;){const l=a[s],u=l.MO();if(u.jB()&&u.zJ(r)){(!l.JJ()||0<u.qJ())&&o.push(l);const c=l.MO().ZN();h.push(l);let t=s+1;for(;t<i;++t){const f=a[t],d=f.MO();if(d.jB()&&d.zJ(r)){if(d.ZN()!==c)break;(f.JJ()?(0<d.qJ()&&o.push(f),h):o).push(f)}}if(1!==h.length||h[0].$J()){this.XJ(e,h);for(let t=0,s=o.length;t<s;++t){const p=o[t],m=p.MO();m.YJ(!0),this.UJ(p,m,e,n),m.YJ(!1)}}else{this.UJ(l,u,e,n);for(let t=0,s=o.length;t<s;++t){const g=o[t];if(g!==l){const y=g.MO(),w=y.TO();w.UJ(g,y,e,n)}}}s=t,S.Bh(h),S.Bh(o)}else++s}}XJ(i,e){const n=this.P7;i.EA();for(let t=0,s=e.length;t<s;++t){const r=e[t],h=r.MO();h.ZJ(!0),this.KJ(r,h,i)}i.AA();for(let t=0,s=e.length;t<s;++t){const o=e[t],a=o.MO();this.UJ(o,a,i,n),a.ZJ(!1)}i.FA()}BJ(t){let s=this.hz,i=this.uz,e=this.lz,n=this.m5(),r;i.set(s.ZH(n.Ml()),s.KH(n.Tl()),s.ZH(n._l()),s.KH(n.Gl())),this.az&&i.equals(e)?r=this.oz:(r=this.rJ(),this.az=!0,e.G(i)),this.NJ(t,r),r!==this.oz&&S.Vh(this.oz,r)}UJ(t,s,i,e){s.aJ()?this.QJ(t,s,i,e):this.KJ(t,s,i)}KJ(t,s,i){const e=s.tq();i.sS()!==e&&e.f2(),t.wb(i)}QJ(t,s,i,e){this.sq(t,s,i,e,null)&&this.N8(i)}sq(t,s,i,e,n){const r=s.UN().AF();return r.CR(i,e,{PR:t,ER:s.c5(),devicePixelRatio:this.lf.iq(),time:t.eq(),AR:this.lf.nq()*this.pJ(),RR:this.iB(),tF:s.QN(),sF:r.wF()?null:this.rq(s),kR:n&&n.kR,BR:n&&n.BR,NR:n&&n.NR,WR:n&&n.WR}),i.wS(this.R2()),r.RE()}WJ(t,s,i,e){const n=this.Z7.i9(),r=this.lf;0===n.length?(t._A(i),t.Ww(),e&&0===this.l2&&this.s9()?t.GA(s):(t.d2(this.l2),t.m2(this.M7),t.IA(s)),t.CA(s),r.iz(s)):this.AF().CR(t,i,{PR:this,ER:this.c5(),devicePixelRatio:r.iq(),AR:r.nq()*this.pJ(),RR:this.iB(),tF:this.m5(),sF:null,y3:!0})}YB(){return this.E7}XB(t){this.E7!==t&&(this.E7=t,this.c7.hq(),this.h9(),this.lf.EO())}I5(){return this.pJ()*this.lf.I5()}Zj(){return this.pJ()*this.lf.Zj()}pJ(){return(this.E7*this.c7.tB()-1)*this.C7+1}f9(){if(this.k7){this.k7=!1;let t=this.lf.yJ(),s=this.lf.wJ(),i=(this.nB()-t)*this.b7+t,e=(this.hB()-s)*this.x7+s,n=this.pJ(),r=this.lf.v9()/n,h=this.lf.b9()/n,o=i-r/2,a=e-h/2;this.lf.tD()&&(o=Math.round(o),a=Math.round(a));const l=this.O7,u=(l.set(o,a,o+r,a+h),this.iB()),c=(0!==u&&(dr.G(l),dr.offset(-l.Al(),-l.Rl()),pr.bu(dr,u),pr.Mu(dr),dr.offset(l.Al(),l.Rl()),l.G(dr)),this.c2);this.y9(c,this.xP),this.A9()?this.oq(c,this.L7):this.L7.G(this.xP)}}oq(t,s){let i=this.lf.FL(),e=i.kL(),n=i.NL(),[r,h]=this.y5(0,0,t),[o,a]=this.y5(e,0,t),[l,u]=this.y5(e,n,t),[c,f]=this.y5(0,n,t),d=Math.min(r,o,l,c),p=Math.min(h,a,u,f),m=Math.max(r,o,l,c),g=Math.max(h,a,u,f);isFinite(d)||(d=-1/0),isFinite(p)||(p=-1/0),isFinite(m)||(m=1/0),isFinite(g)||(g=1/0),s.set(d,p,m,g)}y5(t,s,i=0){return this.aq(t,s,i,this.Zj())}M5(t,s,i=0){return this.aq(t,s,i,this.I5()*this.HL())}aq(t,s,i,e){const n=this.lf,r=n.Jv(),h=this.pJ(),o=n.v9()/h,a=n.b9()/h,l=Sr,u=(Un.set(l,0,0,o,a),t/=e,s=l[3]-s/e,this.xJ(r)),c=this.fJ(r),f=wr,d=S.ey.oy(t,s,i,c,u,l,f);return d?[f[0],f[1]]:[NaN,NaN]}lq(t,s){const i=this.E7,e=this.C7,n=this.b7,r=this.x7,h=this.A7,o=(this.E7=1,this.C7=1,this.b7=1,this.x7=1,this.A7=0,this.h9(),this.y5(t,s));return this.E7=i,this.C7=e,this.b7=n,this.x7=r,this.A7=h,this.h9(),o}b5(t,s,i=0){return this.uq(t,s,i,this.Zj())}_5(t,s,i=0){return this.uq(t,s,i,this.I5()*this.HL())}uq(t,s,i,e){const n=this.lf,r=n.Jv(),h=this.pJ(),o=n.v9()/h,a=n.b9()/h,l=Sr,u=(Un.set(l,0,0,o,a),this.xJ(r)),c=this.fJ(r),f=wr,d=S.ey.ny(t,s,i,c,u,l,f);return d?[f[0]*e,(l[3]-f[1])*e]:[NaN,NaN]}cq(t,s){return t*=this.I5()*this.HL(),0!==s&&(t*=this.w9(s)),t}rq(t){const s=t.QN(),i=t.ZN(),e=t.qJ(),l=i+e,u=s.Ml(),c=s.Tl(),f=s._l(),d=s.Gl();if(this.A9()){if(this.fq(u,c,i)||this.fq(f,c,i)||this.fq(f,d,i)||this.fq(u,d,i))return null;if(0<e&&(this.fq(u,c,l)||this.fq(f,c,l)||this.fq(f,d,l)||this.fq(u,d,l)))return null}else if(l>=this.S9())return null;let[p,m]=this._5(u,c,i),[g,y]=this._5(f,d,i);if(0!==this.iB()||0<e||this.A9()){const[w,S]=this._5(f,c,i),[v,b]=this._5(u,d,i);if(0<e){let[t,s]=this._5(u,c,l),[i,e]=this._5(f,c,l),[n,r]=this._5(f,d,l),[h,o]=this._5(u,d,l),a=Math.min(p,g,w,v,t,i,n,h);g=Math.max(p,g,w,v,t,i,n,h),p=a,a=Math.min(m,y,S,b,s,e,r,o),y=Math.max(m,y,S,b,s,e,r,o),m=a}else{let t=Math.min(p,g,w,v);g=Math.max(p,g,w,v),p=t,t=Math.min(m,y,S,b),y=Math.max(m,y,S,b),m=t}}return dr.set(p,m,g,y),dr}HJ(){return this.j7&&(this.pq(),this.j7=!1),this.W7}pq(){const t=this.lf.Jv(),s=this.xJ(t),i=this.fJ(t);this.W7.vy(i,s)}fq(t,s,i){return this.HJ().xy(t,s,i)}mq(){const t={d:this.Kz(),s:this.YB(),a:this.QB(),v:this.BB(),i:this.VB(),html:this.zB(),bc:this.S7.toJSON(),t:this.o5(),sx:this.R7,sy:this.F7,hosp:this.D7,px:this.s5(),py:this.e5(),c:this.u2.toJSON(),sr:this.KB(),fx:this.Z7.j2(),cg:this.z7};return t}gq(t){this.g7=!!t.d,this.E7=t.s,this.A7=t.a,this.y7=!!t.v,this.w7=!t.hasOwnProperty("i")||t.i,this.d7=!!t.html,this.S7.Va(t.bc),this.v7=!!t.t,t.hasOwnProperty("sx")&&(this.R7=t.sx),t.hasOwnProperty("sy")&&(this.F7=t.sy),t.hasOwnProperty("hosp")&&(this.D7=!!t.hosp),this.b7=t.px,this.x7=t.py,this.u2.Va(t.c),this.fz(),this.C7=t.sr,S.Vh(this.z7,t.cg),S.Vh(this.H7,this.V7);let i=new Set(this.z7),e=0;for(let t=0,s=this.H7.length;t<s;++t)i.has(this.H7[t][2])||(this.H7[e]=this.H7[t],++e);S.kh(this.H7,e),this.Z7.V2(t.fx),this.nz=!0}yq(){this.Lz(!1),this.PO(),this.h9(),this.bJ()}lB(){return this.cz}Vk(t,s=!1){if(this.kH.includes(t))s&&this.kH.sort((t,s)=>{const i=t.MO().wq(),e=s.MO().wq();return i-e});else if(t.Sq()){const i=[...t.C4()];i.push(t),i.sort((t,s)=>{const i=t.MO().wq(),e=s.MO().wq();return i-e});for(const e of i)if(e.V5())for(const n of e.U5())if(!i.includes(n)){const r=[...n.C4()];r.push(n),r.sort((t,s)=>{const i=t.MO().wq(),e=s.MO().wq();return i-e}),r&&r.length&&i.splice(i.length,0,...r)}for(const h of i)h._k().sk()&&this.Pz(h,!0)}else if(t._k().sk()&&this.Pz(t,!0),t.V5())for(const o of t.U5()){const a=[...o.C4()];if(a.push(o),a.sort((t,s)=>{const i=t.MO().wq(),e=s.MO().wq();return i-e}),a&&a.length)for(const l of a)l._k().sk()&&this.Pz(l,!0)}}}}{let l=function(t,s,i,e){return t[0]===Math.fround(s)&&t[1]===Math.fround(i)&&t[2]===Math.fround(e)},b=function(t,s){I!==t&&(t.IJ(s),I=t)},x=(l,b,self.Bs),e=self.C3Debugger,n=(x.lr(x.Rect),x.lr(x.Rect),x.lr(x.Rect)),M=x.lr(x.Uo),t=self.bs,u=t.Ps,a=[],T=[],_=[],G=[],I=null;x.vq=class extends x.rr{constructor(t,s,i){super(),this.bq=t,this.lf=t.HO(),this.pr=i[0],this.xq=i[1],this.Mq=i[2],this.Xm=i[1],this.Ym=i[2],this.Tq=!!i[3],this._q=!!i[4],this.Gq=i[5],this.Iq=i[6],this.Cq=i[7],this.Pq=null,this.m7=i[8],this.Xg=s,this.R7=0,this.F7=0,this.E7=1,this.A7=0,this.Eq=new Set,this.Aq=new Set,this.Rq=new Set,this.Fq=[],this.Dq=[],this.Oq=new Map,this.Lq=new Map,this.kq=[],this.Bq=!1,this.Nq=u.create(),this.Wq=u.create(),this.jq=u.create(),this.Vq=[],this.Uq=[],this.Hq=new Map,this.zq=new Map,this.Jq=-1;const n=this.lf.FL();this.Z7=x.lr(x.K7,this,i[11]),this.CF=x.lr(x.ey._3,n.Q7(),{d3:(t,s)=>{const i=s.vF(),e=i.SA();t.BE(),t.IA(e),t.CA(e),n.iz(e)},g3:t=>this.Xk().ez(t)}),this.nz=!0,this.qq=!1,this.P7=null,this.$q={},this.Xq=new Map,this.Yq=!0,this.Zq=new self.$k(this),this.Kq=x.lr(x.Event.Vf);for(const e of i[9])this.Vq.push(x.u7.gz(this,null,e));this.Qq();for(const r of this.fB())r.yz();for(const h of i[10]){const o=this.lf.wz(h[1]);if(!o)throw new Error("missing nonworld object class");o.vz()||o.bz(h),this.kq.push(h),this.Sz(o)}}ur(){for(const t of this.Uq)t.ur();x.Bh(this.Uq),this.Rq.clear(),this.Pq=null,this.bq=null,this.lf=null}HO(){return this.lf}Kc(){return this.pr}Zz(){return this.m7}RF(){return this.Xg}Xk(){return this.Z7}AF(){return this.t9(),this.CF}t9(){const t="low"===this.lf.FL().DJ();if(this.nz||this.qq!==t||this.CF.yR()){const s=this.Xk().i9();this.CF.wR(s.map(t=>t.mT()),{w3:s.map(t=>t.RF()),v3:t,T3:!0}),this.nz=!1,this.qq=t}}D6(){this.Xk().D6(),this.nz=!0}t$(){let i=this.Uq[0].pJ();for(let t=1,s=this.Uq.length;t<s;++t){const e=this.Uq[t];0===e.s5()&&0===e.e5()||(i=Math.min(i,e.pJ()))}return i}s$(){return.5*this.lf.v9()/this.t$()}i$(){return.5*this.lf.b9()/this.t$()}a9(){return this.e$()?-1/0:this.s$()}l9(){return this.e$()?1/0:this.um()-this.s$()}u9(){return this.e$()?-1/0:this.i$()}c9(){return this.e$()?1/0:this.Mm()-this.i$()}eB(t){const s=this.a9(),i=this.l9();this.R7!==(t=(t=i<t?i:t)<s?s:t)&&(this.R7=t,this.n$(),this.lf.EO())}nB(){return this.R7}rB(t){const s=this.u9(),i=this.c9();this.F7!==(t=(t=i<t?i:t)<s?s:t)&&(this.F7=t,this.n$(),this.lf.EO())}hB(){return this.F7}e$(){return this.Tq}hq(){this.eB(this.nB()),this.rB(this.hB());for(const t of this.Uq)t.o9()&&(t.eB(t.nB()),t.rB(t.hB()))}TB(t,s){this.Gq===t&&this.Iq===s||(this.Gq=t,this.Iq=s,this.r$()&&(this.h$(),this.n$(),this.lf.EO()))}m9(){return this.PB()?.5:this.Gq}g9(){return this.PB()?.5:this.Iq}jJ(){const t=this.m9(),s=this.g9();return t<0||1<t||s<0||1<s}IB(){this._q&&(this._q=!1,this.h$(),this.n$(),this.lf.EO())}CB(){this._q||(this._q=!0,this.h$(),this.n$(),this.lf.EO())}PB(){return this._q}r$(){return!this.PB()}o$(t){this.Bq!==(t=!!t)&&(this.Bq=t,this.n$(),this.lf.EO())}R9(){return this.Bq}a$(t,s,i,e,n,r,h,o,a){l(this.Nq,t,s,i)&&l(this.Wq,e,n,r)&&l(this.jq,h,o,a)||(u.set(this.Nq,t,s,i),u.set(this.Wq,e,n,r),u.set(this.jq,h,o,a),this.l$())}l$(){this.n$(),this.lf.EO()}C9(){return this.Nq}SJ(){return this.Wq}vJ(){return this.jq}tB(){return this.E7}Qk(t){this.E7!==t&&(this.E7=t,this.n$(),this.hq(),this.lf.EO())}sB(t){t=x.yr(t),this.A7!==t&&(this.A7=t,this.n$(),this.lf.EO())}iB(){return this.A7}um(){return this.Xm}Sm(t){!isFinite(t)||t<1||(this.Xm=t)}Mm(){return this.Ym}fm(t){!isFinite(t)||t<1||(this.Ym=t)}u$(){return this.Pq}Yz(){return this.Vq}*fB(){for(const t of this.Vq)yield*t.kB()}cB(){return this.Uq}c$(){return this.Uq.length}TO(t){return"number"==typeof t?this.GO(t):this.zz(t.toString())}GO(t){return t=x.gr(Math.floor(t),0,this.Uq.length-1),this.Uq[t]}zz(t){return this.Hq.get(t.toLowerCase())||null}f$(t){return!!this.zz(t)}d$(t){return this.zq.get(t)||null}h$(){for(const t of this.Uq)t.bJ()}n$(){for(const t of this.Uq)t.h9()}gB(t,s,i){if(this.f$(t))throw new Error(`layer name '${t}' already in use`);if(!s&&i<2)throw new Error("invalid insert position");const e=2<=i?s:s.AB(),n=x.lr(x.u7,this,e,{name:t,sid:Math.floor(1e15*Math.random()),i7:!0});this.p$(n,s,i),this.HO().EO(),this.$z()}wB(t,s,i){if(!s&&i<2)throw new Error("invalid insert position");t===s&&i<2||(this.m$(t),this.p$(t,s,i),this.HO().EO(),this.$z())}vB(t){if(this.m$(t)){const s=this.lf.lD();s.Uk(!0),t.ur(),s.Uk(!1),this.HO().EO(),this.$z()}}xB(){const t=new Set;for(const s of this.fB())s.Kz()&&!s.Qz()&&t.add(s);if(0!==t.size){const i=this.lf.lD();i.Uk(!0);for(const e of t)this.m$(e),e.ur();i.Uk(!1),this.HO().EO(),this.$z()}}p$(s,i,e){if(2<=e)if(i){if(i===s||i.V9(s))throw new Error(`cannot move layer '${s.Kc()}' to sub-layer of itself`);i.k9(s,2===e),s.O9(i)}else 2===e?this.Vq.push(s):this.Vq.unshift(s),s.O9(null);else{const t=i.AB();if(t){if(i.V9(s))throw new Error(`cannot move layer '${s.Kc()}' to sub-layer of itself`);t.B9(s,i,0===e),s.O9(t)}else{let t=this.Vq.indexOf(i);if(-1===t)throw new Error("cannot find layer to insert by");0===e&&++t,this.Vq.splice(t,0,s),s.O9(null)}}}m$(t){const s=t.AB();if(s)return s.N9(t),!0;if(1<this.Vq.length){const i=this.Vq.indexOf(t);if(-1===i)throw new Error("cannot find layer to remove");return this.Vq.splice(i,1),!0}return!1}Qq(){this.Uq=[...this.fB()],this.Hq.clear(),this.zq.clear();for(let t=0,s=this.Uq.length;t<s;++t){const i=this.Uq[t];i.Jz(t),this.Hq.set(i.Kc().toLowerCase(),i),this.zq.set(i.Zz(),i)}}g$(){let t=0;for(const s of this.Vq){for(const i of s.kB())i.qz(t);s.zB()&&t++}}y$(){return this.Vq.at(-1).Uj()+1}async $z(){this.Qq(),this.g$(),this.Jq=this.y$()}w$(){return this.Jq}S$(){this.Jq=-1}Z9(t){const s=[];for(const i of this.Vq){const e=i.Uj();if(e===t)s.push(i);else if(t<e)break}return s}H9(){return{scrollX:this.nB(),scrollY:this.hB(),scale:this.tB(),angle:this.iB(),vpX:this.m9(),vpY:this.g9()}}z9(t){this.eB(t.scrollX),this.rB(t.scrollY),this.Qk(t.scale),this.sB(t.angle),this.TB(t.vpX,t.vpY)}v$(){let t=this.Vq.filter(t=>t.j9())[0];for(;t;){if(!t.o5())return M.ea(t.f5()),M.ia(1),M;if(t.oJ())return M.$o(0,0,0,0),M;t=t.OB().filter(t=>t.j9())[0]}return M.$o(0,0,0,0),M}_z(){return this.Yq}b$(){return[...this.Eq]}Sz(t){if(t.V5())for(const s of t.M$().x$())this.Eq.add(s);else this.Eq.add(t)}T$(){return[...this.Aq]}_$(t,s){if(t===this||!s)return Promise.resolve();t&&(x.Oo(this.Aq,t.Aq),t.Aq.clear());const i=[];for(const e of this.Eq)this.Aq.has(e)||(i.push(e.G$(s)),this.Aq.add(e));return Promise.all(i)}async I$(t){if(t.Vz())throw new Error("cannot load textures for family");const s=this.lf.Jv();if(s&&!s.OC()&&!this.Aq.has(t)){this.Aq.add(t);const i=t.G$(s);this.C$(i),await i,t.P$(),this.lf.EO()}}C$(t){this.Rq.add(t),t.then(()=>this.Rq.delete(t)).catch(()=>this.Rq.delete(t))}E$(){return Promise.all([...this.Rq])}A$(t){if(t.Vz()||0<t.Nk())throw new Error("cannot unload textures");const s=this.lf.Jv();s&&this.Aq.has(t)&&(this.Aq.delete(t),t.R$(s))}F$(t,s){if(t!==this&&s)for(const i of this.Aq)i.Cz()||t.Eq.has(i)||(i.R$(),this.Aq.delete(i))}D$(){this.Aq.clear()}async O$(t){const s=this.lf,i=this.bq,e=s.lD(),n=(this.Cq&&(this.Pq=e.L$(this.Cq),this.Pq.k$()),i.B$(this),this.Xm=this.xq,this.Ym=this.Mq,this.R7=s.XF()/2,this.F7=s.ZF()/2,this.hq(),this.h$(),this.n$(),this.g$(),await this.lf.FL().N$(this.y$(),!0),this.W$(t),this.lf.j$(!0),this.V$(),this.Yq||this.U$(),this.H$(this.Fq),this.H$(this.Dq),this.z$(),i.J$(),s.qk(),this.lf.j$(!1),this.lf.q$());if(await Promise.all(n),x.Bh(n),!s.$$()){for(const r of this.Fq)r.X$();for(const h of this.Dq)h.Y$(this.Oq,this.Lq);for(const[o,a]of Object.entries(this.$q)){const l=this.lf.EV(parseInt(o,10));l&&!l.Vz()&&l.Gz()&&x.Bh(a)}for(const u of this.Fq)u.Z$();for(const c of this.Dq)c.Z$()}x.Bh(this.Fq),x.Bh(this.Dq),this.Oq.clear(),this.Lq.clear(),await Promise.all([...this.Eq].map(t=>t.K$(this.lf.Jv()))),t&&(s.Vf().dispatchEvent(new x.Event("beforefirstlayoutstart")),await s.Q$(new x.Event("beforeprojectstart"))),await this.tX(new x.Event("beforeanylayoutstart")),s.Vf().dispatchEvent(new x.Event("beforelayoutstart")),await this.Q$(new x.Event("beforelayoutstart")),s.$$()||await s.wN(x.nX.eX.iX.sX,null,null),s.Vf().dispatchEvent(new x.Event("afterlayoutstart")),await this.Q$(new x.Event("afterlayoutstart")),await this.tX(new x.Event("afteranylayoutstart")),t&&(s.Vf().dispatchEvent(new x.Event("afterfirstlayoutstart")),await s.Q$(new x.Event("afterprojectstart"))),e.rX(i),await this.E$(),this.Yq=!1}W$(t){for(const s of this.lf.jz())if(!s.Vz()&&s.sk())for(const i of s.Lk()){const e=i.MO(),n=e.TO(),r=x.gr(n.RF(),0,this.Uq.length-1),h=this.Uq[r];e.CO(h,!0),h.Ez(i)}if(!t)for(const o of this.Uq)o.Lz(!1)}V$(){for(const t of this.Uq)t.Tz(this.Fq),t.Bz()}U$(){let s=!1;for(const[t,i]of Object.entries(this.$q)){const e=this.lf.EV(parseInt(t,10));if(e&&!e.Vz()&&e.Gz())for(const n of i){let t=null;if(!e.sk()||(t=n.hasOwnProperty("instJson")?this.d$(n.instJson.w.l):this.d$(n.w.l))){const r=this.lf.Iz(e,t,!1,0,0,!0);n.hasOwnProperty("instJson")?r.V2(n.instJson):r.V2(n),s=!0,this.Dq.push(r),n.hasOwnProperty("instJson")&&(this.Oq.set(r,n),this.Lq.set(n.index,r))}}}for(const h of this.Uq)h.Lz(!0),h.PO();s&&(this.lf.qk(),this.lf.hX())}H$(s){for(const i of s)if(i.V5()){const e=i.MO(),t=i.aX();for(const n of i.E5().M$().lX())if(n!==i.E5()){const r=n.Lk();if(r.length>t)i.uX(r[t]);else{let t;t=e?this.lf.Iz(n,e.TO(),!0,e.I2(),e.E2(),!0):this.lf.Iz(n,null,!0,0,0,!0),this.lf.qk(),n.cX(),i.uX(t),s.push(t)}}}}z$(){for(const t of this.kq){const s=this.lf.wz(t[1]);s.V5()||this.lf.Iz(t,null,!0)}}fX(){let i=[],e=this.kq,n=0;for(let t=0,s=e.length;t<s;++t){const r=e[t],h=this.lf.wz(r[1]);h.Cz()?h.V5()&&h.M$().dX()||i.push(this.lf.Iz(r,null,!0)):(e[n]=r,++n)}x.kh(e,n),this.lf.qk(),this.H$(i)}Wz(t,s,i,e,n,r,h){if(i)return i.Wz(t,s,n,r,e,h);{const o=[];for(const a of this.Uq)o.push(a.Wz(t,s,n,r,e,h));return o.flat()}}async pX(){const t=this.bq;this.lf.$$()||(await this.tX(new x.Event("beforeanylayoutend")),await this.Q$(new x.Event("beforelayoutend")),await this.lf.wN(x.nX.eX.iX.mX,null,null),await this.Q$(new x.Event("afterlayoutend")),await this.tX(new x.Event("afteranylayoutend"))),t.gX(!0),this.lf.lD().yX(),this.Yq||this.wX();for(const s of this.Uq)s.Nz();for(const i of this.lf.jz())if(!(i.Cz()||i.sk()||i._k().QL()||i.Vz())){for(const e of i.Lk())this.lf.k5(e);this.lf.qk()}t.gX(!1),t.sO()===this&&t.B$(null)}SX(t,s){const i=t.E5().Zz().toString(),e=(this.$q.hasOwnProperty(i)||(this.$q[i]=[]),this.$q[i]),n={index:s,instJson:t.j2(),sceneGraphJson:{children:[]}};e.push(n),this.Xq.set(t,n)}vX(t){const s=this.Xq.get(t);for(const i of t.bX()){const e=this.Xq.get(i);e&&s.sceneGraphJson.children.push({index:e.index,flags:x.MX.xX(i.MO())})}}wX(){this.Xq.clear();let t=0;for(const s of this.Uq){s.q9();for(const i of s.IO()){const e=i.E5();!e.Cz()&&e.Gz()&&(this.SX(i,t),t++)}}for(const n of this.Uq)for(const r of n.IO()){const h=r.E5();!h.Cz()&&h.Gz()&&this.vX(r)}this.Xq.clear()}TX(){this.$q={},this.Yq=!0}SA(){return this.P7}oJ(){const t=this.lf,s=t.Jv().yv();return"low"===t.FL().DJ()||s&&t.FJ()||this.Z7.aJ()||s&&t.E9()}_X(t){const s=this.lf.FL();if(this.oJ()){t._A(null),t.fA(0,0,0,0);const i={Pb:this.lf.KF(),xx:t.Rw()||this.lf.FJ()||this.Z7.aJ(),RJ:!!t.Rw()&&this.lf.FJ()};"low"===s.DJ()&&(i.width=s.TJ(),i.height=s._J()),this.P7=this.lf.OJ(i)}else this.P7=null}GX(t){this.lf.IX(t)&&(t.mA(!1),t._A(null),t.Ww(),t.GA(this.P7))}CX(t){this.oJ()&&(t.mA(!1),this.PX(t,this.P7))}EX(t){t._A(this.P7),t.tc(this.v$()),this.lf.E9()&&t.pA();const s=this.Z9(0);this.LJ(t,this.P7,s,!0),t.Rw()&&t.StartMeasuringRenderPassTime(0,1),this.CX(t),this.P7=null}AX(t,s){let i=null;this.lf.IX(t)&&(i=this.P7),t._A(i),t.fA(0,0,0,0),this.lf.E9()&&t.pA();const e=this.Z9(s);this.LJ(t,i,e,!0),this.GX(t),t.lv(),this.lf.FL().RX(s)}LJ(t,e,s,n){const r=s.filter(t=>t.j9());for(let s=0,i=r.length;s<i;){const h=r[s];if(h.F9()&&!h.lJ()){a.push(h);for(let t=s+1;t<i;++t){const o=r[t];if(!o.F9()||o.lJ())break;a.push(r[t])}if(2<=a.length||1===a.length&&a[0].W9()){this.FX(t,e,a),s+=a.length,x.Bh(a);continue}x.Bh(a)}h.wb(t,e,n&&0===s),++s}}PX(t,s){const i=this.Z7.i9(),e=this.lf;0===i.length?(t._A(null),t.Ww(),t.GA(s),t.CA(s),e.iz(s)):(n.set(0,0,e.v9(),e.b9()),this.AF().CR(t,null,{PR:this,ER:3,devicePixelRatio:this.lf.iq(),AR:this.lf.nq()*this.tB(),RR:this.iB(),tF:n,sF:null,y3:!0}))}FX(e,n,t){t[0].o5()||(M.ea(t[0].f5()),M.ia(1),e.tc(M)),this.lf.FL(),e.mA(!0);const r=T,h=_,o=G;for(const a of t)a.q9(),a.I9(r);const s=t[0],i=s.CJ(e);s.AJ(e);for(let s=0,i=r.length;s<i;){const l=r[s],u=l.MO(),c=u.TO();if(u.jB()&&u.zJ(c.HJ())){(!l.JJ()||0<u.qJ())&&o.push(l);const f=l.MO().ZN();h.push(l);let t=s+1;for(;t<i;++t){const d=r[t],p=d.MO();if(p.jB()&&p.zJ(p.TO().HJ())){if(p.ZN()!==f)break;(d.JJ()?(0<p.qJ()&&o.push(d),h):o).push(d)}}if(1!==h.length||h[0].$J()){this.DX(e,n,h);for(let t=0,s=o.length;t<s;++t){const m=o[t],g=m.MO(),y=g.TO();g.YJ(!0),b(y,e),y.UJ(m,g,e,n),g.YJ(!1)}}else{b(c,e),c.UJ(l,u,e,n);for(let t=0,s=o.length;t<s;++t){const w=o[t];if(w!==l){const S=w.MO(),v=S.TO();b(v,e),v.UJ(w,S,e,n)}}}s=t,x.Bh(h),x.Bh(o)}else++s}i&&e.LA(i),x.Bh(r),I=null}DX(i,e,n){i.EA();for(let t=0,s=n.length;t<s;++t){const r=n[t],h=r.MO(),o=h.TO();h.ZJ(!0),b(o,i),o.KJ(r,h,i)}i.AA();for(let t=0,s=n.length;t<s;++t){const a=n[t],l=a.MO(),u=l.TO();b(u,i),u.UJ(a,l,i,e),l.ZJ(!1)}i.FA()}mq(){const t={sx:this.nB(),sy:this.hB(),s:this.tB(),a:this.iB(),w:this.um(),h:this.Mm(),ortho:this.PB(),vpX:this.m9(),vpY:this.g9(),fv:this.Yq,persist:this.$q,fx:this.Z7.j2(),layers:{},dynamicLayers:[]};for(const s of this.Uq)if(s.Kz()){const i=s.AB();t.dynamicLayers.push({sid:s.Zz(),name:s.Kc(),parentSid:i?i.Zz():null,siblingIndex:s.Xz(),data:s.mq()})}else t.layers[s.Zz().toString()]=s.mq();return t}gq(t){this.R7=t.sx,this.F7=t.sy,this.E7=t.s,this.A7=t.a,this.Xm=t.w,this.Ym=t.h,this._q=!!t.ortho,t.hasOwnProperty("vpX")&&(this.Gq=t.vpX),t.hasOwnProperty("vpY")&&(this.Iq=t.vpY),this.Yq=!!t.fv,this.$q=t.persist,this.Z7.V2(t.fx),this.nz=!0;for(const[s,i]of Object.entries(t.layers)){const e=parseInt(s,10),n=this.d$(e);n&&n.gq(i)}if(t.hasOwnProperty("dynamicLayers")){this.xB(),this.lf.qk();const r=new Map,h=t.dynamicLayers;for(let t=h.length-1;0<=t;--t){const o=h[t],a=o.sid,l=o.name,u=o.parentSid,c=o.siblingIndex,f=o.data;if(this.Qq(),!this.f$(l)&&!this.d$(a)){let t,s;if(null===u)t=null,s=this.Vq;else{if(!(t=this.d$(u)))continue;s=t.OB()}const d=x.lr(x.u7,this,t,{name:l,sid:a,i7:!0});s.push(d);let i=r.get(s);i||(i=[],r.set(s,i)),i.push({HN:d,siblingIndex:c}),d.gq(f)}}for(const[p,m]of r){m.sort((t,s)=>t.siblingIndex-s.siblingIndex);for(const g of m){let t=g.HN,s=g.siblingIndex,i=p.indexOf(t);p.splice(i,1),p.splice(s,0,t)}}}this.$z(),this.h$(),this.n$()}iO(){return this.Zq}rD(){return this.Kq}OX(t){t.layout=this.iO();const s=this.lf,i=s.LX()&&!s.lD().zk();i&&e.StartMeasuringScriptTime(),this.Kq.dispatchEvent(t),i&&e.AddScriptTime()}Q$(t){return t.layout=this.iO(),this.Kq.Yf(t)}tX(t){return t.layout=this.iO(),this.lf.Q$(t)}kX(){this.BX(this.Vq)}BX(t,s=0){const i=t.slice(0);i.reverse();for(const e of i)console.log("\t".repeat(s)+"- "+e.Kc()),this.BX(e.OB(),s+1)}}}{const Cr=self.Bs;Cr.NX=class extends Cr.rr{#AV;#WX=[];#jX=new Map;#VX=new Map;#UX=null;#HX=[];#zX=null;#JX=0;#qX=null;constructor(t){super(),this.#AV=t}ur(){this.#AV=null,this.#UX=null,this.#zX=null,this.#qX=null,Cr.Bh(this.#WX),this.#jX.clear(),this.#VX.clear(),Cr.Bh(this.#HX)}gM(t){const s=Cr.lr(Cr.vq,this,this.#WX.length,t);this.#WX.push(s),this.#jX.set(s.Kc().toLowerCase(),s),this.#VX.set(s.Zz(),s)}HO(){return this.#AV}$X(t){this.#zX=t}XX(){if(this.#zX)return this.#zX;if(this.#WX.length)return this.#WX[0];throw new Error("no first layout")}YX(t){return this.#jX.get(t.toLowerCase())||null}ZX(t){return this.#VX.get(t)||null}KX(t){return t=Cr.gr(Math.floor(t),0,this.#WX.length-1),this.#WX[t]}rO(t){return"number"==typeof t?this.KX(t):this.YX(t.toString())}oO(){return this.#WX}B$(t){this.#UX=t}sO(){return this.#UX}QX(t){if(this.#HX.includes(t))throw new Error("layout already running");this.#HX.push(t)}tY(t){const s=this.#HX.indexOf(t);if(-1===s)throw new Error("layout not running");this.#HX.splice(s,1)}*sY(){this.#UX&&(yield this.#UX),this.#HX.length&&(yield*this.#HX)}iY(t){return this.#UX===t||this.#HX.includes(t)}gX(t){if(t)this.#JX++;else{if(this.#JX<=0)throw new Error("already unset");this.#JX--}}Jk(){return 0<this.#JX}uO(t){this.#qX=t}J$(){this.#qX=null}lO(){return!!this.#qX}eY(){return this.#qX}nY(){const t=this.sO();t&&t.h$()}rY(){const t=this.sO();t&&t.n$()}}}{const Pr=self.Bs,Er=new RegExp("<(.+?)>","g");Pr.hY=class extends Pr.rr{constructor(t){super(),this.lf=t,this.aY=Pr.lr(Pr.lY),this.uY=null,this.cY=[],this.fY=new Map,this.dY=new Map,this.pY=new Map,this.mY=[],this.gY=[],this.yY=[],this.wY=!1,this.SY=!1,this.vY=!1,this.bY=()=>this.xY(),this.MY=()=>this.TY(),this._Y=()=>this.GY(),this.IY=()=>this.CY(),this.PY=t=>this.EY(t.I6),this.AY=t=>this.RY(),this.FY=t=>this.DY(),this.OY=t=>this.LY(),this.kY=[],this.BY=0}ur(){this.NY(),this.bY=null,this.MY=null,this._Y=null,this.IY=null,this.PY=null,this.FY=null;for(const t of this.cY)t.xW(),t.ur();Pr.Bh(this.cY),this.cY=null,this.aY.ur(),this.aY=null,Pr.Bh(this.mY),this.mY=null,Pr.Bh(this.gY),this.gY=null,Pr.Bh(this.yY),this.yY=null,this.fY.clear(),this.fY=null,this.dY.clear(),this.dY=null,this.pY.clear(),this.pY=null,Pr.Bh(this.kY),this.kY=null,this.lf=null}WY(){const t=this.lf.Vf();t.addEventListener("pretick",this.bY),t.addEventListener("tick2",this.MY),t.addEventListener("beforelayoutchange",this._Y),t.addEventListener("layoutchange",this.IY),t.addEventListener("instancedestroy",this.PY),t.addEventListener("beforeload",this.AY),t.addEventListener("afterload",this.FY),t.addEventListener("afterlayoutstart",this.OY)}NY(){const t=this.lf.Vf();t.removeEventListener("pretick",this.bY),t.removeEventListener("tick2",this.MY),t.removeEventListener("beforelayoutchange",this._Y),t.removeEventListener("layoutchange",this.IY),t.removeEventListener("instancedestroy",this.PY),t.removeEventListener("beforeload",this.AY),t.removeEventListener("afterload",this.FY),t.removeEventListener("afterlayoutstart",this.OY)}gM(t){this.aY.uc(t);const s=Pr.VY.jY(t,this);this.uc(s),this.UY(s),this.pY.set(s.Kc(),0)}HY(t){const s=this.zY(),i=t.J5(),e=s.ei(i),n=Pr.VY.HY(i+":"+this.pY.get(i),e,this);return this.JY(i),this.uc(n),n}JY(t){this.pY.set(t,this.pY.get(t)+1)}qY(){for(const t of this.cY)if(!t.$Y()){const s=t.J5();this.JY(s)}}XY(){for(const t of this.pY.keys())this.pY.set(t,0)}uc(t){this.cY.push(t),this.fY.set(t.Kc().toLowerCase(),t)}b0(t){t.YY(),t.$Y()||(Pr.Hh(this.cY,t),Pr.Hh(this.mY,t),Pr.Hh(this.gY,t),Pr.Hh(this.yY,t),this.fY.delete(t.Kc().toLowerCase()),this.ZY(t),t.vW())||t.ur()}gN(t){this.lf.gN(t,this.uY,null)}HO(){return this.lf}zY(){return this.aY}KY(t){this.uY=t}QY(){return this.uY}*tZ(){for(const t of this.cY)yield t}*sZ(){for(const t of this.gY)yield t}iZ(t,s){this.dY.has(t)||this.dY.set(t,new Set),this.dY.get(t).add(s)}UY(t){for(const s of t.eZ())this.iZ(s,t)}ZY(t){for(const[s,i]of this.dY.entries())i.has(t)&&(i.delete(t),0===i.size)&&this.dY.delete(s)}nZ(t){if(this.dY.has(t))return this.dY.get(t)}rZ(t,s){if(s)for(const i of this.cY){const e=s.every(t=>i.hZ(t.I6,t.trackId));if(e&&i.Kc().includes(t.Kc()))return i}}oZ(t){return this.fY.get(t.toLowerCase())||null}aZ(t){for(const s of this.mY)if(s.Kc()===t)return s;for(const i of this.gY)if(i.Kc()===t)return i;return null}*lZ(i){if(Er.test(i)){Er.lastIndex=0;let t,s=new Set;do{if(t=Er.exec(i)){const e=t[1].split(",");for(const n of e)s.add(n)}}while(t);for(const r of s.values()){const h=this.oZ(r);h&&(yield h)}s.clear()}else{const t=this.oZ(i);t&&(yield t)}}*uZ(t){for(const s of this.cY)s.TW(t)&&(yield s)}cZ(t){this.mY.includes(t)||this.mY.push(t),this.fZ()}dZ(t){Pr.Hh(this.gY,t),this.pZ()}mZ(t){this.gY.includes(t)?(t.gZ(!0),t.yZ(!1),t.wZ(!1)):(t.gZ(!1),t.yZ(!0),t.wZ(!1),this.mY.includes(t)||this.mY.push(t)),this.fZ()}SZ(t){t.gZ(!1),t.yZ(!1),t.vZ(),Pr.Hh(this.mY,t),this.pZ()}bZ(t){t.gZ(!1),t.yZ(!1),this.gY.includes(t)&&(t.wZ(!0),this.yY.push(t),Pr.Hh(this.gY,t)),this.mY.includes(t)&&t.wZ(!0)}xZ(t){t.gZ(!1),t.yZ(!1),t.wZ(!1),t.FW(1),Pr.Hh(this.gY,t)}MZ(t){this.bZ(t),t.vZ()}xY(){if(!this.HO().$$()&&this.wY&&!this.SY){for(this.vY=!0;this.mY.length;){const t=this.mY.pop();(t.TZ()?(t._Z(),this.yY):(t.GZ(),this.gY)).push(t),0!==t.IZ()&&(this.BY=1)}const s=this.lf.CZ(),i=this.lf.PZ(),e=this.lf.LD();for(let t=this.gY.length-1;0<=t;t--){const n=this.gY[t];n&&n.EZ(s,e,i)}this.vY=!1,0!==this.BY&&this.HO().EO()}}TY(){if(!this.HO().$$()&&this.wY&&!this.SY){let i;for(let t=0,s=this.yY.length;t<s;t++){const e=this.yY[t];i=i||new Set,e.YY(),this.AZ(e),i.add(e)}if(i){Pr.qh(this.yY,i);for(let t=this.BY=0,s=this.gY.length;t<s;t++)if(0!==this.gY[t].IZ()){this.BY=1;break}}this.pZ()}}AZ(t){t.vW()||t.RZ()&&t.FZ()&&t.DZ()&&t.OZ()}fZ(){this.wY||(this.wY=!0)}pZ(){this.yY.length||this.gY.length||this.mY.length||this.vY||(this.wY=!1)}GY(){for(this.SY=!0;this.mY.length;)this.SZ(this.mY.pop());const t=new Set;for(const s of this.gY){const i=s.GY();i&&(s.YY(),t.add(s))}Pr.qh(this.gY,t),t.clear();for(const e of this.yY){const n=e.GY();n&&(e.YY(),t.add(e))}Pr.qh(this.yY,t),this.pZ();for(const r of this.cY)r.LZ()}CY(){this.SY=!1}EY(t){const s=t.E5(),i=this.nZ(s);if(i)if(this.lf.$$())this.kY.push(t);else for(const e of i)e.$Y()||(e.vW()?this.b0(e):e.RZ()||(this.AZ(e),this.b0(e)))}RY(){for(const t of this.mY.map(t=>t))this.AZ(t),this.b0(t);for(const s of this.gY.map(t=>t))this.AZ(s),this.b0(s)}DY(){for(const t of this.kY)this.EY(t);Pr.Bh(this.kY);for(const s of this.cY)s.DY()}LY(){const t=this.lf.nO(),s=t.sO();if(s)for(const i of this.cY){const e=i.kZ();e&&s.Kc()===e&&this.mZ(i)}}mq(){return{timelinesJson:this.BZ(),scheduledTimelinesJson:this.NZ(),playingTimelinesJson:this.WZ(),markedForRemovalTimelinesJson:this.jZ(),hasRuntimeListeners:this.wY,changingLayout:this.SY,isTickingTimelines:this.vY}}gq(t){t&&(this.XY(),this.VZ(t.timelinesJson),this.UZ(t.scheduledTimelinesJson),this.HZ(t.playingTimelinesJson),this.zZ(t.markedForRemovalTimelinesJson),this.wY=!t.hasRuntimeListeners,this.SY=!!t.changingLayout,this.vY=!!t.isTickingTimelines,this.qY(),this.fZ(),this.pZ())}BZ(){return this.cY.map(t=>t.mq())}VZ(t){for(const s of t){let t=this.oZ(s.name);if(t)t.gq(s);else{const i=this.JZ(s);if(!i)continue;const e=this.oZ(i);(t=this.HY(e)).gq(s)}t.qZ()||this.b0(t)}}JZ(t){const s=t.name,i=s.split(":");return i&&2===i.length?i[0]:null}NZ(){return this.$Z(this.mY)}UZ(t){this.XZ(t,this.mY)}WZ(){return this.$Z(this.gY)}HZ(t){this.XZ(t,this.gY)}jZ(){return this.$Z(this.yY)}zZ(t){this.XZ(t,this.yY)}YZ(t,s){if(s)for(const i of s)if(i===t.Kc())return!0;return!1}$Z(t){return t.map(t=>t.Kc())}XZ(t,s){const i=new Set;for(const e of s)this.YZ(e,t)||i.add(e);if(Pr.qh(s,i),t)for(const n of t){const r=this.oZ(n);if(r){const h=s.find((s=>t=>t.Kc()===s)(n));h||s.push(r)}}}}}{const Ar=self.Bs,Rr=[0,0],Fr=[0,0],Dr=[0,0],Or=[0,0,0,0,0],Lr=new Array(4),kr=[{x:0,y:0,t:0,Et:0},{x:0,y:0,t:0,Et:0},{x:0,y:0,t:0,Et:0}],Br={x:0,y:0,t:0,Et:0};Ar.ZZ=class{constructor(t,s){this.KZ=!1,this.QZ=t,this.tK=[];let i=null;if(i=s?this.QZ.sK(s):Ar.first(this.QZ.iK())){const e=i.KW("offsetX"),n=i.KW("offsetY");if(e&&n){this.eK=e,this.nK=n;const r=e.rK(),h=n.rK();for(let t=1,s=Math.min(r.length,h.length);t<s;++t){const o=r[t],a=(o.hK(),o.oK()),l=h[t],u=(l.hK(),l.oK());a&&"cubic-bezier"===a.aK()&&u&&"cubic-bezier"===u.aK()?this.tK.push(Ar.lr(Ar.lK,a,u,o,l,this.tK.length)):(a&&"line"===a.aK()&&u&&u.aK(),this.tK.push(Ar.lr(Ar.uK,o,l,this.tK.length)))}this.KZ=!0}}}ur(){for(const t of this.tK)t.ur();Ar.Bh(this.tK),this.tK=null,this.QZ=null,this.eK=null,this.nK=null}cK(){return this.KZ}fK(){return this.tK}dK(t){const s="relative"===this.eK.pK()?t.I2():0,i="relative"===this.nK.pK()?t.E2():0;for(const e of this.tK)e.dK(s,i)}ny(s,i,t){let e=NaN,n=this.tK.length;for(let t=0;t<n;t++){const r=this.tK[t];if("cubic-bezier"===r.wT()){const h=r.ny(s,i);(isNaN(e)||h[3]<e)&&(e=h[3],Dr[0]=h[2],Dr[1]=r.RF())}}return Dr}mK(s,i,t){const e=t.tRange;Ar.ge(e[0])||(e[0]=0),Ar.ge(e[1])||(e[1]=1);let n=NaN,r=this.tK.length;for(let t=0;t<r;t++){const h=this.tK[t];if("cubic-bezier"===h.wT()){const o=h.gK(s,i,e);(isNaN(n)||o[3]<n)&&(n=o[3],Dr[0]=o[2],Dr[1]=h.RF())}}return Dr}yK(t,s){return this.tK[s].yK(t)}wK(t,s){return this.tK[s].wK(t)}},Ar.lK=class{constructor(t,s,i,e,n){this.Xg=n;const r=t.SK("cubic-bezier"),h=i.SK("cubic-bezier"),o=s.SK("cubic-bezier"),a=e.SK("cubic-bezier");this.vK=t.bK(),this.xK=s.bK(),this.MK=t.bK()+r.TK(),this._K=s.bK()+o.TK(),this.GK=i.bK()+h.IK(),this.CK=e.bK()+a.IK(),this.PK=i.bK(),this.EK=e.bK(),this.AK=0,this.RK=0,this.FK=0,this.DK=0,this.LK=0,this.kK=0,this.BK=0,this.NK=0,this.WK=0,this.jK=0,this.VK=0,this.UK=0,this.HK=0,this.zK=0,this.JK=0,this.qK=0,this.$K=0,this.XK=0,this.YK=0,this.ZK=0,this.KK=NaN,this.KZ=!1,this.QK=100,this.tQ=new Array(this.QK+1),this.tQ[0]=0,this.sQ=0,this.iQ=[],this.eQ=[];for(let t=0;t<100;t++)this.eQ.push({x:0,y:0,t:0,Et:0});this.nQ()}ur(){Ar.Bh(this.tQ),this.tQ=null,Ar.Bh(this.iQ),this.iQ=null,Ar.Bh(this.eQ),this.eQ=null}wT(){return"cubic-bezier"}RF(){return this.Xg}rQ(){return Math.floor(this.sQ/25)}hQ(){return 1/this.rQ()}dK(t,s){this.oQ=t,this.aQ=s,this.tQ=new Array(this.QK+1),this.tQ[0]=0,this.nQ(),this.AK=this.vK+this.oQ,this.RK=this.xK+this.aQ,this.FK=this.MK+this.oQ,this.DK=this._K+this.aQ,this.LK=this.GK+this.oQ,this.kK=this.CK+this.aQ,this.BK=this.PK+this.oQ,this.NK=this.EK+this.aQ,this.WK=3*(this.FK-this.AK),this.jK=3*(this.DK-this.RK),this.VK=3*(this.LK-this.FK),this.UK=3*(this.kK-this.DK),this.HK=3*(this.BK-this.LK),this.zK=3*(this.NK-this.kK),this.JK=3*(this.FK-this.AK),this.qK=3*(this.AK+this.LK-2*this.FK),this.$K=this.BK-this.AK+3*(this.FK-this.LK),this.XK=3*(this.DK-this.RK),this.YK=3*(this.RK+this.kK-2*this.DK),this.ZK=this.NK-this.RK+3*(this.DK-this.kK)}Map(t){if(!this.KZ)return NaN;const s=this.lQ(t);return Fr[0]=this.uQ(s),Fr[1]=this.cQ(s),Fr}ny(t,s){const i=this.fQ(100),e=this.dQ(t,s,i),n=this.pQ(t,s,i,e);return Or[0]=n.x,Or[1]=n.y,Or[2]=n.t,Or[3]=n.Et,Or}gK(t,s,i){const e=this.fQ(100),n=this.mQ(t,s,e,i),r=this.pQ(t,s,e,n);return Or[0]=r.x,Or[1]=r.y,Or[2]=r.t,Or[3]=r.Et,Or}yK(t){const s=1-t,i=s*s,e=2*s*t,n=t*t,r=i*this.WK+e*this.VK+n*this.HK,h=i*this.jK+e*this.UK+n*this.zK,o=Math.hypot(r,h);return Rr[0]=r/o,Rr[1]=h/o,Rr}wK(t){const s=1-t,i=s*s,e=2*s*t,n=t*t,r=i*this.WK+e*this.VK+n*this.HK,h=i*this.jK+e*this.UK+n*this.zK;return Math.atan2(h,r)}lQ(n){if(this.KZ){let t=n*this.tQ[this.QK],s=0,i=this.QK,e=0;for(;s<i;)e=s+((i-s)/2|0),this.tQ[e]<t?s=e+1:i=e;this.tQ[e]>t&&e--;const r=this.tQ[e];return r===t?e/this.QK:(e+(t-r)/(this.tQ[e+1]-r))/this.QK}}uQ(t){return this.KZ?self.mc.Rc("cubicbezier")(t,this.vK+this.oQ,this.MK+this.oQ,this.GK+this.oQ,this.PK+this.oQ):NaN}cQ(t){return this.KZ?self.mc.Rc("cubicbezier")(t,this.xK+this.aQ,this._K+this.aQ,this.CK+this.aQ,this.EK+this.aQ):NaN}fQ(s){if(!(this.iQ.length>=(s=s||100))){this.iQ=new Array(s),s++;for(let t=0;t<s-1;t++){const i=t/(s-1),e=i**2,n=i**3,r=this.JK*i,h=this.qK*e,o=this.$K*n,a=this.XK*i,l=this.YK*e,u=this.ZK*n,c=this.AK+r+h+o,f=this.RK+a+l+u;this.eQ[t].x=c,this.eQ[t].y=f,this.eQ[t].t=i,this.eQ[t].Et=0,this.iQ[t]=this.eQ[t]}}return this.iQ}dQ(s,i,e,t=0,n=Number.MAX_SAFE_INTEGER){let r=0;if(isNaN(this.KK))for(let t=0;t<100;t++){const h=e[t],o=h.x-s,a=h.y-i;h.Et=o*o+a*a,h.Et<n&&(n=h.Et,r=t)}else{for(let t=this.KK;t<this.KK+5&&!(t>=e.length);t++){const l=e[t],u=l.x-s,c=l.y-i;l.Et=u*u+c*c,l.Et<n&&(n=l.Et,r=t)}for(let t=this.KK;t>this.KK-5&&!(t<0);t--){const f=e[t],d=f.x-s,p=f.y-i;f.Et=d*d+p*p,f.Et<n&&(n=f.Et,r=t)}}return this.KK=r}mQ(s,i,e,n,r=Number.MAX_SAFE_INTEGER){let h=0;if(isNaN(this.KK))for(let t=0;t<100;t++){const o=e[t],a=o.x-s,l=o.y-i;o.Et=a*a+l*l,o.t>=n[0]&&o.t<=n[1]&&o.Et<r&&(r=o.Et,h=t)}else{for(let t=this.KK;t<this.KK+5&&!(t>=e.length);t++){const u=e[t],c=u.x-s,f=u.y-i;u.Et=c*c+f*f,u.t>=n[0]&&u.t<=n[1]&&u.Et<r&&(r=u.Et,h=t)}for(let t=this.KK;t>this.KK-5&&!(t<0);t--){const d=e[t],p=d.x-s,m=d.y-i;d.Et=p*p+m*m,d.t>=n[0]&&d.t<=n[1]&&d.Et<r&&(r=d.Et,h=t)}}return this.KK=h}pQ(h,o,a,l){let u=a[l],t=1,c=Number.MAX_SAFE_INTEGER;t:do{let t=a.length,s=0===l?0:l-1,i=l===t-1?t-1:l+1,e=a[s].t,n=a[i].t,r=(n-e)/4;if(r<.001)break;Lr[0]=a[s];for(let t=1;t<=2;t++){const f=e+t*r,d=f**2,p=f**3,m=this.JK*f,g=this.qK*d,y=this.$K*p,w=this.XK*f,S=this.YK*d,v=this.ZK*p,b=this.AK+m+g+y,x=this.RK+w+S+v,M=b-h,T=x-o,_=M*M+T*T;if(_<c){c=_,l=t,Br.x=b,Br.y=x,Br.t=f,Br.Et=_,u=Br;break t}const G=kr[t-1];G.x=b,G.y=x,G.t=f,G.Et=_,Lr[t]=G}Lr[3]=a[i],a=Lr}while(t++<20);return u}nQ(){this.KZ=!0;let s=this.uQ(0),i=this.cQ(0),e=0;for(let t=1;t<=this.QK;t++){const n=this.uQ(.01*t),r=this.cQ(.01*t),h=s-n,o=i-r;e+=Math.hypot(h,o),this.tQ[t]=e,s=n,i=r}this.sQ=e}},Ar.uK=class{constructor(t,s,i){this.Xg=i,this.gQ=t.bK(),this.yQ=s.bK(),this.oQ=0,this.aQ=0}ur(){}wT(){return"line"}RF(){return this.Xg}dK(t,s){this.oQ=t,this.aQ=s}I2(){return this.gQ+this.oQ}E2(){return this.yQ+this.aQ}}}{const v=self.Bs;v.VY=class extends v.rr{constructor(t,s,i){super(),this.lf=i.HO(),this.wQ=i,this.SQ=s,this.pr=t,this.vQ=[],this.bQ=0,this.xQ=null,this.MQ=0,this.TQ(),this._Q=null,this.GQ=null,this.IQ=0,this.CQ=0,this.PQ=1,this.EQ=0,this.AQ=1,this.RQ=!1,this.FQ=!1,this.DQ=!1,this.OQ=!0,this.LQ=!1,this.kQ=!1,this.BQ=-1,this.NQ=!1,this.WQ=!1,this.jQ=!1,this.VQ=!1,this.UQ=NaN,this.HQ=[""],this.zQ="",this.JQ=!1,this.BY=0,this.qQ=0,this.$Q=null}static jY(t,s){const i=s.zY(),e=i.XQ(),n=i.ei(t[e]),r=v.lr(v.VY,t[e],n,s);return r.YQ(!0),r}static HY(t,s,i){return v.lr(v.VY,t,s,i)}ur(){if(!this.vW()){const t=this.lf.Vf();this.wQ.SZ(this),this.wQ.MZ(this);for(const s of this.vQ)s.ur();v.Bh(this.vQ),this.vQ=null,this.lf=null,this.wQ=null,this.SQ=null,this.LQ=!0,this._Q=null,this.GQ=null,this.ZQ(t)}}ZQ(t){const s=v.lr(v.Event,"timelinestatereleased");s.KQ=this,t.dispatchEvent(s)}wT(){return 0}TQ(){for(const t of this.SQ.ttt().QQ())this.bQ=this.vQ.push(v.stt.gM(this,t))}itt(){return this.wQ}HO(){return this.lf}iK(){return this.vQ}ett(e,n,r,h){if(this.qQ){let i;for(let s=0;s<this.vQ.length;s++){let t=this.vQ[s];if(e===t.JW()){const o=t.KW(r);o&&n.constructor===o.ntt().constructor&&o.pK()===h.pK()&&(i=i||[]).push(o)}}return i}}qZ(){return!!this.vQ.length}sK(t){for(const s of this.vQ)if(v.vn(s.YW(),t))return s;return null}htt(t){for(const s of this.vQ)if(!s.ott()&&v.vn(s.Kc(),t))return s;return null}jV(t){this.pr=t}Kc(){return this.pr}att(){return this.SQ}J5(){return this.SQ.Kc()}IW(){return this.SQ.IW()}GW(t){this.SQ.GW(t)}ltt(){return this.SQ.ltt()}utt(t){this.SQ.utt(t)}ctt(){return this.SQ.ctt()}ftt(t){this.SQ.ftt(t)}pK(){return this.SQ.pK()}dtt(t){this.SQ.pK(t)}zW(t){for(const s of this.iK())s.zW(t)}EW(){return this.SQ.EW()}PW(t){return this.SQ.PW(t)}RW(){return this.SQ.RW()}AW(t){return this.SQ.AW(t)}W6(){return this.SQ.W6()}ptt(t){return this.SQ.ptt(t)}FW(t){return this.PQ=t}DW(){return this.PQ}kZ(){return this.SQ.kZ()}mtt(){return this.SQ.mtt()}gtt(){return this.SQ.gtt()}ytt(){return this.EQ}wtt(){return!this.IsPlaying()||0<this.PQ}LW(){return this._Q||(this._Q=new Promise(t=>{this.GQ=t})),this._Q}vZ(){this._Q&&(this.GQ(),this._Q=null,this.GQ=null)}Stt(t){this.HQ=v.VY.vtt(t),this.JQ=!0}OW(){return this.HQ}btt(){return this.JQ&&(this.zQ=this.HQ.join(" ")),this.JQ=!1,this.zQ}TW(t){if(!this.HQ)return!1;if(!this.HQ.length)return!1;const s=v.VY.vtt(t);return!!s&&!!s.length&&s.every(v.VY.xtt,this)}Mtt(){v.nX.Timeline&&this.constructor===v.VY&&(v.nX.Timeline.iX.PushTriggerTimeline(this),this.wQ.gN(v.nX.Timeline.iX.OnTimelineStarted),this.wQ.gN(v.nX.Timeline.iX.OnTimelineStartedByName),this.wQ.gN(v.nX.Timeline.iX.OnTimelineStartedByTags),this.wQ.gN(v.nX.Timeline.iX.OnAnyTimelineStarted),v.nX.Timeline.iX.PopTriggerTimeline())}Ttt(){this.BQ=this.lf._tt()}OZ(){this.jQ||(this.jQ=!0,v.nX.Timeline&&this.constructor===v.VY&&(v.nX.Timeline.iX.PushTriggerTimeline(this),this.wQ.gN(v.nX.Timeline.iX.OnTimelineFinished),this.wQ.gN(v.nX.Timeline.iX.OnTimelineFinishedByName),this.wQ.gN(v.nX.Timeline.iX.OnTimelineFinishedByTags),this.wQ.gN(v.nX.Timeline.iX.OnAnyTimelineFinished),v.nX.Timeline.iX.PopTriggerTimeline()))}gZ(t){this.RQ=t}Gtt(){return this.BQ===this.lf._tt()}IsPlaying(t=!1){return!!this.Gtt()||!(!this.Itt()||t)||this.RQ}Ctt(){return this.IsPlaying(!0)}BW(){return this.Ptt()}Ptt(){return!(this.vW()||this.Itt()||this.Ctt()||this.FZ())}yZ(t){this.FQ=t}Itt(){return this.FQ}Ett(t){this.OQ=t;const s=this.u3();(s<=0||s>=this.IW())&&(this.OQ=!0)}FZ(){return this.OQ}vW(){return this.LQ}wZ(t){this.kQ=t}TZ(){return this.kQ}Att(t){this.NQ=t}Rtt(){return this.NQ}YQ(t){this.WQ=!!t}$Y(){return this.WQ}DZ(){return this.DQ}u3(){return this.IQ}_W(t){const s=this.u3();this.Ftt(t),this.Ett(!1),this.FZ()||this.Att(!0),!this.Ctt()&&!this.Itt()&&this.DQ||(this.Ctt()||this.Itt()||this.DQ?this.Ctt()?this.xW():this.Itt()&&(this.wQ.SZ(this),this.Dtt()):this.Dtt()),this.Ott(),this.Ltt(this.u3(),!1,!0,!0,s),this.ktt(),this.BY&&this.HO().EO(),this.Btt()}Ftt(t){(t=v.ge(t)?t:this.IW())<0?this.IQ=0:t>=this.IW()?this.IQ=this.IW():this.IQ=t}Ntt(t){(t=v.ge(t)?t:this.IW())<0?this.IQ=0:t>=this.IW()?this.IQ=this.IW():this.IQ=t;for(const s of this.vQ)s.Wtt()}Btt(){v.nX.Timeline&&this.constructor===v.VY&&(v.nX.Timeline.iX.PushTriggerTimeline(this),this.wQ.gN(v.nX.Timeline.iX.OnTimeSet),this.wQ.gN(v.nX.Timeline.iX.OnTimeSetByName),this.wQ.gN(v.nX.Timeline.iX.OnTimeSetByTags),v.nX.Timeline.iX.PopTriggerTimeline())}jtt(){if(!this.EW())if(this.RW()&&1===this.EQ){if(this.wtt()){if(this.u3()>=this.IW())return!1}else if(this.u3()<=0)return!1}else if(!this.EW()&&!this.RW())if(this.wtt()){if(this.u3()>=this.IW())return!1}else if(this.u3()<=0)return!1;return!0}MW(){this.vW()||this.jtt()&&this.Play(!0)}Play(t=!1){return!this.vW()&&!this.Itt()&&(this.Ctt()&&this.Gtt()?this.Vtt():!this.Ctt()&&!!(this.FZ()||t||this.Rtt())&&this.Utt())}Vtt(){return this.Att(!1),this.wQ.dZ(this),this.wQ.mZ(this),this.LW(),!0}Utt(){return this.Att(!1),this.wQ.mZ(this),this.LW(),!0}xW(t=!1){this.vW()||(this.Ett(t),this.wQ.bZ(this),this.FZ()&&this.vZ())}l0(t=!0,s=!1){if(!this.vW()){if(!this.Ctt()&&this.Itt())return this.wQ.SZ(this);if(!this.FZ()){this.xW(!0),this.wtt()?this.Ftt(0):this.Ftt(this.IW());const i=this.u3();this.Ott(),s?this.Htt(i):this.Ltt(i,!1,!1,!0),t&&this.Btt(),this.ktt(),this.BY&&t&&this.HO().EO()}}}ztt(){this.l0(!1,!0)}Htt(t){this.Ltt(t,!1,!1,!0,NaN,!1,!0)}GY(){if(!this.vW()){if(!this.HO().$$()&&this.Jtt())return!1;this.wQ.xZ(this),this.HO().$$()||this.ztt()}return!0}Dtt(){this.GZ(!0)}_Z(){this.GZ(!1,!0),this.gZ(!1),this.yZ(!1)}GZ(t=!1,s=!1){if(!this.TZ()||s){if(t){this.jQ=!1,this.DQ=!0,this.VQ=!0,this.Ott();for(const i of this.vQ)i.GZ()}else if(this.gZ(!0),this.yZ(!1),this.Mtt(),this.FZ()){this.BQ=-1,0!==this.EQ&&(this.PQ=Math.abs(this.PQ)),this.EQ=0,this.AQ=1,this.OQ=!1,this.jQ=!1,this.DQ=!0,this.VQ=!0,this.wtt()?this.Ftt(0):this.Ftt(this.IW()),this.Ott();for(const e of this.vQ)e.GZ()}else{this.VQ=!0,this.jQ=!1,this.Ott();for(const n of this.vQ)n.qtt()}this.ktt()}}IZ(){return this.BY}Ott(){this.qQ=0;for(const t of this.vQ)t.eP()&&(this.qQ=1)}ktt(){this.BY=0;for(const t of this.vQ)t.$tt(),0===this.BY&&1===t.IZ()&&(this.BY=1),this.xQ||1!==t.Xtt()||(this.xQ||(this.xQ=[]),this.MQ=this.xQ.push(t))}EZ(t,s,i){if(this.gtt()){if(0===t&&0===this.UQ)return;this.UQ=t,t=i}else{if(0===i&&0===this.UQ)return;t=this.UQ=i,s=1}const e=this.IQ+this.CQ,n=t*s*this.PQ,r=e+n,h=this.SQ.Ytt;r<0?(this.IQ=0,this.CQ=-r):h<=r?(this.IQ=h,this.CQ=this.IQ-r):(this.IQ=r,this.CQ=0);let o=!1,a=!1,l=this.EW(),u=this.RW();l||u?l&&!u?0<this.PQ?this.IQ>=h&&(this.Ntt(0),a=!0):this.IQ<=0&&(this.Ntt(h),a=!0):!l&&u?0<this.PQ?this.IQ>=h&&(this.Ftt(h),this.FW(-1*this.DW()),a=!0,1===this.EQ?this.AQ<this.W6()?(this.AQ++,this.EQ=0):o=!0:0===this.EQ&&(this.EQ=1)):this.IQ<=0&&(this.Ftt(0),this.FW(-1*this.DW()),a=!0,1===this.EQ?this.AQ<this.W6()?(this.AQ++,this.EQ=0):o=!0:0===this.EQ&&(this.EQ=1)):l&&u&&(0<this.PQ?this.IQ>=h&&(this.Ftt(h),this.FW(-1*this.DW()),a=!0,this.EQ++,v.wrap(this.EQ,0,2)):this.IQ<=0&&(this.Ftt(0),this.FW(-1*this.DW()),a=!0,this.EQ++,v.wrap(this.EQ,0,2))):0<this.PQ?this.IQ>=h&&(this.AQ<this.W6()?(this.AQ++,this.Ntt(0),a=!0):(this.Ftt(h),o=!0)):this.IQ<=0&&(this.AQ<this.W6()?(this.AQ++,this.Ntt(h),a=!0):(this.Ftt(0),o=!0));let c,f=this.bQ;if(o){for(c=0;c<f;c++)this.vQ[c].Ztt();this.xW(!0),this.Ttt()}else{const d=this.MQ;for(c=0;c<d;c++)this.xQ[c].Ktt();if(1===this.qQ)for(c=0;c<f;c++){const p=this.vQ[c],m=p.Qtt(),g=this.IQ-m,y=e-m;g<0&&0<y?(this.IQ=m<0?0:h<=m?h:m,p.Vc(m,!0,!1,a,this.VQ,!1)):p.Vc(this.IQ,!0,!1,a,this.VQ,!1)}else for(c=0;c<f;c++)this.vQ[c].Vc(this.IQ,!0,!1,a,this.VQ,!1);for(c=0;c<d;c++)this.xQ[c].tst();this.VQ&&(this.VQ=!1)}}Ltt(s,i=!1,e=!1,n=!1,r=NaN,t=!1,h=!1){for(const o of this.vQ)o.Ktt();for(const a of this.vQ){let t=s;if("number"==typeof r&&!isNaN(r)){const l=this.u3(),u=l-a.Qtt(),c=r-a.Qtt();u<0&&0<c&&(t=a.Qtt(),this.Ftt(t))}a.Vc(t,i,e,n,this.VQ,h)}for(const f of this.vQ)f.tst();this.VQ&&t&&(this.VQ=!1)}sst(){const t=this.SQ.ttt().ist(),s=v.stt.gM(this,t);return this.bQ=this.vQ.push(s),s}YY(){if(!this.vW())for(const t of this.vQ)t.est()}LZ(){for(const t of this.vQ)t.LZ()}nst(){for(const t of this.vQ)t.rst()}hst(t,s,i){if(s){if("number"==typeof i&&0<=i){const e=this.vQ[i];return e?(e.ost(s),void this.wQ.iZ(s.E5(),this)):void 0}for(const n of this.vQ)if(n.ott())if(t){if(n.YW()===t){n.ost(s),this.wQ.iZ(s.E5(),this);break}}else if(!n.ast()){n.ost(s),this.wQ.iZ(s.E5(),this);break}}}hZ(t,s){for(const i of this.vQ)if(i.ott())if(s){if(s===i.YW()&&t===i.JW())return!0}else if(t===i.JW())return!0;return!1}RZ(){return this.vQ.some(t=>!t.ott()||t.lst())}Jtt(){return this.vQ.some(t=>{if(t.ott()){if(!t.lst())return!1;const s=t.E5();return!!s&&s.Cz()}return!1})}KW(t){for(const s of this.iK())for(const i of s.ust())if(i.cst()===t)return i}fst(t){for(const s of this.vQ)if(t===s.JW())return s;return null}dst(t){let s=t?t.split(" "):[],i=new Set(s.map(t=>t.toLowerCase().trim()));s=[...i.values()];for(const e of this.iK())for(const n of e.pst()){const r=s.every(t=>n.mst(t));if(r)return n}}eZ(){const t=[];for(const s of this.iK())t.push(s.E5());return t.filter(t=>t)}DY(){for(const t of this.iK())t.DY()}mq(){return{tracksJson:this.gst(),name:this.pr,playheadTime:this.u3(),playbackRate:this.PQ,pingPongState:this.EQ,currentRepeatCount:this.AQ,isPlaying:this.RQ,isScheduled:this.FQ,initialStateSet:this.DQ,finishedTriggers:this.jQ,complete:this.OQ,released:this.LQ,markedForRemoval:this.kQ,completedTick:this.BQ,implicitPause:this.NQ,isTemplate:this.WQ,tags:this.HQ.join(" "),stringTags:this.zQ,tagsChanged:this.JQ,firstTick:this.VQ}}gq(t){t&&(this.yst(t.tracksJson),this.pr=t.name,this.IQ=t.playheadTime,this.PQ=t.playbackRate,this.EQ=t.pingPongState,this.AQ=t.currentRepeatCount,this.RQ=!!t.isPlaying,this.FQ=!!t.isScheduled,this.DQ=!!t.initialStateSet,this.jQ=!!t.hasOwnProperty("finishedTriggers")&&!!t.finishedTriggers,this.OQ=!!t.complete,this.LQ=!!t.released,this.kQ=!!t.markedForRemoval,this.BQ=t.completedTick,this.NQ=!!t.implicitPause,this.WQ=!!t.isTemplate,this.HQ=t.tags.split(" "),this.zQ=t.stringTags,this.JQ=!!t.tagsChanged,this.VQ=!!t.firstTick)}gst(){return this.vQ.map(t=>t.mq())}yst(t){this.nst(),t.forEach((t,s)=>{const i=this.vQ[s];i.gq(t)}),this.vQ.filter(t=>t.lst())}static xtt(t){const s=this.OW();return""===t?1===s.length&&""===s[0]:s.map(t=>t.toLowerCase()).includes(t.toLowerCase())}static vtt(t){if(v.je(t))return t.slice(0);if(v.Ge(t))return t.split(" ");throw new Error("invalid tags")}wst(){return this.$Q||(this.$Q=v.lr(self.WW,this)),this.$Q}}}{const Nr=self.Bs;Nr.stt=class extends Nr.rr{constructor(t,s){super(),this.QZ=t,this.Sst=s,this.vst=s.ttt(),this.bst=NaN,this.xst=NaN,this.Mst=null,this.Tst=null,this._st=!1,this.ZC=0<s.Qtt(),this.Gst=!1,this.Ist=!1,this.Cst=NaN,this.Pst=null,this.Est=this.Sst.Rst().Ast(),this.Fst=[],this.Dst(),this.Ost=0,this.BY=0,this.Lst=0}static gM(t,s){return Nr.lr(Nr.stt,t,s)}ur(){this.Est=null;for(const t of this.Fst)t.ur();Nr.Bh(this.Fst),this.Fst=null,this.QZ=null,this.Mst=null,this.Tst=null,this.Sst=null,this.Pst=null}Dst(){for(const t of this.Sst.Bst().kst())this.Fst.push(Nr.Nst.gM(this,t))}est(){for(const t of this.Fst)t.est()}LZ(){for(const t of this.Fst)t.LZ();this.Mst=null,this.Tst=null}Wst(){return this.QZ}HO(){return this.QZ.HO()}pst(){return this.Est||(this.Est=this.Sst.Rst().Ast()),this.Est}ust(){return this.Fst}KW(s){for(let t=0;t<this.Fst.length;t++){const i=this.Fst[t];if(i.cst()===s)return i}}jst(){this.Mst||this.JW()}Vst(){return!!this.Mst&&!this.Mst.Yj()}lst(){if(!this.ott())return!1;const t=this.Ust(),s=this.HO().wO(t);return!!s&&!s.Yj()}E5(){if(this.ott()){const t=this.Hst();if(-1!==t)return this.HO().wz(t)}}zst(){return this.QZ.iK().indexOf(this)}rst(){this.Mst=null,this.bst=NaN,this.Tst=null,this.xst=NaN,this._st=!0}ast(){return!!this.Mst}JW(){if(!this._st){if(!this.Mst||!this.Vst()){const t=this.Ust();this.Mst=this.HO().wO(t)}return this.Mst}}ost(t){if(this._st=!1,this.Mst!==t){this.LZ(),this.Mst=t,this.xst=t.E5().RF(),this.bst=t.H5(),this.Tst=t.MO();for(const s of this.Jst()){const i=s.qst,e=s.$st,n=i.Xst();switch(n){case"instance-variable":{e.Yst();const r=t.E5(),h=r.Zst(s.name),o=r.Kst(h),a=r.Qst(h);o===s.name&&a===s.type&&e.tit(h);break}case"behavior":{const l=s.T6,u=this.E5(),c=t.E5(),f=e.G6(c);if(l&&f){const d=l.Kc();u.sit(d),c.sit(d),e.Yst(),e.iit(f.Zz())}break}}}}}*Jst(){for(const t of this.Fst){const s=t.ntt(),i=this.E5(),e={qst:t,$st:s};switch(t.Xst()){case"world-instance":e.property=t.cst();break;case"instance-variable":{const n=s.Yst();e.name=i.Kst(n),e.type=i.Qst(n);break}case"effect":{const r=i.Xk(),h=s.eit(r);e.nit=h;break}case"behavior":{const o=s.G6(i);e.T6=o;break}case"plugin":e.Tk=i._k()}yield e}}MO(){if(!this.Tst||!this.Vst()){const t=this.JW();t&&(this.Tst=t.MO())}return this.Tst}rit(){return this.Sst}Ust(){return isNaN(this.bst)?this.Sst.Ust():this.bst}hit(t){this.Sst.hit(t)}ctt(){return this.Sst.ctt()}ftt(t){this.Sst.ftt(t)}pK(){return this.Sst.pK()}YW(){return this.Sst.YW()}Qtt(){return this.Sst.Qtt()}oit(){return this.Sst.oit()}ait(t){this.Sst.ait(t)}dtt(t){this.Sst.dtt(t)}zW(t){for(const s of this.pst())s.zW(t);for(const i of this.ust())i.zW(t)}lit(){return this.Sst.lit()}uit(t){this.Sst.uit(t)}Hst(){return isNaN(this.xst)?this.Sst.Hst():this.xst}cit(t){this.Sst.cit(t)}dit(t){this.Sst.dit(t)}pit(){const t=this.JW();if(t){const s=t.g6();if(s.mit())return t.g6().pit()}return this.Sst.pit()}git(t){this.Sst.git(t)}yit(){const t=this.JW();if(t){const s=t.g6();if(s.mit())return t.g6().yit()}return this.Sst.yit()}wT(){return this.Sst.wT()}Kc(){return this.Sst.Kc()}ott(){return 0===this.wT()}wit(){return 1===this.wT()}Sit(){return 2===this.wT()}vit(){return this.Ost}IZ(){return this.BY}Xtt(){return this.Lst}eP(){return this.ZC}Wtt(){for(const t of this.Fst)t.Wtt()}GZ(){if(this.jst(),this.Vst()||!this.ott()){const t=this.Wst(),s=t.wtt(),i=s?0:this.oit();for(const n of this.Fst)n.GZ(i),0===this.Ost&&1===n.vit()&&(this.Ost=1),0===this.BY&&1===n.IZ()&&(this.BY=1);this.Lst=0;const e=this.Fst.some(t=>t.Xtt());e&&(this.Lst=1),this.Pst=this.bit(i),this.Gst=!1,this.Ist=!1,this.Vc(i),this.xit(this.bit(i))}}qtt(){if(this.jst(),this.Vst()||!this.ott()){this.QZ.wtt();const t=this.QZ.u3()-this.Qtt();this.Pst=this.bit(t);for(const s of this.Fst)s.qtt(t)}}Ztt(){if(!this.Wst().FZ()&&(this.jst(),this.Vst()||!this.ott())&&!this.ZC){const t=this.QZ.u3(),s=this.Qtt()+this.oit();s<=t?this.Vc(this.oit(),!0,!1,!0,!1,!1,!0):t<=0&&this.Vc(0,!0,!1,!0,!1,!1,!0)}}$tt(){for(let t=0,s=this.Fst.length;t<s;t++){const i=this.Fst[t];i.$tt(),0===this.Ost&&1===i.vit()&&(this.Ost=1),0===this.BY&&1===i.IZ()&&(this.BY=1)}}Ktt(){const s=this.Fst.length;for(let t=0;t<s;t++)this.Fst[t].Ktt()}Vc(i,t=!1,e=!1,n=!1,s=!1,r=!1,h=!1){this.Mst||this.JW();const o=this.Mst&&!this.Mst.Yj(),a=0===this.Sst.yf;if((o||!a)&&!(r&&a&&this.E5().Cz()||(i-=this.Qtt())<0)){this.Mit(i,t),this.Tit(i,t,s);for(let t=0,s=this.Fst.length;t<s;t++)this.Fst[t].Vc(i,e,n,h);this._it(i,t),0!==this.Ost&&(this.Tst||(this.Tst=this.Mst.MO()),this.Tst)&&this.Tst.zN()}}tst(){const s=this.Fst.length;for(let t=0;t<s;t++)this.Fst[t].tst()}Mit(t,s){if(s&&this.ZC&&!this.Gst){const i=this.Wst();if(i.wtt()){if(t<0)return}else if(t>this.oit())return;for(const e of this.Fst)e.GZ();this.Gst=!0}}_it(t,s){if(s&&this.ZC&&!this.Ist){const i=this.Wst();if(i.wtt()){if(t>=this.oit()){for(const e of this.Fst)e.Vc(this.oit(),!1,!0);this.Ist=!0}}else if(t<=0){for(const n of this.Fst)n.Vc(0,!1,!0);this.Ist=!0}}}Tit(t,s,i){if(!i&&s&&Nr.nX.Timeline){const e=this.Wst(),n=this.Pst.hK(),r=this.Pst.u3(),h=n?n.u3():e.IW();if(t<=r||h<=t)if(this.Pst=this.vst.Git(t,this.Sst),e.wtt())n&&this.xit(this.Pst);else{const o=this.Pst.hK();o&&this.xit(o)}}}bit(t){const s=this.vst.Iit(t,this.Sst);return s||this.vst.Git(t,this.Sst)}xit(t){if(Nr.nX.Timeline){const s=this.Wst(),i=s.itt();Nr.nX.Timeline.iX.PushTriggerTimeline(s),Nr.nX.Timeline.iX.PushTriggerKeyframe(t),i.gN(Nr.nX.Timeline.iX.OnAnyKeyframeReached),i.gN(Nr.nX.Timeline.iX.xit),Nr.nX.Timeline.iX.PopTriggerTimeline(s),Nr.nX.Timeline.iX.PopTriggerKeyframe(t)}}Cit(){const t=this.Sst.Rst(),s=t.Pit();return s}Eit(){const t=this.Sst.Bst(),s=t.Ait(),i=Nr.Nst.gM(this,s);return this.Fst.push(i),i}Rit(t){const s=this.Sst.Rst();s.Fit(t)}Dit(t){for(const s of this.Fst)s.Dit(t)}Oit(){for(const t of this.Fst)t.Oit()}Lit(){if(this.jst(),this.Vst()||!this.ott())for(const t of this.Fst)t.Lit()}kit(){if(this.jst(),this.Vst()||!this.ott()){let t=!1;for(const s of this.Fst){const i=s.kit();!t&&i&&(t=!0)}if(t){const e=this.Cit();e._W(this.Wst().u3()),e.zW("noease"),e.uit(!0),e.Stt("")}}}DY(){isNaN(this.Cst)||this.Bit(this.Cst),this.Cst=NaN}mq(){const t=this.JW(),s=t?t.H5():this.Ust();return{propertyTracksJson:this.Nit(),lastKeyframeDataItemJson:this.Wit(),initialStateOfNestedSet:this.Gst,endStateOfNestedSet:this.Ist,instanceUid:s,cleared:this._st}}gq(t){if(t){this.jit(t.propertyTracksJson),this.Vit(t.lastKeyframeDataItemJson),this.Cst=t.instanceUid,this.Gst=!1,t.hasOwnProperty.initialStateOfNestedSet&&(this.Gst=t.initialStateOfNestedSet),this.Ist=!1,t.hasOwnProperty.endStateOfNestedSet&&(this.Ist=t.endStateOfNestedSet),this._st=!!t.hasOwnProperty("cleared")&&t.cleared;for(const s of this.Fst)0===this.Ost&&1===s.vit()&&(this.Ost=1),0===this.BY&&1===s.IZ()&&(this.BY=1);this.Lst=0,this.Fst.some(t=>t.Xtt())&&(this.Lst=1)}}Wit(){const t=this.Sst.Rst();return t.Uit(this.Pst)}Nit(){return this.Fst.map(t=>t.mq())}jit(t){t.forEach((t,s)=>{const i=this.Fst[s];i.gq(t)})}Bit(t){if(Nr.ge(t)){const s=this.HO().wO(t);if(s){const i=this.Wst();i.hst(this.Sst.YW(),s,this.zst())}}}Vit(t){const s=this.Sst.Rst();this.Pst=s.Hit(t)}}}{const Wr=self.Bs;Wr.Nst=class extends Wr.rr{constructor(t,s){super(),this.zit=t,this.Jit=s,this.qit=s.Bst(),this.Ost=0,this.BY=0,this.Lst=0,this.$it=this.ntt(),this.Xit=this.Jit.Zit().Yit(),this.Kit=null,this.Qit=null}static gM(t,s){return Wr.lr(Wr.Nst,t,s)}ur(){this.zit=null,this.$it&&(this.$it.ur(),this.$it=null),this.Xit=null,this.Jit=null,this.qit=null}vit(){return this.Ost}IZ(){return this.BY}Xtt(){return this.Lst}tet(){return!!this.Qit}iet(t){this.Qit=t}eet(){return this.Qit}net(){return this.zit}ret(){return this.Jit}Bst(){return this.qit}Wst(){return this.zit.Wst()}HO(){return this.zit.HO()}JW(){return this.zit.JW()}ntt(){if(!this.$it){let t=this.Jit.Xst(),s;switch(t){case"behavior":s=new Wr.Nst.het(this);break;case"effect":s=new Wr.Nst.oet(this),this.BY=1;break;case"instance-variable":s=new Wr.Nst.aet(this);break;case"plugin":s=new Wr.Nst.let(this),this.BY=1;break;case"world-instance":s=new Wr.Nst.uet(this),this.BY=1,this.Ost=1;break;case"value":s=new Wr.Nst.cet(this);break;case"audio":s=new Wr.Nst.fet(this)}this.$it=s}return this.$it}Xst(){return this.Jit.Xst()}det(t){this.Jit.det(t)}pet(){return this.Jit.met()}yet(t){this.Jit.wet(t)}ZW(){return this.ntt().vet()}cst(){return this.Jit.bet()}xet(t){this.Jit.Met(t)}Tet(){return this.Jit.wT()}_et(t){this.Jit.Get(t)}Iet(){return this.Bst().Cet(this.Jit).wT()}Pet(){return this.Jit.Pet()}Eet(t){this.Jit.Eet(t)}Aet(){return this.Jit.Aet()}Ret(t){this.Jit.Ret(t)}lit(){return this.Jit.lit()}uit(t){this.Jit.uit(t)}ctt(){return this.Jit.ctt()}ftt(t){this.Jit.ftt(t)}pK(){return this.Jit.pK()}dtt(t){this.Jit.dtt(t)}zW(t){for(const s of this.Fet())s.zW(t)}Det(){return this.Jit.Det()}Fet(){return this.Xit||(this.Xit=this.Jit.Zit().Yit()),this.Xit}rK(){return this.Jit.Zit().rK()}Oet(t){return this.qit.Oet(t,this.Jit)}Let(t){return this.qit.Let(t,this.Jit)}ket(t){let s=this.qit.Oet(t,this.Jit),i;return i=s?this.qit.Bet(t,this.Jit):(s=this.qit.Let(t,this.Jit),this.qit.Net(t,this.Jit)),{start:s,end:i}}*Wet(){for(const t of this.Fet())yield t.bK()}*jet(){for(const t of this.Fet())yield t.u3()}est(){this.ntt().est()}LZ(){this.ntt().LZ()}Vet(){return this.ntt().Vet()}Wtt(){this.ntt().Wtt()}GZ(t){this.ntt().GZ(),this.Kit=this.Uet(t),this.$tt()}qtt(t){this.ntt().qtt(),this.Kit=this.Uet(t)}$tt(){const t=this.net();if(this.Lst=0,t.ott()){const s=this.Wst(),i=t.JW(),e=this.ntt(),n=this.cst(),r=e.Het();if(r){const h=s.ett(i,e,n,this);h&&h.length&&(this.Lst=1)}else this.Lst=0}}Uet(t){const s=this.Wst(),i=this.qit.Oet(t,this.Jit);return i||(s.wtt()?this.qit.Let(t,this.Jit):this.qit.Net(t,this.Jit))}Ktt(){this.$it.Ktt()}Vc(t,s=!1,i=!1,e=!1){let n,r,h=!1;if(s)n=this.qit.Let(t,this.Jit);else{if(this.Kit){const o=this.Wst(),a=this.Kit.hK(),l=this.Kit.u3(),u=a?a.u3():o.IW();(t<=l||u<=t)&&(this.Kit=this.qit.Let(t,this.Jit),h=!0)}else this.Kit=this.qit.Let(t,this.Jit),h=!0;n=this.Kit}n&&(r=n.hK()),this.$it.Vc(t,n,r,s,i,e,h)}zet(t){if(this.Kit){const e=this.Wst(),n=this.Kit.hK(),r=this.Kit.u3(),h=n?n.u3():e.IW();(t<=r||h<=t)&&(this.Kit=this.qit.Let(t,this.Jit))}else this.Kit=this.qit.Let(t,this.Jit);const s=this.Kit,i=s.hK();return this.$it.zet(t,s,i)}Jet(t,s,i){return this.$it.zet(t,s,i)}tst(){this.$it.tst()}static qet(t,s){const i=s.ret(),e=s.qit;return e.Let(t,i)}static $et(t,s){const i=s.ret(),e=s.qit;return e.Net(t,i)}Xet(){const t=this.Jit.Zit(),s=t.Yet();return this.Kit=null,s}Dit(t){this.Kit=null;const s=this.Jit.Zit();s.Zet(t)}Oit(){this.ntt().Oit()}Lit(){const t=this.ntt().Lit();if(t){const s=this.qit.Cet(this.Jit),i=this.ntt().Vet();s.Ket(i)}}kit(){const t=this.ntt().kit();return t&&this.Qet(),this.ntt().tnt(),t}Qet(){const t=this.Wst().u3(),s=this.ntt(),i=Wr.Nst.qet(t,this),e=this.Xet();e.Get(i.wT()),e._W(t),e.zW(i.snt()),e.uit(!0),e.int(s.ent()),e.Ket(s.Vet())}mq(){return{sourceAdapterJson:this.ntt().mq()}}gq(t){t&&this.ntt().gq(t.sourceAdapterJson)}}}{const jr=self.Bs,Vr=jr.Nst;Vr.uet=class{constructor(t){this.nnt=t,this.rnt=null,this.hnt()}ur(){this.rnt&&(this.rnt.ur(),this.rnt=null),this.nnt=null}Het(){return this.rnt.Het()}KW(){return this.nnt}est(){this.rnt&&this.rnt.est()}LZ(){this.rnt&&this.rnt.LZ()}hnt(){return this.rnt||(this.rnt=this.ont()),this.rnt}Yst(){}RF(){return this.Yst()}ant(){}Wtt(){this.hnt().Wtt()}GZ(){this.hnt().GZ()}qtt(){this.hnt().qtt()}Ktt(){this.rnt.lnt()}Vc(t,s,i,e,n,r,h){let o=this.nnt.Iet(),a;switch(o){case"numeric":a=Vr.unt.Vc(t,s,i,this.nnt);break;case"angle":a=Vr.cnt.Vc(t,s,i,this.nnt);break;case"boolean":a=Vr.fnt.Vc(t,s,i,this.nnt);break;case"color":a=Vr.dnt.Vc(t,s,i,this.nnt);break;case"text":a=Vr.pnt.Vc(t,s,i,this.nnt)}this.rnt.mnt(t,a,s,i,e,n,r,h)}zet(t,s,i){switch(this.nnt.Iet()){case"numeric":return Vr.unt.Vc(t,s,i,this.nnt);case"angle":return Vr.cnt.Vc(t,s,i,this.nnt);case"boolean":return Vr.fnt.Vc(t,s,i,this.nnt);case"color":return Vr.dnt.Vc(t,s,i,this.nnt);case"text":return Vr.pnt.Vc(t,s,i,this.nnt)}}tst(){this.rnt.gnt()}Oit(){this.hnt().ynt()}tnt(){this.hnt().tnt()}Vet(){return this.hnt().Vet()}Lit(){return this.hnt().Lit()}kit(){return this.hnt().kit()}ent(){const t=this.nnt,s=t.net(),i=s.Wst().u3(),e=Vr.qet(i,t),n=e.hK(),r=t.Iet();switch(r){case"numeric":return Vr.unt.Vc(i,e,n,t);case"angle":return Vr.cnt.Vc(i,e,n,t);case"boolean":return Vr.fnt.Vc(i,e,n,t);case"color":return Vr.dnt.Vc(i,e,n,t);case"text":return Vr.pnt.Vc(i,e,n,t)}}ont(){const t=this.nnt,s=t.Det()?t.Iet():"";switch(s){case"combo":case"boolean":case"text":case"string":return new Vr.Snt.wnt(this);case"numeric":case"number":case"angle":return new("combo"===this.nnt.Tet()?Vr.Snt.wnt:Vr.Snt.vnt)(this);case"color":case"offsetColor":return new Vr.Snt.bnt(this);default:return new Vr.Snt.vnt(this)}}mq(){return{propertyAdapterJson:this.hnt().mq()}}gq(t){t&&this.hnt().gq(t.propertyAdapterJson)}}}{const Ur=self.Bs;class Hr extends Ur.Nst.uet{constructor(t){super(t),this.xnt=NaN}Yst(){return this.nnt.ret().met()[0]}RF(){return this.xnt||super.RF()}ant(){return this.nnt.net().JW()}tit(t){const s=this.nnt.ret().met()[0];s!==t&&(this.xnt=t)}Vc(t,s,i,e,n,r,h){this.hnt().Mnt(s.vet())&&super.Vc(t,s,i,e,n,r,h)}zet(t,s,i){if(this.hnt().Mnt(s.vet()))return super.zet(t,s,i)}mq(){return Object.assign(super.mq(),{index:this.xnt})}gq(t){t&&(super.gq(t),this.xnt=t.index)}}Ur.Nst.aet=Hr}{const zr=self.Bs;class Jr extends zr.Nst.uet{constructor(t){super(t),this.m7=NaN}Yst(){const t=this.nnt.ret();return t.met()[1]}ant(){const t=this.nnt.ret(),s=this.nnt.net(),i=this.m7||t.met()[0],e=s.JW(),n=e.Tnt(i),r=e._nt()[n];return r.g6()}G6(t){const s=this.nnt.ret(),i=s.met()[2];return t.Gnt(i)}iit(t){const s=this.nnt.ret();s.met()[0]!==t&&(this.m7=t)}Vc(t,s,i,e,n,r,h){const o=this.nnt.net(),a=o.JW();this.G6(a.E5())&&super.Vc(t,s,i,e,n,r,h)}zet(t,s,i){const e=this.nnt.net(),n=e.JW();if(this.G6(n.E5()))return super.zet(t,s,i)}mq(){return Object.assign(super.mq(),{sid:this.m7})}gq(t){t&&(super.gq(t),this.m7=t.sid)}}zr.Nst.het=Jr}{const qr=self.Bs;class $r extends qr.Nst.uet{constructor(t){super(t)}Yst(){return this.nnt.ret().met()[1]}ant(){const t=this.nnt,s=t.net(),i=s.MO(),e=i.UN(),n=e.Xk(),r=this.eit(n),h=r.RF();return e.R6(h)?e.Int(h):null}eit(t){const s=this.nnt,i=s.ret().met()[0];return t.Cnt(i)}Vc(t,s,i,e,n,r,h){this.Pnt()&&super.Vc(t,s,i,e,n,r,h)}zet(t,s,i){if(this.Pnt())return super.zet(t,s,i)}Pnt(){const t=this.nnt,s=t.net(),i=s.MO(),e=i.UN(),n=e.Xk(),r=this.eit(n);if(r){const h=r.RF();return e.R6(h)}}}qr.Nst.oet=$r}{const Xr=self.Bs;class Yr extends Xr.Nst.uet{constructor(t){super(t)}Yst(){return this.nnt.ret().met()[0]}ant(){return this.nnt.net().JW().g6()}Vc(t,s,i,e,n,r,h){const o=this.nnt.net(),a=o.E5()._k(),l=o.JW().E5()._k();a===l&&super.Vc(t,s,i,e,n,r,h)}zet(t,s,i){const e=this.nnt.net(),n=e.E5()._k(),r=e.JW().E5()._k();if(n===r)return super.zet(t,s,i)}Ent(){const t=this.nnt.net(),s=t.E5()._k();if(Xr.nX.Ant&&s instanceof Xr.nX.Ant&&("initial-frame"===this.nnt.cst()||"initial-animation"===this.nnt.cst()))switch(this.nnt.pK()){case"relative":case"absolute":return null}}}Xr.Nst.let=Yr}{const Zr=self.Bs;class Kr extends Zr.Nst.uet{constructor(t){super(t),this.Rnt=0,this.Fnt=!1}Het(){return!1}GZ(){let t=this.nnt.Bst(),s=this.nnt.ret();s=t.Cet(s),this.Rnt=s.bK()}qtt(){}vet(){return this.Fnt||this.nnt.Vc(0),this.Rnt}Vc(t,s,i,e,n,r,h){this.Rnt=Zr.Nst.unt.Vc(t,s,i,this.nnt),this.Fnt=!0}Oit(){}tnt(){}Vet(){return this.Rnt}Lit(){return!1}kit(){return!1}mq(){return{value:this.Rnt,init:this.Fnt}}gq(t){t&&(this.Rnt=t.value,this.Fnt=!t.hasOwnProperty("init")||t.init)}}Zr.Nst.cet=Kr}{const Qr=self.Bs;class th extends Qr.Nst.uet{constructor(t){super(t),this.Dnt=!1,this.Ont=null,this.Lnt=null,this.knt=null,this.QZ=this.nnt.Wst(),this.zit=this.nnt.net(),this.Bnt=this.nnt.pet(),this.Nnt=this.Bnt[0],this.Wnt=this.Bnt[1],this.Bnt[3]?this.jnt=this.Bnt[3]:this.jnt=Math.random().toString(36).slice(2),this.Vnt=NaN,this.Unt=NaN,this.Hnt=NaN,this.znt=null,this.Jnt()}ur(){super.ur(),this.Ont=null,this.Lnt=null,this.knt=null,this.QZ=null,this.zit=null,this.Bnt=null,this.Nnt=null,this.znt=null}Jnt(){if(self.Bs.nX.Audio){const t=this.nnt.HO(),s=t.qnt(self.Bs.nX.Audio);s&&(this.Ont=s.xk().g6()),this.Lnt=self.Bs.nX.Audio.$nt,this.knt=self.Bs.nX.Audio.Xnt}}Ynt(){if(!this.znt){const t=this.nnt.net(),s=t.KW("audioSource");s&&(this.znt=s.ntt())}}Znt(){const t=this.nnt.net(),s=t.KW("volume");return(s?s.ntt():this).Unt}est(){super.est(),this.Dnt=!1,this.Ont&&(this.knt&&(this.Vnt=this.knt.Knt.call(this.Ont,this.jnt),this.Unt=this.knt.Qnt.call(this.Ont,this.jnt)),this.Lnt)&&this.Lnt.xW.call(this.Ont,this.jnt)}trt(){return this.jnt}srt(){return this.Hnt}irt(t){this.Hnt=t}GZ(){super.GZ(),this.Vnt=NaN,this.Dnt=!1}qtt(){super.qtt();const t=this.nnt.Wst(),s=t.u3();switch(this.Vnt=s-this.Wnt,this.nnt.cst()){case"audioSource":break;case"volume":this.Unt=this.nnt.zet(s)}this.Dnt=!1}Vc(t,s,i,e,n,r,h){if(this.Ont)switch(this.nnt.cst()){case"audioSource":{if(!this.QZ.wtt())return;if(e)return void(this.Lnt&&this.Lnt.xW.call(this.Ont,this.jnt));if(t<this.Wnt)return void(this.Dnt=!1);const o=this.knt.ert.call(this.Ont,this.jnt),a=this.QZ.DW();if(a!==o&&this.Lnt.FW.call(this.Ont,this.jnt,a),this.Dnt)return;if(!this.nnt.Wst().IsPlaying())return;if(this.Dnt=!0,isNaN(this.Vnt)){const l=self.performance.now(),u=t-this.Wnt,c=this.Ont.nrt();if("suspended"===c)return void(this.Dnt=!1);const f=self.performance.now(),d=(f-l)/1e3,p=u+d;if(this.Lnt){let t=this.srt();isNaN(t)?(this.irt(0),t=0):this.irt(t),this.Lnt.rrt.call(this.Ont,this.Nnt,t,this.jnt,p)}}else{const m=this.Vnt,g=(this.Vnt=NaN,this.Znt()),y=(this.Unt=NaN,this.Ont.nrt());if("suspended"===y)return void(this.Dnt=!1);this.Lnt&&(this.irt(g),this.Lnt.rrt.call(this.Ont,this.Nnt,g,this.jnt,m))}break}case"volume":this.Ynt(),super.Vc(t,s,i,e,n,r,h)}}zet(t,s,i){if(this.Ont)switch(this.nnt.cst()){case"audioSource":return;case"volume":return this.Ynt(),super.zet(t,s,i)}}hrt(t,s){return this.znt?this.znt.srt():0}ort(t,s,i,e){this.znt&&this.znt.irt(this.hrt()+s),this.Lnt&&this.znt&&this.Lnt.irt.call(this.Ont,this.znt.trt(),this.znt.srt())}art(t,s,i){this.znt&&this.znt.irt(s),this.Lnt&&this.znt&&this.Lnt.irt.call(this.Ont,this.znt.trt(),this.znt.srt())}lrt(){return!0}mq(){return{audioPlaybackStarted:this.Dnt,audioTag:this.jnt,pauseTime:this.Vnt,pauseVolume:this.Unt,volume:this.Hnt}}gq(t){t&&(this.Dnt=t.audioPlaybackStarted,this.jnt=t.audioTag,this.Vnt=t.pauseTime,this.Unt=t.pauseVolume,this.Hnt=t.volume,this.Jnt())}}Qr.Nst.fet=th}{const sh=self.Bs;sh.Nst.Snt=class{constructor(t){this.$it=t,this.nnt=t.KW(),this.Tst=this.nnt.net().MO(),this.urt=this.nnt.cst(),this.crt=!1,this.frt=null,this.drt=null}ur(){this.$it=null,this.nnt=null,this.Tst=null,this.frt=null,this.drt=null}Het(){return!1}est(){}LZ(){this.Tst=null,this.frt=null,this.drt=null}ntt(){return this.$it}KW(){return this.nnt}MO(){return this.Tst||(this.Tst=this.nnt.net().MO()),this.Tst}prt(t){this.crt=!!t}mrt(){return this.crt}Wtt(){}GZ(){}qtt(){}ynt(){this.frt=this.Vet()}tnt(){this.frt=null}Vet(){}Lit(){}kit(){}Mnt(t){const s=typeof this.grt(),i=typeof t;return s==i}lnt(){}mnt(t,s,i,e,n,r,h,o){}gnt(){}yrt(){const t=this.wrt(()=>{const t=this.nnt.ret(),s=this.nnt.Bst();return s.Cet(t)},()=>{const t=this.nnt.ret(),s=this.nnt.Bst();return s.Srt(t)});return t.vrt()}brt(){const t=this.nnt.Wst(),e=t.u3()-this.nnt.net().Qtt(),s=this.wrt(()=>{const t=this.nnt.ret(),s=this.nnt.Bst();return s.Let(e,t)},()=>{const t=this.nnt.ret(),s=this.nnt.Bst(),i=s.Net(e,t);return i||s.Srt(t)});return s.vrt()}wrt(t,s){const i=this.nnt.Wst();return(i.wtt()?t:s)()}xrt(t,s){const i=this.nnt.pK();return("relative"===i?t:s)()}Mrt(t,s){return(this.mrt()?(this.prt(!1),t):s)()}Trt(t){}_rt(){return this.$it.RF()}Grt(){return this.drt||(this.drt=this.$it.ant()),this.drt}Irt(t,s,i,e,n,r){const h=this.nnt.Xst();switch(h){case"behavior":return t();case"effect":return s();case"instance-variable":return i();case"plugin":return e();case"world-instance":return n();case"audio":return r()}}mq(){return{firstAbsoluteUpdate:this.crt,saveState:this.frt}}gq(t){t&&(this.crt=t.firstAbsoluteUpdate,this.frt=t.saveState)}Crt(t,s=!1){const i=[];for(const e of t){const n=e.net().Qtt();for(const r of e.Fet())(s&&0===r.u3()||!s)&&i.push({time:n+r.u3(),value:r.vrt()})}return i.sort((t,s)=>t.time-s.time)}Prt(t,s,i){return this.Ert(s,i)}Ert(s,i){for(let t=i.length-1;0<=t;t--){const e=i[t].time;if(e<=s)return i[t]}return null}}}{const ih=self.Bs,eh=new Map,nh=[0,0,0];class rh extends ih.Nst.Snt{constructor(t){super(t)}Wtt(){}GZ(){}qtt(){}Vet(){const t=this.nnt.Xst(),s=this.Grt(),i=this._rt();switch(t){case"behavior":return this.Art(s.Rrt(i));case"effect":return this.Art(s[i]);case"plugin":return this.Art(s.Rrt(i));case"world-instance":return this.Art(this.grt())}}Lit(){const t=this.yrt();return!this.Frt(t,this.grt())}kit(){return!ih.Se(this.frt)&&!this.Frt(this.frt,this.grt())}Frt(t,s){return t=this.Drt(t),s=this.Drt(s),t.fa(s)}yrt(){const t=super.yrt();return this.Drt(t)}brt(){const t=super.brt();return this.Drt(t)}Trt(t){}Art(t){return(ih.sn(t,ih.Uo)?t.toArray():t).slice(0,3)}Drt(t){return ih.sn(t,ih.Uo)?t:new ih.Uo(t[0],t[1],t[2],1)}Mnt(t){return!0}Het(){return!0}lnt(){const t=this.nnt.Wst(),s=this.nnt.JW(),i=this.nnt.ntt(),e=t.ett(s,i,this.urt,this.nnt);if(e&&1<e.length){eh.has(s)||eh.set(s,new Map);const n=eh.get(s),r=this.nnt.Xst(),h=(n.has(r)||n.set(r,new Map),n.get(r));h.has(this.urt)||h.set(this.urt,{Ort:!1,color:new ih.Uo(0,0,0,1)})}}Lrt(t,s,i){const e=eh.get(t).get(s).get(i);return e.Ort=!0,e.color}mnt(t,s,i,e,n,r,h,o){const a=this.nnt.Wst(),l=this.nnt.net(),u=this.nnt.JW(),c=this.nnt.ntt(),f=this.nnt.Xst(),d=this.urt,p=a.ett(u,c,d,this.nnt);if(p&&1<p.length){const m=this.Crt(p,!0),g=this.Prt(a,a.u3(),m);if(g){const y=l.Qtt(),w=g.time-y;if(0==w)this.Lrt(u,f,this.urt).Yo(s[0],s[1],s[2]);else if(!(w<0)){const S=s[0],v=s[1],b=s[2],x=this.nnt.Vc(w,!1,!0),M=ih.Uo.qa(S,x[0]),T=ih.Uo.qa(v,x[1]),_=ih.Uo.qa(b,x[2]);this.Lrt(u,f,this.urt).Yo(M,T,_)}}}else this.krt(s[0],s[1],s[2])}gnt(){const t=this.nnt.JW();if(eh.has(t)){const s=eh.get(t),i=this.nnt.Xst();if(s.has(i)){const e=s.get(i);if(e.has(this.urt)){const n=e.get(this.urt),r=n.Ort,h=n.color;r&&this.krt(h.na(),h.ra(),h.oa()),0===e.size&&s.delete(i),0===s.size&&eh.delete(t)}}}}grt(){const t=this.nnt.Xst(),s=this.Grt(),i=this._rt();switch(t){case"behavior":return this.Drt(s.Rrt(i));case"effect":return s[i].clone();case"plugin":return this.Drt(s.Rrt(i));case"world-instance":return this.MO().r4().clone()}}krt(t,s,i){const e=this.nnt.Xst(),n=this.Grt(),r=this._rt();switch(e){case"behavior":nh[0]=t,nh[1]=s,nh[2]=i,n.Brt(r,nh);break;case"effect":n[r].Xo(t,s,i);break;case"plugin":nh[0]=t,nh[1]=s,nh[2]=i,n.Brt(r,nh);break;case"world-instance":this.MO().Nrt(t,s,i)}}mq(){}gq(t){}}ih.Nst.Snt.bnt=rh}{const hh=self.Bs,oh=hh.Nst;class ah extends hh.Nst.Snt{constructor(t){super(t)}Wtt(){}GZ(){}qtt(){}Vet(){return this.grt()}Lit(){const t=this.yrt();return t!==this.Vet()}kit(){return!hh.Se(this.frt)&&this.frt!==this.Vet()}Het(){return!1}mnt(t,s,i,e,n,r,h,o){const a=this.nnt,l=a.net(),u=a.Xst(),c=a.Wst(),f=l.JW(),d=a.ntt(),p=this.urt,m=c.ett(f,d,p,a);if(m&&1<m.length){const y=this.Crt(m),w=t+l.Qtt(),S=this.Prt(c,w,y);S&&(s=S.value)}const g=a.Iet();switch(g){case"numeric":if(oh.unt.Wrt(this._rt(),this.Grt(),s,u))break;return;case"angle":if(oh.cnt.Wrt(this._rt(),this.Grt(),s,u))break;return;case"boolean":if(oh.fnt.Wrt(this._rt(),this.Grt(),s,u))break;return;case"color":if(oh.dnt.Wrt(this._rt(),this.Grt(),s,u))break;return;case"text":if(!oh.pnt.Wrt(this._rt(),this.Grt(),s,u))return}this.krt(s)}grt(){const t=this.nnt.Xst(),s=this.Grt(),i=this._rt();switch(t){case"behavior":return s.Rrt(i);case"effect":return s[i];case"instance-variable":return s.jrt(i);case"plugin":return s.Rrt(i)}}krt(t){const s=this.nnt.Xst(),i=this.Grt(),e=this._rt();switch(s){case"behavior":i.Brt(e,t);break;case"effect":i[e]=t;break;case"instance-variable":i.Vrt(e,t);break;case"plugin":i.Brt(e,t)}}}hh.Nst.Snt.wnt=ah}{const lh=self.Bs,uh=(lh.Nst.Snt,new Map),ch=(t,s,i,e,n,r=!1,h=null,o=null)=>{uh.set(t,{Urt:s,Hrt:i,zrt:e,round:n,Jrt:r,init:h,reset:o})};ch("offsetX",(t,s,i,e)=>{"relative"===e.nnt.pK()?t.qrt(s,i.Wst().mtt()):t.qrt(s)},(t,s)=>t.C2(s),t=>t.I2(),!0),ch("offsetY",(t,s,i,e)=>{"relative"===e.nnt.pK()?t.$rt(s,i.Wst().mtt()):t.$rt(s)},(t,s)=>t.A2(s),t=>t.E2(),!0),ch("offsetWidth",(s,t,o,i,e)=>{if(0!==t){const n="relative"===i.nnt.pK(),l=1===i.Xrt.wT();if((n||l)&&s.F4()&&s.j4()){if(isNaN(i.Yrt)){let e=[],t=s.v4();for(;t;)e.push(t),t=t.v4();e.reverse();let a=(t,s)=>s.Wst().fst(t.JW()),n=(t,s)=>{const i=a(t,s);if(i)return i.pit();const e=t.JW().g6();return e.mit()?e.pit():t.Krt().Zrt()},r=(t,s,i,e=0)=>{const n=a(t,s);if(!n)return e;const r=n.KW(i);if(!r)return e;const h=r.ret().Zit();if(!h)return e;const o=h.Srt();return o?o.vet():e},h;if(l){let t=e[e.length-1];h=t.um()}else{let s=e[0],t=s.Krt().Zrt(),i=s.Krt().Qrt();h=t*i,h=(h+=r(s,o,"offsetWidth"))+n(s,o)*r(s,o,"offsetScaleX");for(let t=1;t<e.length;t++){const u=(s=e[t]).Krt().Qrt();h=(h=(h*=u)+r(s,o,"offsetWidth"))+n(s,o)*r(s,o,"offsetScaleX")}}i.Yrt=0===h?Number.EPSILON:h}e||s.zm(t/i.Yrt,!0)}else s.zm(t)}},(t,s)=>t.Sm(s),t=>t.um(),!0),ch("offsetHeight",(s,t,o,i,e)=>{if(0!==t){const n="relative"===i.nnt.pK(),a=1===i.Xrt.wT();if((n||a)&&s.F4()&&s.U4()){if(isNaN(i.Yrt)){let e=[],t=s.v4();for(;t;)e.push(t),t=t.v4();e.reverse();let n=(t,s)=>{e=t;const i=s.Wst().fst(e.JW());var e;if(i)return i.yit();const n=t.JW().g6();return n.mit()?n.yit():t.Krt().tht()},r=(t,s,i,e=0)=>{const n=s.Wst().fst(t.JW());if(!n)return e;const r=n.KW(i);if(!r)return e;const h=r.ret().Zit();if(!h)return e;const o=h.Srt();return o?o.vet():e},h;if(a){let t=e[e.length-1];h=t.Mm()}else{let s=e[0],t=s.Krt().tht(),i=s.Krt().sht();h=t*i,h=(h+=r(s,o,"offsetHeight"))+n(s,o)*r(s,o,"offsetScaleY");for(let t=1;t<e.length;t++){const l=(s=e[t]).Krt().sht();h=(h=(h*=l)+r(s,o))+n(s,o)*r(s,o,"offsetScaleY")}}i.Yrt=0===h?Number.EPSILON:h}e||s.iht(t/i.Yrt,!0)}else s.iht(t)}},(t,s)=>t.fm(s),t=>t.Mm(),!0),ch("offsetAngle",(t,s,i,e,n)=>{t.eht(s)},(t,s)=>t.sB(s),t=>t.iB(),!1,!0),ch("offsetOpacity",(t,s,i,e,n)=>{const r=e.nht||1,h=(s/=r,t.OE()),o=h+s;if(0===e.rht)1<o?e.rht+=o-1:o<0&&(e.rht+=o),t.hht(s);else{const a=t.OE()+s;0<s&&0<e.rht?1<a&&(e.rht+=a-1):0<s&&e.rht<0?(e.rht+=s,0<e.rht&&(t.hht(e.rht),e.rht=0)):s<0&&0<e.rht?(e.rht+=s,e.rht<0&&(t.hht(e.rht),e.rht=0)):s<0&&e.rht<0&&a<0&&(e.rht+=a)}},(t,s)=>{t.kE(s)},t=>t.OE(),!1,!0,(r,n,h)=>{switch(r.rht=0,r.nnt.pK()){case"relative":{r.nnt.Bst();let t=r.nnt.ret(),s=t.Zit(),i=s.Yit(),e=r.MO().OE(),n=e;for(const o of i){const a=o.u3(),l=r.nnt.zet(a);n=e+l,n=lh.gr(n,0,1)}r.oht=e-n,r.oht=Math.round(100*(r.oht+Number.EPSILON))/100,n=e;for(let t=i.length-1;0<=t;t--){const u=i[t].u3(),c=r.nnt.zet(u);n-=c,n=lh.gr(n,0,1)}r.aht=n,r.aht=Math.round(100*(r.aht+Number.EPSILON))/100;break}}const t="relative"===r.nnt.pK(),s=1===r.Xrt.wT();if((t||s)&&n.F4()&&n.Y4()){let s=[],t=n.v4();for(;t;)s.push(t),t=t.v4();s.reverse();let i=(t,s,i)=>{const e=s.Wst().fst(t.JW());if(!e)return 0;const n=e.KW(i);if(!n)return 0;const r=n.ret().Zit();if(!r)return 0;const h=r.Srt();return h?h.vet():0},e=s[0].Krt().lht();e+=i(s[0],h,"offsetOpacity");for(let t=1;t<s.length;t++)e+=i(s[t],h,"offsetOpacity");r.nht=0===e?1:e}},i=>{switch(i.nnt.pK()){case"relative":{i.rht=0;let t=i.MO(),s=t.OE();s=Math.round(100*(s+Number.EPSILON))/100,i.nnt.Wst().wtt()?(t.kE(s+i.oht),i.h_=0):(t.kE(s-i.aht),i.h_=i.ntt().ent());break}}}),ch("offsetOriginX",(t,s)=>t.uht(s),(t,s)=>t.cht(s),t=>t.eW(),!1),ch("offsetOriginY",(t,s)=>t.fht(s),(t,s)=>t.dht(s),t=>t.rW(),!1),ch("offsetZElevation",(t,s)=>t.pht(s),(t,s)=>t.F2(s),t=>t.R2(),!0),ch("offsetScaleX",(t,s,i,e)=>{if(0!==s){const n=t.um()<0?-1:1;if("relative"===e.nnt.pK()&&t.F4()&&t.j4()){const r=i.pit()*n*s;isNaN(e.Yrt)&&uh.get("offsetWidth").Urt(t,1,i,e,!0),t.zm(r/e.Yrt,!0)}else t.zm(i.pit()*n*s)}},(t,s,i)=>{t.Sm(i.pit()*s)},(e,n)=>{const r=e.um()<0?-1:1;if(e.j4()){let t=e.v4(),s=n.Wst().fst(t.JW()),i=NaN;if(s)i=t.um()/s.pit();else{const h=t.JW().g6();i=h.mit()?t.um()/h.pit():1}return e.um()*r/(n.pit()*i)}return e.um()*r/n.pit()},!1),ch("offsetScaleY",(t,s,i,e)=>{if(0!==s){const n=t.Mm()<0?-1:1;if("relative"===e.nnt.pK()&&t.F4()&&t.U4()){const r=i.yit()*n*s;isNaN(e.Yrt)&&uh.get("offsetHeight").Urt(t,1,i,e,!0),t.iht(r/e.Yrt,!0)}else t.iht(i.yit()*n*s)}},(t,s,i)=>{t.fm(i.yit()*s)},(e,n)=>{const r=e.Mm()<0?-1:1;if(e.U4()){let t=e.v4(),s=n.Wst().fst(t.JW()),i=NaN;if(s)i=t.Mm()/s.yit();else{const h=t.JW().g6();i=h.mit()?t.Mm()/h.yit():1}return e.Mm()*r/(n.yit()*i)}return e.Mm()*r/n.yit()},!1);class fh extends lh.Nst.Snt{constructor(t){super(t),this.h_=0,this.rht=0,this.oht=0,this.aht=0,this.nht=NaN,this.Yrt=NaN,this.mht=void 0,this.ght=void 0,this.yht=null,this.wht=null,this.Sht=null,this.vht=null,this.bht=null,this.xht=null,this.Mht=null,this.Tht=null,this._ht=!1,this.Ght=!1,lh.sn(this.nnt.Wst(),lh.Iht)?this.Xrt=new lh.Nst.Snt.Cht(this):this.Xrt=new lh.Nst.Snt.Pht(this);const s=this.nnt.cst();switch(this.nnt.Xst()){case"world-instance":{const i=uh.get(s);this.yht=i.zrt,this.wht=i.Urt,this.Sht=i.Hrt,this._ht=i.round,this.Ght=i.Jrt,this.bht=i.init,this.vht=i.reset;break}case"audio":this.xht=t.hrt,this.Mht=t.ort,this.Tht=t.art,this._ht=!!t.lrt(),this.Ght=!1}}ur(){this.Xrt=null,this.yht=null,this.wht=null,this.Sht=null,this.vht=null,this.bht=null,this.xht=null,this.Mht=null,this.Tht=null,super.ur()}Het(){return this.Xrt.Het()}Eht(){return this.h_}Aht(t){this.h_=t}Wtt(){this.vht&&this.vht(this)}GZ(){const t=this.Xrt.GZ();if("number"==typeof t&&(this.h_=t),this.bht){const s=this.MO(),i=this.nnt.net();this.bht(this,s,i)}}qtt(){const t=this.Xrt.qtt();"number"==typeof t&&(this.h_=t)}Vet(){return this.grt()}Lit(){const t=this.yrt();return t!==this.Vet()}kit(){return!lh.Se(this.frt)&&this.frt!==this.Vet()}lnt(){this.Xrt.lnt()}mnt(t,s,i,e,n,r,h,o){return this.Xrt.mnt(t,s,i,e,n,r,h,o)}gnt(){this.Xrt.gnt()}grt(){const t=this.Grt(),s=this._rt(),i=this.MO(),e=this.nnt.net(),n=this.nnt.Xst();switch(n){case"behavior":return t.Rrt(s);case"effect":return t[s];case"instance-variable":return t.jrt(s);case"plugin":return t.Rrt(s);case"world-instance":return this.yht(i,e);case"audio":return this.xht.call(this.ntt(),i,e)}}krt(t,s,i){const e=this.Grt(),n=this._rt(),r=this.MO(),h=this.nnt.net(),o=this.nnt.Xst();switch(o){case"behavior":e.Rht(n,t);break;case"effect":e[n]+=t;break;case"instance-variable":e.Fht(n,t);break;case"plugin":e.Rht(n,t,this.ntt().Ent());break;case"world-instance":this.wht(r,t,h,this);break;case"audio":this.Mht.call(this.ntt(),r,t,h,this)}}Dht(t,s,i){let e=this.nnt.ctt();if("discrete"!==(e="default"===e?"continuous":e)||s){if("discrete"===e&&i){const l=this.nnt.Wst(),u=l.u3(),c=this.nnt.Oet(u);if(!c)return}const n=this.Grt(),r=this._rt(),h=this.MO(),o=this.nnt.net(),a=this.nnt.Xst();switch(a){case"behavior":n.Brt(r,t);break;case"effect":n[r]=t;break;case"instance-variable":n.Vrt(r,t);break;case"plugin":n.Brt(r,t,this.ntt().Ent());break;case"world-instance":this.Sht(h,t,o);break;case"audio":this.Tht.call(this.ntt(),h,t,o)}}}Oht(t,s,i,e,n,r,h,o){this.Xrt.Oht(t,s,i,e,n,r,h,o)}Lht(t,s,i,e,n){let r=(t="angle"===this.nnt.Tet()?lh.vr(t):t).toString(),h=r.split(".")[1]||"",o=h.length,a=this.grt(),l;switch(l=0===o?this._ht?Math.round(a):this.Ght?"angle"===this.nnt.Tet()?lh.Sr(Math.round(lh.vr(a))):Number(lh.toFixed(a,2)):a:this._ht?Number(lh.toFixed(a,o)):(this.Ght,a),this.krt(l-a,s,i),this.nnt.cst()){case"offsetWidth":case"offsetScaleX":{const u=this.MO(),c=u.um(),f=Number(lh.toFixed(c,2));u.zm(f-c);break}case"offsetHeight":case"offsetScaleY":{const d=this.MO(),p=d.Mm(),m=Number(lh.toFixed(p,2));d.iht(m-p);break}}}mq(){return Object.assign(super.mq(),{v:this.h_,a:this.rht,fod:this.oht,bod:this.aht,of:this.nht,sf:this.Yrt,armorf:this.mht,armandf:this.ght})}gq(t){t&&(super.gq(t),this.h_=t.v,this.rht=t.a,this.oht=lh.ge(t.fod)?t.fod:0,this.aht=lh.ge(t.bod)?t.bod:0,this.nht=lh.ge(t.of)?t.of:NaN,this.Yrt=lh.ge(t.sf)?t.sf:NaN,this.mht=lh.ge(t.armorf)?t.armorf:void 0,this.ght=lh.ge(t.armandf)?t.armandf:void 0)}}lh.Nst.Snt.vnt=fh}{const dh=self.Bs;class ph{constructor(t){this.kht=!1,this.Rnt=0,this.Bht=!1,this.Nht=!1,this.Fst=t;for(let t=0,s=this.Fst.length;t<s;t++)this.Fst[t].iet(this)}ust(){return this.Fst}Wht(){this.kht=!0}jht(){return this.kht}int(t){this.Rnt=t}vet(){return this.Rnt}Vht(t){this.Bht=t}Uht(){return this.Bht}Ztt(t){this.Nht=t}Hht(){return this.Nht}l0(){this.kht=!1,this.Rnt=0,this.Bht=!1,this.Nht=!1}}class mh{constructor(t){this.zht=t}ur(){this.zht=null}wT(){return 0}GZ(){const t=this.zht;return this.zht.KW(),t.xrt(()=>t.wrt(()=>0,()=>t.ntt().ent()),()=>{})}qtt(){}Het(){this.zht;const t=this.zht.KW();switch(t.pK()){case"relative":return!1;case"absolute":return!0}}lnt(){this.zht;const t=this.zht.KW(),s=t.cst();switch(t.pK()){case"relative":break;case"absolute":if(t.tet()){const i=t.eet();i.l0()}else{const e=t.Wst(),n=t.JW(),r=t.ntt(),h=e.ett(n,r,s,t);h&&1<h.length&&new ph(h)}}}mnt(t,s,i,e,n,r,h,o){const a=this.zht,l=this.zht.KW();switch(l.pK()){case"relative":{const u=a.Eht();a.krt(s-u,i,e),r&&this.Oht(t,i,e,n,u,s),a.Aht(s);break}case"absolute":{const c=l.Wst(),f=l.net();if(l.JW(),l.ntt(),l.tet()){const d=l.eet(),p=d.ust(),m=a.Crt(p,!0),g=a.Prt(c,c.u3(),m);if(g){const y=f.Qtt(),w=g.time-y;if(0==w)d.Ztt(h),d.Vht(o),d.Wht(),d.int(d.vet()+s);else{if(w<0)return;const S=l.zet(w);d.Ztt(h),d.Vht(o),d.Wht(),d.int(d.vet()+(s-S))}}}else a.Dht(s,o,h);break}}}gnt(){const t=this.zht,s=this.zht.KW();switch(s.pK()){case"relative":break;case"absolute":if(s.tet()){const i=s.eet();i.jht()&&t.Dht(i.vet(),i.Uht(),i.Hht())}}}Oht(t,s,i,e,n,r){const h=this.zht;e||(s&&t===s.u3()?h.Lht(s.bK(),s,i):i&&t===i.u3()?h.Lht(i.bK(),s,i):r-n==0&&h.Lht(s.bK(),s,i))}}dh.Nst.Snt.Pht=mh}{const gh=self.Bs;class yh{constructor(t){this.zht=t}ur(){this.zht=null}wT(){return 1}GZ(){const t=this.zht;return t.prt(!0),this.Trt(t.yrt())}qtt(){const t=this.zht;if(t.yrt()!==t.brt())return t.prt(!0),this.Trt(t.brt())}Het(){return!1}lnt(){}mnt(t,s,i,e,n,r,h,o){const a=this.zht,l=a.Eht();switch(a.KW().pK()){case"relative":a.krt(s-l,i,e),r&&this.Oht(t,i,e,n,l,s,!1,h);break;case"absolute":a.mrt()?(a.prt(!1),a.krt(l,i,e)):0===t&&0===a.KW().Wst().IW()?a.Dht(s,!0,!1):(a.krt(s-l,i,e),r&&this.Oht(t,i,e,n,l,s,this.Jht(),h))}a.Aht(s)}gnt(){}Trt(t){const s=this.zht;return t-s.Vet()}Jht(){let t=this.zht,s=t.MO().JW(),i=t.KW().HO(),e=i.itt(),n=0;for(const r of e.sZ())0===r.wT()?r.hZ(s)&&n++:1===r.wT()&&r.JW()===s&&n++;return n<=1}Oht(t,s,i,e,n,r,h,o){const a=this.zht;e?s&&t===s.u3()?a.Lht(s.bK(),s,i,h,o):i&&t===i.u3()?a.Lht(i.bK(),s,i,h,o):i||a.Lht(s.bK(),s,i,h,o):s&&t===s.u3()?a.Lht(s.bK(),s,i,h,o):i&&t===i.u3()?a.Lht(i.bK(),s,i,h,o):r-n==0&&a.Lht(s.bK(),s,i,h,o)}}gh.Nst.Snt.Cht=yh}{const wh=self.Bs,Sh=self.mc;wh.Nst.unt=class{constructor(){}static Wrt(t,s,i,e){let n;switch(e){case"behavior":n=s.Rrt(t);break;case"effect":n=s[t];break;case"instance-variable":n=s.jrt(t);break;case"plugin":n=s.Rrt(t)}return n!==i}static Vc(r,h,o,a){if(!o){let t=a.ret(),s=a.Bst();return(t=s.Srt(t)).bK()}let l=a.ctt();if("default"===l&&(l="continuous"),"discrete"===(l="combo"===a.Tet()?"discrete":l))return h.bK();if("continuous"===l||"step"===l){const u=a.Wst().ltt();if("step"===l&&0!==u){const g=1/u;r=Math.floor(r*g)/g}const c=h.bK(),f=o.bK(),d=h.SK("cubic-bezier"),p=o.SK("cubic-bezier"),m=d&&d.qht()&&p&&p.$ht();if(!m&&c===f)return c;let t=h.u3(),s=o.u3(),i=("step"===l&&0!==u&&(r=wh.gr(r,t,s)),wh.normalize(r,t,s)),e=h.snt(),n;if(m){const y=s-t;n=Sh.Rc(e)(y*i,0,1,y),n=Sh.Rc("cubicbezier")(n,c,c+d.TK(),f+p.IK(),f)}else n=Sh.Rc(e)((s-t)*i,c,f-c,s-t);return"integer"===a.Tet()?Math.floor(n):n}}}}{const vh=self.Bs;vh.Nst.cnt=class{constructor(){}static Wrt(t,s,i,e){let n;switch(e){case"behavior":n=s.Rrt(t);break;case"effect":n=s[t];break;case"instance-variable":n=s.jrt(t);break;case"plugin":n=s.Rrt(t)}return n!==i}static Vc(t,s,i,e){if(!i){let t=e.ret(),s=e.Bst();return(t=s.Srt(t)).bK()}let n=e.ctt();if("default"===n&&(n="continuous"),"discrete"===(n="combo"===e.Tet()?"discrete":n))return s.bK();if("continuous"===n||"step"===n){const r=e.Wst().ltt();if("step"===n&&0!==r){const c=1/r;t=Math.floor(t*c)/c}const h=s.u3(),o=i.u3(),a=s.bK(),l=i.bK(),u=("step"===n&&0!==r&&(t=vh.gr(t,h,o)),s.SK("angle"));if(!u){if(a===l)return a;const f=vh.normalize(t,h,o),d=self.mc.Rc(s.snt());return vh.Cr(a,l,d(f,0,1,1))}{const p=u.Xht();if(a===l&&0===p)return a;const m=vh.normalize(t,h,o),g=self.mc.Rc(s.snt()),y=g(m,0,1,1);switch(u.Yht()){case"closest":return vh.Cr(a,l,y,p);case"clockwise":return vh.Pr(a,l,y,p);case"anti-clockwise":return vh.Er(a,l,y,p)}}}}}}{const bh=self.Bs;bh.Nst.fnt=class{constructor(){}static Wrt(t,s,i,e){let n;switch(e){case"behavior":n=s.Rrt(t);break;case"effect":n=s[t];break;case"instance-variable":n=s.jrt(t);break;case"plugin":n=s.Rrt(t)}return!!n!=!!i}static Vc(t,s,i,e){if(i)return s.bK()?1:0;{let t=e.ret(),s=e.Bst();return(t=s.Srt(t)).bK()?1:0}}}}{const xh=self.Bs,Mh=[0,0,0],Th=[0,0,0],_h=[0,0,0];xh.Nst.dnt=class{constructor(){}static Wrt(t,s,i,e){let n;switch(e){case"behavior":n=s.Rrt(t);break;case"effect":n=s[t];break;case"instance-variable":n=s.jrt(t);break;case"plugin":n=s.Rrt(t)}return Array.isArray(i)?(Mh[0]=i[0],Mh[1]=i[1],Mh[2]=i[2]):(_h.Ea(i),Mh[0]=Math.floor(255*_h.na()),Mh[1]=Math.floor(255*_h.ra()),Mh[2]=Math.floor(255*_h.oa())),Array.isArray(n)?(Th[0]=n[0],Th[1]=n[1],Th[2]=n[2]):(_h.Ea(n),Th[0]=Math.floor(255*_h.na()),Th[1]=Math.floor(255*_h.ra()),Th[2]=Math.floor(255*_h.oa())),Mh[0]!==Th[0]||Mh[1]!==Th[1]||Mh[2]!==Th[2]}static Vc(t,s,i,e){if(!i){let t=e.ret(),s=e.Bst(),i=(t=s.Srt(t)).bK();return Mh[0]=i[0],Mh[1]=i[1],Mh[2]=i[2],Mh}let n=e.ctt();if("discrete"===(n="default"===n?"continuous":n)){const r=s.bK();return Mh[0]=r[0],Mh[1]=r[1],Mh[2]=r[2],Mh}if("continuous"===n||"step"===n){const h=e.Wst().ltt();if("step"===n&&0!==h){const x=1/h;t=Math.floor(t*x)/x}const o=s.u3(),a=i.u3(),l=s.bK(),u=i.bK(),c=("step"===n&&0!==h&&(t=xh.gr(t,o,a)),xh.normalize(t,o,a)),f=s.snt(),d=l[0],p=l[1],m=l[2],g=u[0],y=u[1],w=u[2],S=self.mc.Rc(f),v=a-o,b=v*c;return Mh[0]=d===g?d:S(b,d,g-d,v),Mh[1]=p===y?p:S(b,p,y-p,v),Mh[2]=m===w?m:S(b,m,w-m,v),Mh}}}}{const Gh=self.Bs;Gh.Nst.pnt=class{constructor(){}static Wrt(t,s,i,e){let n;switch(e){case"behavior":n=s.Rrt(t);break;case"effect":n=s[t];break;case"instance-variable":n=s.jrt(t);break;case"plugin":n=s.Rrt(t)}return n!==i}static Vc(t,s,i,e){if(i)return s.bK();{let t=e.ret(),s=e.Bst();return(t=s.Srt(t)).bK()}}}}{const Ih=self.Bs;Ih.lY=class{constructor(){this.Zht=new Map}ur(){for(const t of this.Zht.values())t.ur();this.Zht.clear(),this.Zht=null}uc(t){const s=new Ih.Kht(t),i=s.Kc();this.Zht.set(i,s)}ei(t){return this.Zht.get(t)}XQ(){return 0}static Qht(t,s,i,e){if(s)for(const n of s)Ih.lY.tot("create",n,t,i,e)}static sot(t,s,i,e){if(s)for(const n of s)Ih.lY.tot("create-including-disabled",n,t,i,e)}static iot(i,t,s,e){i.length?t.forEach((t,s)=>{i[s].gq(t)}):t.forEach(t=>{Ih.lY.tot("load",t,i,s,e)})}static tot(t,s,i,e,n){let r;if("function"==typeof e)switch(t){case"load":r=new e(null,n);break;case"create":case"create-including-disabled":r=new e(s,n)}else if("object"==typeof e){const h=e.prop,o=s[h],a=e.map.get(o);switch(t){case"load":r=new a(null,n);break;case"create":case"create-including-disabled":r=new a(s,n)}}switch(t){case"load":r.gq(s),i.push(r);break;case"create":if("function"==typeof r.lit&&!r.lit())return r.ur();i.push(r);break;case"create-including-disabled":i.push(r)}}}}{const Ch=self.Bs;Ch.Kht=class{constructor(t){this.pr="",this.Ytt=NaN,this.eot=0,this.not="default",this.rot="default",this.hot=!1,this.oot=!1,this.aot=1,this.vst=null,this.lot="",this.uot=!1,this.cot=!0,t&&(this.pr=t[0],this.Ytt=t[1],this.eot=t[2],this.not=t[3],this.rot=t[4],this.hot=!!t[6],this.oot=!!t[7],this.aot=t[8],this.lot=t[9],this.uot=!!t[10],this.cot=!!t[11],this.vst=new Ch.dot(t[5],this))}ur(){this.vst.ur(),this.vst=null}ttt(){return this.vst||(this.vst=new Ch.dot(null,this)),this.vst}Kc(){return this.pr}jV(t){this.pr=t}IW(){return this.Ytt}GW(t){this.Ytt=t}ltt(){return this.eot}utt(t){this.eot=t}ctt(){return this.not}ftt(t){this.not=t}pK(){return this.rot}dtt(t){this.rot=t}EW(){return this.hot}PW(t){this.hot=t}RW(){return this.oot}AW(t){this.oot=t}W6(){return this.aot}ptt(t){this.aot=t}kZ(){return this.lot}mtt(){return this.uot}gtt(){return this.cot}mq(){return{trackDataJson:this.vst.mq(),name:this.pr,totalTime:this.Ytt,step:this.eot,interpolationMode:this.not,resultMode:this.rot,loop:this.hot,pingPong:this.oot,repeatCount:this.aot,startOnLayout:this.lot,transformWithSceneGraph:!!this.uot,useSystemTimescale:this.cot}}gq(t){t&&(this.ttt().gq(t.trackDataJson),this.pr=t.name,this.Ytt=t.totalTime,this.eot=t.step,this.not=t.interpolationMode,this.rot=t.resultMode,this.hot=t.loop,this.oot=t.pingPong,this.aot=t.repeatCount,this.lot=t.startOnLayout,this.uot=!!t.transformWithSceneGraph,this.cot=!!t.useSystemTimescale)}}}{const Ph=self.Bs;class Eh{constructor(t,s){this.vst=s,this.pot=null,this.mot=null,this.bst=NaN,this.xst=NaN,this.not="default",this.rot="default",this.ku=!1,this.got=null,this.qit=null,this.cf="",this.yot=null,this.wot=0,this.Sot=this.vst.att().IW(),this.yf=0,this.pr="",t&&(t[0]&&(this.pot=t[0],this.bst=t[0][2],this.xst=t[0][1]),this.not=t[1],this.rot=t[2],this.ku=!!t[3],t[6]&&(this.cf=t[6]),t[7]&&(this.yot=t[7],this.wot=t[7][0],this.Sot=t[7][1]),t[8]&&(this.mot=t[8]),t[8]&&(this.mot=t[8]),t[9]&&(this.yf=t[9]),t[10]&&(this.pr=t[10]),this.got=new Ph.vot(t[4],this),this.qit=new Ph.bot(t[5],this))}ur(){this.pot=null,this.vst=null,this.got&&(this.got.ur(),this.got=null),this.qit&&(this.qit.ur(),this.qit=null),this.yot=null}ttt(){return this.vst}Rst(){return this.got||(this.got=new Ph.vot(null,this)),this.got}Bst(){return this.qit||(this.qit=new Ph.bot(null,this)),this.qit}xot(){return this.pot}Hst(){return this.xst}cit(t){this.xst=t}Ust(){return this.bst}hit(t){this.bst=t}ctt(){return this.not}ftt(t){this.not=t}pK(){return this.rot}dtt(t){this.rot=t}lit(){return this.ku}uit(t){this.ku=!!t}YW(){return this.cf}Qtt(){return this.wot}oit(){return this.Sot}ait(t){this.Sot=t}pit(){return this.mot[0]}dit(t){this.mot||(this.mot=[]),this.mot[0]=t}yit(){return this.mot||(this.mot=[]),this.mot[1]}git(t){this.mot||(this.mot=[]),this.mot[1]=t}wT(){return this.yf}Kc(){return this.pr}mq(){return{keyframeDataJson:this.got.mq(),propertyTrackDataJson:this.qit.mq(),instanceData:this.pot,additionalInstanceData:this.mot,instanceUid:this.bst,objectClassIndex:this.xst,interpolationMode:this.not,resultMode:this.rot,enabled:this.ku,id:this.cf,nestedData:this.yot,type:this.yf,name:this.pr}}gq(t){t&&(this.pot=t.instanceData,this.bst=t.instanceUid,this.xst=t.objectClassIndex,this.not=t.interpolationMode,this.rot=t.resultMode,this.ku=t.enabled,this.cf=t.id,this.yf=t.type||0,this.pr=t.name||"",this.Sot=this.vst.att().IW(),t.nestedData&&(this.yot=t.nestedData,this.wot=this.yot[0],this.Sot=this.yot[1]),t.additionalInstanceData&&(this.mot=t.additionalInstanceData),this.Rst().gq(t.keyframeDataJson),this.Bst().gq(t.propertyTrackDataJson))}}Ph.dot=class{constructor(t,s){this.SQ=s,this.Mot=[],Ph.lY.Qht(this.Mot,t,Eh,this)}ur(){this.SQ=null;for(const t of this.Mot)t.ur();Ph.Bh(this.Mot),this.Mot=null}att(){return this.SQ}ist(){const t=new Eh(null,this);return this.Mot.push(t),t}Tot(t){return t.Rst().Ast()[0]}_ot(t){const s=t.Rst().Ast();return s.at(-1)}Iit(s,t){const i=t.Rst().Ast(),e=i.length;for(let t=0;t<e;t++){const n=i[t];if(n.u3()===s)return n}}Got(s,t){const i=t.Rst().Ast(),e=i.length;for(let t=0;t<e;t++){const n=i[t];if(n.u3()>s)return n}}Iot(s,t){const i=t.Rst().Ast(),e=i.length;for(let t=0;t<e;t++){const n=i[t];if(n.u3()>=s)return n}}Git(s,t){const i=t.Rst().Ast();for(let t=i.length-1;0<=t;t--){const e=i[t];if(e.u3()<=s)return e}}*QQ(){for(const t of this.Mot)yield t}mq(){return{trackDataItemsJson:this.Mot.map(t=>t.mq())}}gq(t){t&&Ph.lY.iot(this.Mot,t.trackDataItemsJson,Eh,this)}}}{const Ah=self.Bs;class Rh{constructor(t,s){this.qit=s,this.Cot="",this.Pot=null,this.urt=null,this.yf=null,this.Eot=NaN,this.Aot=NaN,this.not="default",this.rot="default",this.ku=!1,this.Rot=null,this.Fot=!0,t&&(this.Cot=t[0][0],this.Pot=t[0].slice(1),this.urt=t[1],this.yf=t[2],this.Eot=t[3],this.Aot=t[4],this.not=t[5],this.rot=t[6],this.ku=!!t[7],this.Rot=new Ah.Dot(t[8],this),this.Fot=t[9])}ur(){this.Rot.ur(),this.Rot=null,this.qit=null,this.Pot=null}Bst(){return this.qit}Zit(){return this.Rot||(this.Rot=new Ah.Dot(null,this)),this.Rot}Xst(){return this.Cot}det(t){this.Cot=t}met(){return this.Pot}wet(t){this.Pot=t}bet(){return this.urt}Met(t){this.urt=t}wT(){return this.yf}Get(t){this.yf=t}Pet(){return this.Eot}Eet(t){this.Eot=t}Aet(){return this.Aot}Ret(t){this.Aot=t}ctt(){return this.not}ftt(t){this.not=t}pK(){return this.rot}dtt(t){this.rot=t}lit(){return this.ku}uit(t){this.ku=!!t}Det(){return!!this.Fot}mq(){return{propertyKeyframeDataJson:this.Rot.mq(),sourceAdapterId:this.Cot,sourceAdapterArguments:this.Pot,property:this.urt,type:this.yf,min:this.Eot,max:this.Aot,interpolationMode:this.not,resultMode:this.rot,enabled:this.ku,canHavePropertyKeyframes:this.Fot}}gq(t){t&&(this.Cot=t.sourceAdapterId,this.Pot=t.sourceAdapterArguments,this.urt=t.property,this.yf=t.type,this.Eot=t.min,this.Aot=t.max,this.not=t.interpolationMode,this.rot=t.resultMode,this.ku=t.enabled,this.Fot=t.canHavePropertyKeyframes,this.Zit().gq(t.propertyKeyframeDataJson))}}Ah.bot=class{constructor(t,s){this.Sst=s,this.Oot=[],Ah.lY.Qht(this.Oot,t,Rh,this)}ur(){this.Sst=null;for(const t of this.Oot)t.ur();Ah.Bh(this.Oot),this.Oot=null}rit(){return this.Sst}Ait(){const t=new Rh(null,this);return this.Oot.push(t),t}Cet(t){const s=t.Zit();return s.Yit()[0]}Srt(t){const s=t.Zit(),i=s.Yit();return i.at(-1)}Oet(s,t){const i=t.Zit(),e=i.Yit(),n=e.length;for(let t=0;t<n;t++){const r=e[t];if(r.u3()===s)return r}}Bet(s,t){const i=t.Zit(),e=i.Yit(),n=e.length;for(let t=0;t<n;t++){const r=e[t];if(r.u3()>s)return r}}Net(s,t){const i=t.Zit(),e=i.Yit(),n=e.length;for(let t=0;t<n;t++){const r=e[t];if(r.u3()>=s)return r}}Let(s,t){const i=t.Zit(),e=i.Yit();for(let t=e.length-1;0<=t;t--){const n=e[t];if(n.u3()<=s)return n}}*kst(){for(const t of this.Oot)yield t}mq(){return{propertyTrackDataItemsJson:this.Oot.map(t=>t.mq())}}gq(t){t&&Ah.lY.iot(this.Oot,t.propertyTrackDataItemsJson,Rh,this)}}}{const Fh=self.Bs;class Dh{constructor(t,s){if(this.got=s,this.uR=-1,this.Lot="noease",this.kot=!1,this.HQ=null,this.Bot=null,t){this.uR=t[0],this.Lot=t[1],this.kot=!!t[2];const i=t[3];this.HQ=i?i.split(" "):[],this.Bot=new Set(this.HQ.map(t=>t.toLowerCase())),this.Not=null}}ur(){this.got=null,Fh.Bh(this.HQ),this.HQ=null,this.Bot.clear(),this.Bot=null,this.Not=null}Rst(){return this.got}hK(){return this.Not}Wot(t){this.Not=t}u3(){return this.uR}_W(t){this.uR=t,this.got.jot()}snt(){return this.Lot}zW(t){this.Lot=t}lit(){return this.kot}uit(t){this.kot=!!t}OW(){return this.HQ}Stt(t){this.HQ=t?t.split(" "):[],this.Bot=new Set(this.HQ.map(t=>t.toLowerCase()))}Vot(){return this.Bot}mst(t){return this.Bot.has(t.toLowerCase())}mq(){return{time:this.uR,ease:this.Lot,enable:this.kot,tags:this.HQ}}gq(t){t&&(this.uR=t.time,this.Lot=t.ease,this.kot=t.enable,this.HQ=t.tags,this.Bot=new Set(this.HQ.map(t=>t.toLowerCase())))}}Fh.vot=class{constructor(t,s){this.Sst=s,this.Est=[],Fh.lY.Qht(this.Est,t,Dh,this),this.jot()}ur(){this.Sst=null;for(const t of this.Est)t.ur();Fh.Bh(this.Est),this.Est=null}jot(){this.Est.sort((t,s)=>t.u3()-s.u3());for(let t=0;t<this.Est.length;t++){const s=this.Est[t];s.Wot(this.Est[t+1])}}rit(){return this.Sst}Uot(){return this.Est.length}Ast(){return this.Est}Pit(){const t=new Dh(null,this);return this.Est.push(t),this.jot(),t}Fit(t){for(const s of this.Est)if(t(s)){const i=this.Est.indexOf(s);-1!==i&&(s.ur(),this.Est.splice(i,1))}this.Hot(),this.jot()}Hot(){this.Est.sort((t,s)=>t.u3()-s.u3())}Uit(t){return this.Est.indexOf(t)}Hit(t){return this.Est[t]}*zot(){for(const t of this.Est)yield t}*Jot(){for(let t=this.Est.length-1;0<=t;t--)yield this.Est[t]}mq(){return{keyframeDataItemsJson:this.Est.map(t=>t.mq())}}gq(t){t&&(Fh.lY.iot(this.Est,t.keyframeDataItemsJson,Dh,this),this.jot())}}}{const Oh=self.Bs;class Lh{constructor(t,s){this.Rot=s,this.Rnt=null,this.qot=null,this.yf="",this.uR=NaN,this.Lot="noease",this.kot=!1,this.$ot=null,this.Xot=void 0,this.Yot="line",t&&(this.Rnt=t[0][0],this.qot=t[0][1],this.yf=t[0][2],this.uR=t[1],this.Lot=t[2],this.kot=!!t[3],this.Yot=t[5],this.$ot=null,t[4]&&(this.$ot=new Oh.Zot(t[4],this)),this.Not=null,this.Kot=null)}ur(){this.Rot=null,this.$ot&&(this.$ot.ur(),this.$ot=null),this.Not=null,this.Kot=null}Qot(){return this.$ot}Wot(t){this.Not=t}hK(){return this.Not}tat(t){this.Kot=t}oK(){return this.Kot}vet(){return this.Rnt}int(t){"color"===this.yf&&Oh.ge(t)?(this.Rnt[0]=Oh.Jr(t),this.Rnt[1]=Oh.qr(t),this.Rnt[2]=Oh.$r(t)):this.Rnt=t}vrt(){return this.qot}Ket(t){"color"===this.yf&&Oh.ge(t)?(this.qot[0]=Oh.Jr(t),this.qot[1]=Oh.qr(t),this.qot[2]=Oh.$r(t)):this.qot=t}bK(){const t=this.Rot.ret().pK();return"relative"===t?this.vet():"absolute"===t?this.vrt():void 0}wT(){return this.yf}Get(t){this.yf=t}u3(){return this.uR}_W(t){this.uR=t,this.Rot.sat()}snt(){return this.Lot}zW(t){this.Lot=t}lit(){return this.kot}uit(t){this.kot=!!t}aK(){return this.Yot}SK(s){if(this.$ot){if(!this.Xot&&null!==this.Xot){const i=this.$ot.iat();if(i){const e=i.length;for(let t=0;t<e;t++){const n=i[t];if(n.YW()===s)return this.Xot=n,this.Xot}}this.Xot=null}return this.Xot}}mq(){const t=this.$ot;return{addonDataJson:t&&t.mq(),value:this.Rnt,aValue:this.qot,type:this.yf,time:this.uR,ease:this.Lot,enable:this.kot}}gq(t){t&&(t.addonDataJson&&this.$ot._SetFromJson(t.addonDataJson),this.Rnt=t.value,this.qot=t.aValue,this.yf=t.type,this.uR=t.time,this.Lot=t.ease,this.kot=t.enable)}}Oh.Dot=class{constructor(t,s){this.Jit=s,this.Xit=[],this.eat=[],Oh.lY.Qht(this.Xit,t,Lh,this),Oh.lY.sot(this.eat,t,Lh,this),this.sat()}ur(){this.Jit=null;for(const t of this.Xit)t.ur();Oh.Bh(this.Xit),this.Xit=null;for(const s of this.eat)s.ur();Oh.Bh(this.eat),this.eat=null}sat(){let s=this.Xit;s.sort((t,s)=>t.u3()-s.u3());for(let t=0;t<s.length;t++){const i=s[t];t+1<s.length&&i.Wot(s[t+1]),0<=t-1&&i.tat(s[t-1])}(s=this.eat).sort((t,s)=>t.u3()-s.u3());for(let t=0;t<s.length;t++){const e=s[t];t+1<s.length&&e.Wot(s[t+1]),0<=t-1&&e.tat(s[t-1])}}Yet(){const t=new Lh(null,this);return this.Xit.push(t),this.sat(),t}Zet(t){for(const s of this.Xit)if(t(s)){const i=this.Xit.indexOf(s);-1!==i&&(s.ur(),this.Xit.splice(i,1))}this.nat(),this.sat()}nat(){this.Xit.sort((t,s)=>t.u3()-s.u3())}ret(){return this.Jit}rat(){return this.Xit.length}Srt(){return this.Xit[this.Xit.length-1]}Yit(){return this.Xit}rK(){return this.eat}*hat(){for(const t of this.Xit)yield t}*oat(){for(let t=this.Xit.length-1;0<=t;t--)yield this.Xit[t]}mq(){const t=this.Xit,s=this.eat;return{propertyKeyframeDataItemsJson:t.map(t=>t.mq()),propertyKeyframeDataItemsIncludingDisabledJson:s.map(t=>t.mq())}}gq(t){t&&(Oh.lY.iot(this.Xit,t.propertyKeyframeDataItemsJson,Lh,this),Oh.lY.iot(this.eat,t.propertyKeyframeDataItemsIncludingDisabledJson,Lh,this),this.sat())}}}{const kh=self.Bs;class Bh{constructor(t,s){this.$ot=s,this.cf=t[0],this.aat=t[1]}ur(){this.$ot=null,this.aat=null}Qot(){return this.$ot}YW(){return this.cf}mq(){return{id:this.cf,data:this.aat}}gq(t){t&&(this.cf=t.id,this.aat=t.data)}}class Nh extends Bh{constructor(t,s){super(t,s),this.lat=this.aat[0],this.uat=!!this.aat[1],this.cat=this.aat[2],this.fat=!!this.aat[3]}ur(){super.ur()}TK(){return this.lat}qht(){return this.uat}IK(){return this.cat}$ht(){return this.fat}mq(){return Object.assign(super.mq(),{startAnchor:this.lat,startEnable:!!this.uat,endAnchor:this.cat,endEnable:!!this.fat})}gq(t){t&&(super.gq(t),this.lat=t.startAnchor,this.uat=!!t.startEnable,this.cat=t.endAnchor,this.fat=!!t.endEnable)}}class Wh extends Bh{constructor(t,s){super(t,s),this.dat=this.aat[0],this.pat=this.aat[1]}ur(){super.ur()}Yht(){return this.dat}Xht(){return this.pat}mq(){return Object.assign(super.mq(),{direction:this.dat,revolutions:this.pat})}gq(t){t&&(super.gq(t),this.dat=t.direction,this.pat=t.revolutions)}}kh.Zot=class{constructor(t,s){this.mat=s,this.gat=[],kh.lY.Qht(this.gat,t,{prop:0,map:new Map([["cubic-bezier",Nh],["angle",Wh]])},this)}ur(){this.mat=null;for(const t of this.gat)t.ur();kh.Bh(this.gat),this.gat=null}yat(){return this.mat}iat(){return this.gat}*wat(){for(const t of this.gat)yield t}mq(){return{addonDataItemsJson:this.gat.map(t=>t.mq())}}gq(t){t&&kh.lY.iot(this.gat,t.addonDataItemsJson,{prop:"id",map:new Map([["cubic-bezier",Nh],["angle",Wh]])},this)}}}{let m=self.Bs,i=0;m.Iht=class extends m.VY{constructor(t,s){super("tween-"+i++,t,s),this.cf="",this.Sat=!1,this.vat="start-value",this.Mst=null,this.bat=null,this.xat=null,this.zit=null,this.Mat=null}ZQ(t){const s=m.lr(m.Event,"tweenstatereleased");s.Tat=this,t.dispatchEvent(s)}wT(){return 1}TQ(){for(const t of this.SQ.ttt().QQ())this.vQ.push(m._at.gM(this,t));this.zit=this.vQ[0]}sst(){const t=this.SQ.ttt().ist(),s=m._at.gM(this,t);return this.vQ.push(s),this.Gat(),s}Gat(){this.zit=this.vQ[0]}KW(t){return this.zit.ust()[0]}_et(t){this.Iat=t}JW(){const t=this.iK();if(t&&t.length){const s=t[0];if(this.zit=s){const i=s.JW();return s.Vst()?i:void 0}}}Cat(t){this.xat||(this.xat=[]),this.xat.push(t)}Pat(t){this.bat||(this.bat=[]),this.bat.push(t)}Eat(t){if(this.xat){const s=this.xat.indexOf(t);-1!==s&&this.xat.splice(s,1)}}Aat(t){if(this.bat){const s=this.bat.indexOf(t);-1!==s&&this.bat.splice(s,1)}}Rat(t,s){for(const i of this.vQ)for(const e of i.Fst)if(e.cst()===s){const n=e.Bst(),r=e.ret(),h=n.Cet(r);h.int(t),h.Ket(t)}}Fat(t){for(const s of this.vQ)for(const i of s.Fst)if(i.cst()===t)return i}Dat(t){for(const s of t){const i=this.Fat(s);this.Rat(i.Vet(),s)}if(this.wtt()){const e=this.IW()-this.u3();this.GW(e);for(const n of this.vQ)n.ait(e);this.Ftt(0)}else{const r=this.u3();this.GW(r);for(const h of this.vQ)h.ait(r);this.Ftt(r)}this.Dtt()}Oat(t,s){const i=this.Fat(s),e=i.Bst(),n=i.ret(),r=e.Srt(n);r._W(this.IW()),r.int(t),r.Ket(t)}Lat(t){this.cf=t}YW(){return this.cf}kat(t){this.vat=t}Bat(){return this.vat}XW(t){this.Sat=t}$W(){return this.Sat}Mtt(){if(this.xat)for(const t of this.xat)t(this);if(!this.FZ())for(const s of this.vQ)s.kit()}Ttt(){this.BQ=this.lf._tt()}OZ(){if(!this.jQ&&(this.jQ=!0,this.bat))for(const t of this.bat)t(this)}_W(t){this.Nat(),super._W(t)}Ntt(t){(t=m.ge(t)?t:this.IW())<0?this.IQ=0:t>=this.IW()?this.IQ=this.IW():this.IQ=t,this.zit.Wtt()}GZ(t){if(!this.DZ()&&"current-state"===this.Bat())for(const s of this.vQ)s.Lit();super.GZ(t)}xW(t=!1){if(super.xW(t),!this.FZ())for(const s of this.vQ)s.Oit()}l0(t=!0,s=!1){this.Nat(),super.l0(t,s)}Nat(){for(const t of this.vQ){const s=t=>{const s=t.u3(),i=this.IW();return 0!==s&&s!==i};t.Rit(s),t.Dit(s)}}GY(){if(!this.vW()){const t=this.JW();if(t&&t.E5().Cz())return!1;this.wQ.xZ(this),this.ztt()}return!0}EZ(n,t,s){if(this.Mst||(this.Mst=this.JW()),!this.Mst||this.Mst.Yj())this.xW(!0),this.Ttt();else{const i=this.Mst.LD();if(0!==(n=-1!==i?s*i:n)||0!==this.UQ){this.UQ=n;const r=this.IQ+this.CQ,h=n*this.PQ,o=r+h,a=this.SQ.Ytt;o<0?(this.IQ=0,this.CQ=-o):a<=o?(this.IQ=a,this.CQ=this.IQ-o):(this.IQ=o,this.CQ=0);let t=!1,s=!1,i=this.EW(),e=this.RW();i||e?i&&!e?0<this.PQ?this.IQ>=a&&(this.Ntt(0),this.Wat(m.Uat.Vat.iX.jat),this.Wat(m.Uat.Vat.iX.Hat),s=!0):this.IQ<=0&&(this.Ntt(a),this.Wat(m.Uat.Vat.iX.jat),this.Wat(m.Uat.Vat.iX.Hat),s=!0):!i&&e?0<this.PQ?this.IQ>=a&&(this.Ftt(a),this.FW(-1*this.DW()),s=!0,1===this.EQ?this.AQ<this.W6()?(this.AQ++,this.Wat(m.Uat.Vat.iX.jat),this.Wat(m.Uat.Vat.iX.Hat),this.Wat(m.Uat.Vat.iX.zat),this.Wat(m.Uat.Vat.iX.Jat),this.EQ=0):(this.Wat(m.Uat.Vat.iX.zat),this.Wat(m.Uat.Vat.iX.Jat),t=!0):0===this.EQ&&(this.Wat(m.Uat.Vat.iX.zat),this.Wat(m.Uat.Vat.iX.Jat),this.EQ=1)):this.IQ<=0&&(this.Ftt(0),this.FW(-1*this.DW()),s=!0,1===this.EQ?this.AQ<this.W6()?(this.AQ++,this.Wat(m.Uat.Vat.iX.jat),this.Wat(m.Uat.Vat.iX.Hat),this.Wat(m.Uat.Vat.iX.zat),this.Wat(m.Uat.Vat.iX.Jat),this.EQ=0):(t=!0,this.Wat(m.Uat.Vat.iX.zat),this.Wat(m.Uat.Vat.iX.Jat)):0===this.EQ&&(this.Wat(m.Uat.Vat.iX.zat),this.Wat(m.Uat.Vat.iX.Jat),this.EQ=1)):i&&e&&(0<this.PQ?this.IQ>=a&&(this.Ftt(a),this.FW(-1*this.DW()),s=!0,0===this.EQ&&(this.Wat(m.Uat.Vat.iX.zat),this.Wat(m.Uat.Vat.iX.Jat)),1===this.EQ&&(this.Wat(m.Uat.Vat.iX.jat),this.Wat(m.Uat.Vat.iX.Hat),this.Wat(m.Uat.Vat.iX.zat),this.Wat(m.Uat.Vat.iX.Jat)),this.EQ++,this.EQ=m.wrap(this.EQ,0,2)):this.IQ<=0&&(this.Ftt(0),this.FW(-1*this.DW()),s=!0,0===this.EQ&&(this.Wat(m.Uat.Vat.iX.zat),this.Wat(m.Uat.Vat.iX.Jat)),1===this.EQ&&(this.Wat(m.Uat.Vat.iX.jat),this.Wat(m.Uat.Vat.iX.Hat),this.Wat(m.Uat.Vat.iX.zat),this.Wat(m.Uat.Vat.iX.Jat)),this.EQ++,this.EQ=m.wrap(this.EQ,0,2))):0<this.PQ?this.IQ>=a&&(this.AQ<this.W6()?(this.AQ++,this.Ntt(0),this.Wat(m.Uat.Vat.iX.jat),this.Wat(m.Uat.Vat.iX.Hat),s=!0):(this.Ftt(a),t=!0)):this.IQ<=0&&(this.AQ<this.W6()?(this.AQ++,this.Ntt(a),this.Wat(m.Uat.Vat.iX.jat),this.Wat(m.Uat.Vat.iX.Hat),s=!0):(this.Ftt(0),t=!0)),t?(this.zit.Ztt(),this.xW(!0),this.Ttt()):(this.zit.Vc(this.IQ,!0,!1,s,this.VQ,!1),this.VQ&&(this.VQ=!1))}}}Wat(t){const s=this.JW(),i=s.qat(m.Uat.Vat);i.$at(this),this.lf.gN(t,s,i.G6()),i.Xat()}mq(){const t=super.mq(),s=this.att();return Object.assign(t,{tweenDataItemJson:s.mq(),id:this.cf,destroyInstanceOnComplete:this.Sat,initialValueMode:this.vat})}gq(t){if(t){const s=this.att();s.gq(t.tweenDataItemJson),super.gq(t),this.cf=t.id,this.Sat=t.destroyInstanceOnComplete,this.vat=t.initialValueMode,this.Gat()}}static IsPlaying(t){return t.IsPlaying()}static BW(t){return t.BW()}static Yat(t){return!!t.RW()&&0===t.ytt()}static Zat(t){return!!t.RW()&&1===t.ytt()}static Kat(t){const s=t.runtime.itt(),i=new m.Kht;if(t.json){i.gq(t.json.tweenDataItemJson);const e=new m.Iht(i,s);return e.gq(t.json),e}{const n=new m.Iht(i,s),r=(m.je(t.Qat)||(t.Qat=[t.Qat]),n.Lat(t.id),n.Stt(t.tags),n.kat(t.initialValueMode),n.XW(t.tlt),n.PW(t.loop),n.AW(t.pingPong),n.GW(t.time),n.utt(0),n.ftt("default"),n.dtt(t.Qat[0].resultMode),n.ptt(t.repeatCount),n.sst()),h=(r.hit(t.I6.H5()),r.ftt("default"),r.dtt(t.Qat[0].resultMode),r.uit(!0),r.cit(t.I6.E5().RF()),t.I6.g6()),o=h.mit()?h.pit():t.I6.MO().um(),a=h.mit()?h.yit():t.I6.MO().Mm(),l=(r.dit(o),r.git(a),r.Cit()),u=(l._W(0),l.zW("noease"),l.uit(!0),l.Stt(""),r.Cit());u._W(t.time),u.zW("noease"),u.uit(!0),u.Stt("");for(const c of t.Qat){const f=r.Eit(),d=(f.det(c.slt),f.yet(c.ilt),f.xet(c.property),f._et(c.type),f.Eet(NaN),f.Ret(NaN),f.ftt("default"),f.dtt(c.resultMode),f.uit(!0),f.Xet()),p=(d.Get(c.valueType),d._W(0),d.zW(c.ease),d.uit(!0),d.int(c.elt),d.Ket(c.elt),f.Xet());p.Get(c.valueType),p._W(t.time),p.zW(c.ease),p.uit(!0),p.int(c.nlt),p.Ket(c.nlt),f.ntt()}return n}}static hit(t,s){if(!isNaN(s))for(const i of t.iK())i.hit(s)}rlt(t,s){return this.Mat||(this.Mat=m.lr(self.jW,this,t,s)),this.Mat}}}{const jh=self.Bs;jh._at=class extends jh.stt{constructor(t,s){super(t,s),this.hlt=null,this.olt=null}static gM(t,s){return jh.lr(jh._at,t,s)}llt(){1===this.Fst.length?this.hlt=this.Fst[0]:(this.hlt=this.Fst[0],this.olt=this.Fst[1])}Dst(){for(const t of this.Sst.Bst().kst())this.Fst.push(jh.ult.gM(this,t));this.llt()}Eit(){const t=this.Sst.Bst(),s=t.Ait(),i=jh.ult.gM(this,s);return this.Fst.push(i),this.llt(),i}GZ(){if(this.jst(),this.Vst()||!this.ott()){const t=this.Wst(),s=t.wtt(),i=s?0:this.oit();for(const n of this.Fst)n.GZ(i),0===this.Ost&&1===n.vit()&&(this.Ost=1),0===this.BY&&1===n.IZ()&&(this.BY=1);this.Lst=0;const e=this.Fst.some(t=>t.Xtt());e&&(this.Lst=1),this.Pst=this.bit(i),this.Gst=!1,this.Ist=!1,this.Vc(i)}}Ktt(){}Vc(t,s=0,i=!1,e=!1,n,r=!1,h=!1){if(this.Mst||this.JW(),this.Mst){const o=!this.Mst.Yj();return o&&(!r||!this.E5().Cz())&&((this.olt?(this.hlt.Vc(t,i,e,h),this.olt):this.hlt).Vc(t,i,e,h),void(0!==this.hlt.vit()&&(this.Tst||(this.Tst=this.Mst.MO()),this.Tst)&&this.Tst.zN()))}}tst(){}gq(t){super.gq(t),this.llt()}}}{const Vh=self.Bs;Vh.ult=class extends Vh.Nst{constructor(t,s){super(t,s),this.clt=!1}static gM(t,s){return Vh.lr(Vh.ult,t,s)}Vc(t,s=!1,i=!1,e=!1){let n,r;if(this.clt)n=this.Xit[0],r=this.Xit[1];else{if(s)n=this.qit.Let(t,this.Jit);else{if(this.Kit){const h=this.Wst(),o=this.Kit.hK(),a=this.Kit.u3(),l=o?o.u3():h.IW();(t<=a||l<=t)&&(this.Kit=this.qit.Let(t,this.Jit))}else this.Kit=this.qit.Let(t,this.Jit);n=this.Kit}r=n.hK()}this.$it.Vc(t,n,r,s,i,e)}Xet(){const t=this.Jit.Zit(),s=t.Yet();return this.Kit=null,this.clt=this.Fet().length<=2,s}Dit(t){this.Kit=null;const s=this.Jit.Zit();s.Zet(t),this.clt=this.Fet().length<=2}mq(){return{sourceAdapterJson:this.ntt().mq(),basic:this.clt}}gq(t){t&&(this.ntt().gq(t.sourceAdapterJson),this.clt=t.basic)}}}{const Uh=self.Bs,Hh=self.mc;Uh.Uc=class extends Uh.rr{constructor(t,s=!0){super(),this.pr=t[0],this.flt=t[2],this.dlt=[];for(const i of t[1]){const e=Uh.plt.gM(this,i);this.dlt.push(e)}for(let t=0;t<this.dlt.length;t++){const n=this.dlt[t],r=this.dlt[t+1],h=this.dlt[t-1];n.Wot(r),n.tat(h)}this.mlt=new Map,this.glt=new Map,this.ylt(),s&&Hh.zc(this.pr,(t,s,i,e)=>this.Vc(t,s,i,e),null,{transition:this})}static gM(t){return Uh.lr(Uh.Uc,t)}ur(){for(const t of this.dlt)t.ur();Uh.Bh(this.dlt),this.dlt=null,this.mlt.clear(),this.mlt=null,this.glt.clear(),this.glt=null}Hc(t){this.flt=!!t}wlt(t){const s=this.glt.get(t);if(s)return s;for(const i of this.dlt)if(i.Slt()===t)return this.glt.set(t,i),i}vlt(s){for(let t=this.dlt.length-1;0<=t;t--){const i=this.dlt[t],e=i.Slt();if(e<=s){let t=i;if(e<s)return t;if(e===s){for(;t;){const n=t.oK();if(!n)break;if(n.Slt()!==t.Slt())break;t=n}return t}}}}Vc(t,s,i,e){let n=t/e;if(this.flt){const w=this.wlt(0),S=this.wlt(1),v=s+(s+i)*w.blt(),b=(s+i)*S.blt(),x=b-v;return 0===e?v+x:Hh.qc(t,v,x,e)}0===e&&(n=1);let r=this.vlt(n),h=r.hK();if(!h){const M=r.oK(),T=r;r=M,h=T}const o=h.Slt()-r.Slt(),a=Uh.mr(n,r.Slt(),h.Slt(),0,o);if(r.xlt()||0==o){const _=s+(s+i)*r.blt(),G=(s+i)*h.blt(),I=G-_;return 0==o?1===a?_+I:_:Hh.qc(a,_,I,o)}let l=r.Slt(),u=r.blt(),c=r.Slt()+r.Mlt(),f=r.blt()+r.Tlt(),d=h.Slt()+h._lt(),p=h.blt()+h.Glt(),m=h.Slt(),g=h.blt(),y=Hh.Rc("spline")(a,l,u,c,f,d,p,m,g,this.mlt.get(r));return(1-(y+=r.blt()))*s+y*(s+i)}ylt(){this.mlt.clear();for(let t=0;t<this.dlt.length-1;t++){const s=this.dlt[t];if(s.qht()){const i=s,e=this.dlt[t+1];if(e.$ht()){const n=i.Slt(),r=i.Slt()+i.Mlt(),h=e.Slt()+e._lt(),o=e.Slt();this.mlt.set(i,Hh.$c(n,r,h,o))}}}}}}{const zh=self.Bs;zh.plt=class extends zh.rr{constructor(t,s){super(),this.Ilt=t,this.Clt=s[0],this.Plt=s[1],this.Elt=s[2],this.Alt=s[3],this.Rlt=s[4],this.Flt=s[5],this.uat=s[6],this.fat=s[7],this.Dlt=s[8],this.Not=null,this.Kot=null}ur(){this.Ilt=null}static gM(t,s){return zh.lr(zh.plt,t,s)}Wot(t){this.Not=t}hK(){return this.Not}tat(t){this.Kot=t}oK(){return this.Kot}Slt(){return this.Clt}blt(){return this.Plt}Mlt(){return this.Elt}Tlt(){return this.Alt}_lt(){return this.Rlt}Glt(){return this.Flt}qht(){return this.uat}$ht(){return this.fat}xlt(){return"linear"===this.Dlt}Olt(){return"cubic"===this.Dlt}}}{const Jh=self.Bs;Jh.Llt=class extends Jh.rr{constructor(t){super(),this.lf=t,this.klt=[]}ur(){for(const t of this.klt)t.ur();Jh.Bh(this.klt),this.klt=null}gM(t){this.klt.push(Jh.Uc.gM(t))}}}{const qh=self.Bs;qh.Blt=class extends qh.rr{constructor(t){super(),this.lf=t,this.Nlt=null,this.Wlt=null,this.PY=t=>this.EY(t.I6)}ur(){if(this.NY(),this.Nlt){for(const t of this.Nlt.values())t.clear();this.Nlt.clear()}this.Nlt=null,this.lf=null}gM(t){if(this.Nlt||(this.Nlt=new Map),t){const s=t[0][16],i=s[0],e=t[1],n=(this.Nlt.has(e)||this.Nlt.set(e,new Map),this.Nlt.get(e));n.set(i,t)}}WY(){const t=this.lf.Vf();t&&t.addEventListener("instancedestroy",this.PY)}NY(){const t=this.lf.Vf();t&&t.removeEventListener("instancedestroy",this.PY)}jlt(){return!!this.Nlt&&0!==this.Nlt.size}Vlt(t,s){let i;if(i=t instanceof qh.Ult?t.RF():t,this.Nlt.has(i)){const e=this.Nlt.get(i).get(s);return e?JSON.parse(JSON.stringify(e)):void 0}}Hlt(t,s){this.Wlt||(this.Wlt=new WeakMap),this.Wlt.has(t)||this.Wlt.set(t,s)}zlt(t){if(!this.Wlt)return"";const s=this.Wlt.get(t);return s||""}EY(t){this.Wlt&&this.Wlt.has(t)&&this.Wlt.delete(t)}}}{const $h=self.Bs;$h.Jlt=class{constructor(t){this.lf=t,this.qlt=new $h.$lt}ur(){this.qlt.ur(),this.qlt=null,this.lf=null}HO(){return this.lf}gM(t){this.qlt.uc(t)}Xlt(t){return this.qlt.ei(t)}Ylt(){return this.qlt.Ylt()}}}{const b=self.Bs;b.Zlt=class{constructor(t,s,i,e,n,r,h){this.lf=n.HO(),this.Klt=n,this.Qlt=t,this.tut=i,this.sut=e,this.Yg=s,this.uY=r,this.iut=h??r.JW().H5(),this.eut(),this.nut=this.hut?.rut()??-1,this.out=[],this.aut=null,this.lut=NaN,this.uut=null,this.cut=null,this.fut=null,this.dut="",this.mut=null,this.gut="",this.yut="",this.wut=0,this.Sut=!1,this.LQ=!1}ur(){this.LQ||(b.Bh(this.out),this.out=null,this.lf=null,this.Klt=null,this.sut=null,this.uY=null,this.aut=null,this.lut=NaN,this.uut&&this.uut.clear(),this.uut=null,this.cut=null,this.fut=null,this.dut="",this.mut=null,this.gut="",this.yut="",this.LQ=!0)}cr(){return this.LQ}vut(){return this.Klt}HO(){return this.lf}Kc(){return this.Qlt}but(){return this.sut}SW(){return this.Yg}QY(){return this.uY||(this.uY=this.lf.wO(this.iut).g6()),this.uY}xut(){return this.Mut(this.nut)}Tut(){const t=this.xut();return t?t.SW():""}_ut(){const t=this.xut();return t?t.OW():[]}Gut(t){const s=this._ut();if(!s)return!1;if(!s.length)return!1;const i=b.Zlt.vtt(t);return!(!i||!i.length)&&i.every(b.Zlt.xtt,s)}Iut(t,s){const i=this._ut();if(!i)return!1;if(!i.length)return!1;const e=b.Zlt.vtt(t);return!(!e||!e.length)&&e.every(t=>b.Zlt.Cut.call(i,t,s))}static xtt(t){return""===t?1===this.length&&""===this[0]:this.map(t=>t.trim().toLowerCase()).includes(t.trim().toLowerCase())}static vtt(t){return t.trim().split(" ")}static Cut(s,i){return""===s?1===this.length&&""===this[0]:this.some(t=>b.compare(t.trim(),i,s.trim()))}Put(t){const s=this.xut();if(s){if(b.ge(t)){const i=s.Eut(),e=i?i[t]:void 0;if(b.ge(e))return this.Mut(e)}if("string"==typeof t)for(const n of s.Eut()){const r=this.Mut(n);if(r.TW(t))return this.Mut(r.rut())}}}Aut(t){const s=this.Put(t);return s?s.SW():""}Rut(t){const s=this.Put(t);return s?s.OW():""}Fut(t){const s=this.xut();if(!s)return-1;const i=s.Eut();if(!i)return-1;const e=this.Put(t);return e?i.indexOf(e.rut()):-1}Dut(){const t=this.xut();if(!t)return 0;const s=t.Eut();return s?s.length:0}Mut(t){return this.sut.Mut(t)}l0(){const t=this.Out();t.Lut(!0)}Lut(t){if(this.kut()){for(const[s,i]of this.kut().entries())i.Lut(!1);this.kut().clear()}if(this.uut=null,this.aut=null,this.But=null,this.cut=null,this.dut="",this.mut=null,this.gut="",this.yut="",this.out=[],t){this.Klt.Nut(this);const e=this.hut.rut();e!==this.nut&&this.Wut(e)}else this.nut=this.hut.rut()}jut(){const t=this.sut.Mut(this.nut);return t?t.Uut().Vut():0}Hut(t){const s=this.zut(t);return s?s.Kc():""}Jut(t){let s;return b.ge(t)&&(s=this.zut(t)),"string"==typeof t&&(s=this.qut(t)),"number"!=typeof t&&"string"!=typeof t&&console.warn("[Flowcharts] unexpected argument type in GetCurrentNodeOutputValueAt expression"),s?s.vet():""}$ut(t){let s;if(b.ge(t)&&(s=this.zut(t)),s="string"==typeof t?this.qut(t):s){const i=s.Xut();b.ge(i)&&(this.out.push(this.nut),this.Wut(i))}}Yut(t){const s=this.sut.Zut(t);if(s){const i=this.sut.Mut(s.rut());i&&(this.out.push(this.nut),this.Wut(i.rut()))}}Kut(){const t=this.out.pop();b.ge(t)?this.Wut(t):this.Qut()&&(this.Klt.Nut(this.Qut(),!0,!1,!1),this.Qut().Wut(this.tct()),this.Out().sct(this.Qut()))}ict(t){const s=this.xut();if(s){s.rut();const i=this.Put(t);i&&(this.out.push(this.nut),this.Wut(i.rut()))}}ect(s){if(b.ge(s)){const t=this.sut.Mut(this.nut),i=t.Uut().nct();return!!i[s]}if("string"==typeof s){const e=this.sut.Mut(this.nut),n=e.Uut().nct();for(let t=0;t<n.length;t++)if(n[t].Kc()===s)return!0}return!1}rct(){this.Sut=!0}hct(){return 0<this.wut}oct(){this.wut++}lct(){this.wut--,0===this.wut&&this.Sut&&this.Klt.uct(this)}Wut(t){const i=this.nut,s=this.QY().JW();if(this.oct(),this.Klt.cct(this),this.lf.gN(b.nX.Flowchart.iX.OnBeforeAnyNodeChange,s),this.lf.gN(b.nX.Flowchart.iX.OnBeforeTaggedNodeChange,s),this.lf.gN(b.nX.Flowchart.iX.OnBeforeAnyNodeChangeInFlowchart,s),this.lf.gN(b.nX.Flowchart.iX.OnBeforeTaggedNodeChangeInFlowchart,s),this.nut=t,this.lf.gN(b.nX.Flowchart.iX.OnAnyNodeChange,s),this.lf.gN(b.nX.Flowchart.iX.OnTaggedNodeChange,s),this.lf.gN(b.nX.Flowchart.iX.OnAnyNodeChangeInFlowchart,s),this.lf.gN(b.nX.Flowchart.iX.OnTaggedNodeChangeInFlowchart,s),this.Klt.fct(),this.lct(),!this.cr()){const e=this.Mut(this.nut);if("reference"===e.wT()){const n=e.dct();if(this.pct(e)){this.out.pop();const r=this.mct(e),h=(this.Klt.Nut(r,!0,!0,!1),r.gct(this,i),this.Out());h.sct(r)}else{const o=e.yct();if(n){this.out.pop();let s=e.wct();if(s){let t=this.Klt.Sct(s);for(;t;)s=b.Z1(s),t=this.Klt.Sct(s)}else{s=n+"-ref";let t=this.Klt.Sct(s);for(;t;)s=b.Z1(s),t=this.Klt.Sct(s)}const a=this.Klt.vct(n,o,s,this.uY,!0),l=(a.gct(this,i),this.bct(e,a),this.Out());a.xct(l),l.sct(a)}}}}}zut(t){const s=this.sut.Mut(this.nut);if(!s)return null;const i=s.Uut().nct();if(!i)return null;const e=i[t];return e||null}qut(t){const s=this.sut.Mut(this.nut);if(!s)return null;const i=s.Uut().Mct(t);return i||null}eut(s){if("number"==typeof s){let t=this.Mut(s);t=t||this.sut.Tct(),this.hut=t}else{let t=this.sut.Zut(this.tut);t=t||this.sut.Tct(),this.hut=t}}mq(){return this.Sut?null:{flowchartName:this.Qlt,flowchartTag:this.Yg,startNodeTag:this.tut,currentNodeId:this.nut,previousNodeIds:this.out,pluginUID:this.uY.JW().H5(),reference:{previousFlowchartTag:this.Qut()?this.Qut().SW():"",previousStartNodeId:b.ge(this.tct())?this.tct():NaN,referencesJson:this._ct(),currentReferenceFlowchartTag:this.Gct()?this.Gct().SW():"",rootFlowchartTag:this.Out()?this.Out().SW():""}}}_ct(){if(!this.Ict())return null;const t=[];for(const[s,i]of this.kut().entries())t.push({flowchartElementId:s.rut(),flowchartStateTag:i.SW()});return t.length?t:null}gq(t){if(t){if(this.Qlt=t.flowchartName,this.Yg=t.flowchartTag,this.tut=t.startNodeTag,this.nut=t.currentNodeId,this.out=t.previousNodeIds,this.iut=t.pluginUID,t.hasOwnProperty("reference")){const s=t.reference;this.dut=s.previousFlowchartTag,this.lut=s.previousStartNodeId,this.mut=s.referencesJson,this.gut=s.currentReferenceFlowchartTag,this.yut=s.rootFlowchartTag}this.eut()}}Qut(){return"string"==typeof this.dut&&this.dut&&(this.aut=this.Klt.Sct(this.dut),this.dut=""),this.aut}tct(){return this.lut}gct(t,s){this.aut=t,this.lut=s}Gct(){return"string"==typeof this.gut&&this.gut&&(this.cut=this.Klt.Sct(this.gut),this.gut=""),this.cut}sct(t){this.cut=t,this.cut===this&&(this.cut=null)}Out(){return"string"==typeof this.yut&&this.yut&&(this.fut=this.Klt.Sct(this.yut),this.yut=""),this.fut||this}xct(t){this.fut=t}Ict(){return this.Cct(),!!this.uut}pct(t){return this.Cct(),this.uut&&this.uut.has(t)}Cct(){if(this.mut){this.uut&&this.uut.clear(),this.uut||(this.uut=new Map);for(const t of this.mut){const s=this.Klt.Sct(t.flowchartStateTag),i=s.Mut(t.flowchartElementId);this.uut.set(i,s)}this.mut=null}}kut(){return this.Cct(),this.uut}mct(t){return this.Cct(),this.uut.get(t)}bct(t,s){this.uut||(this.uut=new Map),this.uut.set(t,s)}}}{const Xh=self.Bs;Xh.Pct=class{constructor(t){this.lf=t,this.Ect=new Map,this.Act=null,this.Rct=[],this.Fct=()=>this.DY(),this.Dct=null}ur(){Xh.Bh(this.Rct),this.Rct=null,this.Ect.clear(),this.Ect=null,this.Act=null,this.lf=null,this.Dct=null}HO(){return this.lf}vct(t,s,i,e,n,r){const h=this.lf.vut().Xlt(t);if(h){if(!this.Ect.has(i)){const o=new Xh.Zlt(t,i,s,h,this,e,r);return this.Ect.set(i,o),n&&this.Nut(o,!0),o}{const a=this.Ect.get(i);a&&this.uct(a)}}else console.warn(`[Flowcharts] no flowchart found with name '${t}'`)}uct(t){if(t.rct(),!t.hct()){const s=t.SW();this.Ect.delete(s),t.ur(),this.Act===t&&(this.Act=null)}}Oct(t){t.l0()}Sct(t){return this.Ect.get(t)}cct(t){this.Rct.push(t)}fct(){this.Rct.pop()}Nut(t,s=!1,i=!1,e=!0){if(e){const n=t.Gct();t=n||t}t!==this.Act&&(this.Lct(),this.kct(t,s,i))}Bct(t){return"string"==typeof t?this.Sct(t):this.Rct.length?this.Rct[this.Rct.length-1]:this.Act}Lct(){if(this.Act&&!this.Act.cr()){const t=this.Act.QY().JW();this.Act.oct(),this.cct(this.Act),this.lf.gN(Xh.nX.Flowchart.iX.OnBeforeFlowchartChange,t),this.fct(),this.Act.lct()}}kct(t,s=!1,i=!1){if(this.Act=t,this.Act&&!this.Act.cr()){const e=this.Act.QY().JW();this.Act.oct(),this.cct(this.Act),this.lf.gN(Xh.nX.Flowchart.iX.OnFlowchartChange,e),!0!==i&&"number"!=typeof i||this.Act.eut(i),s&&(this.lf.gN(Xh.nX.Flowchart.iX.OnAnyNodeChange,e),this.lf.gN(Xh.nX.Flowchart.iX.OnTaggedNodeChange,e)),this.fct(),this.Act.lct()}}mq(){return{flowchartJsonObjects:[...this.Ect.values()].map(t=>t.mq()),currentFlowchartTag:this.Act?this.Act.SW():null}}gq(t){if(t){this.Dct=t;const s=new Map;for(const i of this.Dct.flowchartJsonObjects){const e=i.flowchartTag;if(this.Ect.has(e)){const n=this.Ect.get(e);n.gq(i),s.set(e,n)}else{const r=this.vct(i.flowchartName,i.startNodeTag,i.flowchartTag,null,!1,i.pluginUID);r.gq(i),s.set(i.flowchartTag,r)}}for(const[h,o]of this.Ect.entries())s.has(h)||o.ur();this.Ect.clear(),this.Ect=s,this.lf.$$()?this.lf.Vf().addEventListener("afterload",this.Fct):this.DY()}}DY(){this.lf.Vf().removeEventListener("afterload",this.Fct);const t=this.Ect.get(this.Dct.currentFlowchartTag);t&&this.Nut(t,!0),this.Dct=null}}}{const Yh=self.Bs;Yh.$lt=class{constructor(){this.Nct=new Map}ur(){for(const t of this.Nct.values())t.ur();this.Nct.clear(),this.Nct=null}uc(t){const s=new Yh.Wct(t),i=s.Kc();this.Nct.set(i,s)}ei(t){return this.Nct.get(t)}Ylt(){return!!this.Nct.size}static jct(t,s,i,e){if(s)for(const n of s){const r=new i(n,e);t.push(r)}}}}{const Zh=self.Bs;Zh.Wct=class{constructor(t){this.pr=t[0],this.Vct=new Zh.Uct(t[1],this)}ur(){this.Vct.ur(),this.Vct=null}Hct(){return this.Vct}Mut(t){return this.Vct.Mut(t)}Zut(t){return this.Vct.Zut(t)}Tct(){return this.Vct.Tct()}Kc(){return this.pr}}}{const Kh=self.Bs;class Qh{constructor(t,s){this.Vct=s,this.yf=t[7],this.zct=t[0],this.Yg=t[1],this.Yg?this.HQ=this.Yg.trim().split(" ").map(t=>t.trim()):this.HQ=[],this.Jct=t[2],this.qct=null,this.$ct=null,"dictionary"===this.yf&&(this.qct=t[3],this.$ct=t[4]),this.Xct=t[6],this.Yct=null,this.Zct=null,this.Kct=null,"reference"===this.yf&&(this.Yct=t[8],this.Zct=t[9],this.Kct=t[10]),this.Qct=new Kh.tft(t[5],this)}ur(){this.Vct=null}Hct(){return this.Vct}Uut(){return this.Qct}rut(){return this.zct}SW(){return this.Yg}OW(){return this.HQ}TW(t){if(!this.HQ)return!1;if(!this.HQ.length)return!1;const s=Kh.Zlt.vtt(t);return!(!s||!s.length)&&s.every(Kh.Zlt.xtt,this.HQ)}ift(){return this.Xct}Eut(){return this.Jct}eft(){return this.qct}nft(){return this.$ct}wT(){return this.yf}dct(){return this.Yct}yct(){return this.Zct}wct(){return this.Kct}}Kh.Uct=class{constructor(t,s){this.sut=s,this.rft=[],this.hft=new Map,this.oft=new Map,this.aft=null,Kh.$lt.jct(this.rft,t,Qh,this);for(const i of this.rft){const e=i.rut(),n=i.SW(),r=i.OW(),h=i.ift();if(this.hft.set(e,i),n)for(const a of r)this.oft.has(a)||this.oft.set(a,new Set),this.oft.get(a).add(i);h&&(this.aft=i);const o=i.Uut();for(const l of o.lft()){const u=l.rut();this.hft.set(u,l)}}}ur(){this.sut=null;for(const t of this.rft)t.ur();Kh.Bh(this.rft),this.rft=null}but(){return this.sut}Mut(t){return this.hft.get(t)}Zut(t){if(!t||!t.length)return null;const i=[];for(const e of t.trim().split(" ")){let t=this.oft.get(e.trim())??new Set;if(0===t.size)return null;i.push(t)}const s=i.reduce((t,s)=>s.size<t.size?s:t);return[...s].filter(s=>i.every(t=>t.has(s)))[0]}Tct(){return this.aft}*uft(){for(const t of this.rft)yield t}}}{const to=self.Bs;class so{constructor(t,s){this.Qct=s,this.zct=t[0],this.pr=t[1],this.Rnt=t[2],this.cft=t[3]}ur(){this.Qct=null}Uut(){return this.Qct}rut(){return this.zct}Kc(){return this.pr}vet(){return this.Rnt}Xut(){return this.cft}}to.tft=class{constructor(t,s){this.fft=s,this.dft=[],this.pft=new Map,to.$lt.jct(this.dft,t,so,this);for(const i of this.dft)this.pft.set(i.Kc(),i)}ur(){this.fft=null;for(const t of this.dft)t.ur();to.Bh(this.dft),this.dft=null}mft(){return this.fft}Vut(){return this.dft.length}nct(){return this.dft}Mct(t){return this.pft.get(t)}*lft(){for(const t of this.dft)yield t}}}{const io=self.Bs;io.gft=class extends io.rr{constructor(t){super(),this.yft=t,this.wft=[],this.wft.push(io.lr(io.Sft,this)),this.Xg=0,this.vft=this.wft[0]}ur(){for(const t of this.wft)t.ur();io.Bh(this.wft),this.vft=null,this.yft=null}E5(){return this.yft}kk(){return this.vft}bft(){return this.wft[this.Xg-1]}tc(){this.kk().tc()}xft(){const t=this.wft,s=++this.Xg;if(s===t.length){const i=io.lr(io.Sft,this);t.push(i),this.vft=i}else{const e=t[s];e.l0(),this.vft=e}}Mft(){const t=this.wft,s=++this.Xg,i=(s===t.length&&t.push(io.lr(io.Sft,this)),t[s]);i.C0(t[s-1]),this.vft=i}YV(){this.vft=this.wft[--this.Xg]}Tft(i){const e=this.wft;for(let t=0,s=e.length;t<s;++t)e[t].Tft(i)}}}{const eo=self.Bs;eo.Sft=class extends eo.rr{constructor(t){super(),this.wft=t,this.yft=this.wft.E5(),this._ft=this.yft.HO().xD(),this.Gft=!0,this.kH=[],this.Ift=[]}ur(){this.Cft(),this.wft=null,this.yft=null,this._ft=null}Cft(){eo.Bh(this.kH),eo.Bh(this.Ift)}E5(){return this.yft}Pft(){return this.Gft}Eft(){return this.Gft?!!this.yft.Nk():!!this.kH.length}Lk(){return this.Gft?this.yft.Lk():this.kH}Aft(){return!!this.Ift.length}Rft(){return this.Ift}Fft(){const t=this.Lk();return t.length?t:this.Ift}l0(){this.Gft=!0,eo.Bh(this.Ift)}tc(){this.Gft=!0}C0(t){t.Pft()?this.l0():(this.Gft=!1,eo.Vh(this.kH,t.kH),eo.Bh(this.Ift))}Dft(t){this.kH.push(t)}Oft(t){this.Ift.push(t)}Lft(t){this.Gft=!!t}kft(){return this.kH}Bft(){return this.Ift}Nft(t){this.Gft=!1,eo.Bh(this.kH),this.kH.push(t)}Wft(t){this.Gft=!1,eo.Vh(this.kH,t)}jft(t){this.Gft=!1,eo.Bh(this.kH);for(const s of t)this.kH.push(s)}Vft(t,s){for(const i of s)t.has(i)||this.Ift.push(i)}Uft(t){for(const s of t)this.kH.push(s);eo.qh(this.Ift,t)}Hft(){eo.Bh(this.Ift)}zft(t){if(t)if(this._ft.BV().mD().Jft()){this.Pft()&&(eo.Bh(this.kH),eo.Vh(this.Ift,t.E5().Lk()),this.Gft=!1);const s=this.Ift.indexOf(t);-1!==s&&(this.kH.push(this.Ift[s]),this.Ift.splice(s,1))}else this.Nft(t)}Tft(t){eo.qh(this.kH,t),eo.qh(this.Ift,t)}}}{const no=self.Bs;no.qft=class extends no.rr{constructor(t){super(),this.$ft=t,this.lf=this.$ft.HO(),this.wft=[],this.wft.push(no.lr(no.Xft,this,null)),this.Xg=0,this.Yft=[]}ur(){for(const t of this.wft)t.ur();no.Bh(this.wft),no.Bh(this.Yft),this.$ft=null,this.lf=null}lD(){return this.$ft}HO(){return this.lf}BV(){return this.wft[this.Xg]}Zft(){return this.wft}Kft(){return this.Xg}NV(t){const s=this.wft,i=++this.Xg;if(i===s.length){const e=no.lr(no.Xft,this,t);return s.push(e),e}{const n=s[i];return n.l0(t),n}}YV(){--this.Xg}Qft(t){this.Yft.push(t)}t0t(){this.Yft.pop()}bD(){const t=this.Yft;return 0===t.length?null:t.at(-1)}}}{const ro=self.Bs;ro.Xft=class extends ro.rr{constructor(t,s){super(),this.wft=t,this.lf=this.wft.HO(),this.s0t=s,this.i0t=0,this.e0t=0,this.n0t=!1,this.r0t=!1,this.h0t=null,this.o0t=0,this.a0t=0,this.l0t=null}ur(){this.l0(null),this.wft=null,this.lf=null}l0(t){this.s0t=t,this.i0t=0,this.e0t=0,this.n0t=!1,this.r0t=!1,this.l0t=null}u0t(t,s){this.s0t=t,this.i0t=0,this.e0t=s}c0t(){this.i0t=0,this.e0t=0}mD(){return this.s0t}f0t(t){this.s0t=t}d0t(){return this.i0t}p0t(t){this.i0t=t}m0t(){return this.e0t}g0t(t){this.e0t=t}y0t(t){this.n0t=!!t}w0t(){return this.n0t}S0t(t){this.r0t=!!t}v0t(){return this.r0t}b0t(t){this.h0t=t}x0t(){return this.h0t}M0t(t,s){this.o0t=t,this.a0t=s}MD(){return this.o0t}TD(t){this.a0t=t}T0t(){return this.a0t}_0t(){const t=this.s0t;return!!t.G0t()||this.i0t<t.I0t()-1&&!!t.kV().length}C0t(t){this.l0t=t}P0t(){return this.l0t}}}{const ho=self.Bs;ho.E0t=class extends ho.rr{constructor(t){super(),this.$ft=t,this.lf=this.$ft.HO(),this.wft=[],this.Xg=-1,this.vft=null,this.A0t=[]}ur(){ho.Bh(this.wft),this.$ft=null,this.lf=null}R0t(t){this.A0t=t;const s=this.A0t.slice(0);this.wft.push(s),this.Xg=0,this.vft=s}lD(){return this.$ft}HO(){return this.lf}F0t(){return this.vft}NV(){const t=++this.Xg,s=this.wft;t===s.length?s.push(this.A0t.slice(0)):ho.Vh(s[t],this.A0t),this.vft=s[t]}YV(){this.vft=this.wft[--this.Xg]}}}{const oo=self.Bs;oo.D0t=class extends oo.rr{constructor(t){super(),this.$ft=t,this.lf=this.$ft.HO(),this.wft=[],this.Xg=-1}ur(){oo.Bh(this.wft),this.$ft=null,this.lf=null}lD(){return this.$ft}HO(){return this.lf}O0t(){return 0<=this.Xg}F0t(){return this.wft[this.Xg]}NV(){if(++this.Xg,this.Xg===this.wft.length){const t=oo.lr(oo.L0t,this);return this.wft.push(t),t}{const s=this.wft[this.Xg];return s.l0(),s}}YV(){--this.Xg}k0t(s){const i=this.wft;for(let t=this.Xg;0<=t;--t){const e=i[t];if(e.Kc()===s)return e}return null}B0t(){return this.wft.slice(0,this.Xg+1)}}}{const ao=self.Bs;ao.L0t=class extends ao.rr{constructor(t){super(),this.N0t=t,this.pr="",this.Xg=0,this.W0t=!1,this.j0t=NaN}l0(){this.pr="",this.Xg=0,this.W0t=!1,this.j0t=NaN}jV(t){this.pr=t}Kc(){return this.pr}qV(t){this.Xg=t}RF(){return this.Xg}xW(){this.W0t=!0}XV(){return this.W0t}V0t(t){this.j0t=t}U0t(){return this.j0t}}}{const lo=self.Bs;lo.H0t=class extends lo.rr{constructor(){super(),this.wft=[],this.Xg=-1}ur(){lo.Bh(this.wft)}F0t(){return this.wft[this.Xg]}NV(){if(++this.Xg,this.Xg!==this.wft.length)return this.wft[this.Xg];{const t=[];return this.wft.push(t),t}}YV(){--this.Xg}}}{let t=function(t,s){return t.RF()-s.RF()},r=function(i,e){for(let t=0,s=i.length;t<s;++t)if(i[t]!==e[t])return!1;return!0};t,r;const uo=self.Bs;uo.z0t=class extends uo.rr{constructor(t){super(),this.lf=t,this.J0t=[],this.q0t=new Map,this.$0t=[],this.X0t=new Map,this.Y0t=new Map,this.Z0t=new Map,this.K0t=new Map,this.Q0t=new Map,this.tdt=new Map,this.sdt=0,this.idt=[],this.edt=[],this.ndt=[],this.rdt=new Map,this.hdt=new Map,this._ft=uo.lr(uo.qft,this),this.odt=uo.lr(uo.E0t,this),this.N0t=uo.lr(uo.D0t,this),this.adt=[],this.ldt=[],this.udt=[],this.cdt=0,this.fdt=0,this.ddt=0,this.pdt=[],this.mdt=[],this.gdt=[],this.ydt=new Map,this.wdt=new Map,self.c3_callFunction=(t,s)=>this.Sdt(t,s)}ur(){this.yX(),this._ft.ur(),this._ft=null,this.odt.ur(),this.odt=null,uo.Bh(this.ldt),uo.Bh(this.udt),this.lf=null,uo.Bh(this.J0t),this.q0t.clear()}gM(t){const s=uo.lr(uo.vdt,this,t);this.J0t.push(s),this.q0t.set(s.Kc().toLowerCase(),s)}bdt(t){this.adt.push(t)}xdt(){for(const t of this.hdt.values())t.Mdt();for(const s of this.rdt.values())s.xdt();for(const i of this.hdt.values())i.xdt();for(const e of this.J0t)e.xdt();for(const n of this.J0t)n.k$();for(const r of this.adt)r.xdt(!1);uo.Bh(this.adt),this.odt.R0t(this.ndt)}HO(){return this.lf}L$(t){return this.q0t.get(t.toLowerCase())||null}Tdt(t){this.$0t.push(t),this.X0t.set(t._dt(),t)}Gdt(t){this.Y0t.set(t.Zz(),t)}Idt(t){this.Z0t.set(t.Zz(),t)}Cdt(t){this.K0t.set(t.Zz(),t)}Pdt(t){switch(t.Edt()){case 0:this.rdt.set(t.Adt().toLowerCase(),t);break;case 1:this.hdt.set(t.Adt().toLowerCase(),t)}}Rdt(t){this.tdt.set(t.Zz(),t),(t.Cz()?this.idt:this.edt).push(t)}Fdt(i){2<=i.length&&i.sort(t);let e=this.Q0t.get(i.length);e||(e=[],this.Q0t.set(i.length,e));for(let t=0,s=e.length;t<s;++t){const n=e[t];if(r(i,n))return n}return e.push(i),i}Ddt(t){return this.ndt.push(t.Odt()),this.sdt++}xD(){return this._ft}Ldt(){return this.xD().BV()}mD(){return this.Ldt().mD()}kdt(){const t=this.Ldt(),s=t.mD();return s.Bdt(t.d0t())}Ndt(){const t=this.Ldt(),s=t.mD();return s.Wdt(t.m0t())}jdt(){return this.odt}WV(){return this.N0t}Vdt(t){const s=[];for(t=t.Udt();t;)uo.Xn(s,t.Hdt()),t=t.Udt();return s}zdt(t){const s={};for(const i of this.Vdt(t))s[i.Jdt()]=i.qdt();return Object.create(Object.prototype,s)}$dt(t){return this.tdt.get(t)||null}Xdt(t){return this.Y0t.get(t)||null}Ydt(t){return this.Z0t.get(t)||null}Zdt(t){return this.K0t.get(t)||null}uD(t){return this.rdt.get(t.toLowerCase())||null}Kdt(t,s){let i=this.hdt.get((t.Kc()+"."+s).toLowerCase());if(i)return i;if(!t.Vz())for(const e of t.Qdt())if(i=this.hdt.get((e.Kc()+"."+s).toLowerCase()))return i;return null}t1t(){return this.idt}s1t(){return this.edt}i1t(t){for(const s of this.idt)s.e1t();if(t)for(const i of this.edt)i.Sx()&&i.e1t()}n1t(t){return this.X0t.get(t.toLowerCase())||null}r1t(t){const s=this.Y0t.get(t);return s&&s.h1t()?s:null}o1t(){return this.$0t}a1t(){for(const t of this.$0t)t.l1t()}u1t(){for(const t of this.J0t)t.c1t()}f1t(t){this.u1t(),this.cdt++;for(const s of t.sY()){const i=s.u$();i&&(this.lf.d1t(s),i.LG(),this.lf.p1t())}this.cdt--}async m1t(t){this.u1t(),this.cdt++;for(const s of this.g1t(t))await this.lf.y1t(s);this.cdt--}*g1t(t){for(const s of t.sY()){const i=s.u$();i&&(this.lf.d1t(s),yield*i.w1t(),this.lf.p1t())}}S1t(t,s,i,e){let n=!1;if(!t.sO())return this.v1t(s,i,e);this.fdt++;for(const r of t.sY()){const h=r.u$();if(h){this.lf.d1t(r);for(const a of h.b1t()){const l=a.S1t(s,i,e);n=n||l}const o=h.S1t(s,i,e);n=n||o,this.lf.p1t()}}return this.fdt--,n}*x1t(t,s,i,e){let n=!1;if(!t.sO())return this.v1t(s,i,e);this.fdt++;for(const r of t.sY()){const h=r.u$();if(h){this.lf.d1t(r);for(const a of h.b1t()){const l=yield*a.x1t(s,i,e);n=n||l}const o=yield*h.x1t(s,i,e);n=n||o,this.lf.p1t()}}return this.fdt--,n}v1t(t,s,i){return this.ldt.push([t,s,i]),!1}M1t(t,s,i){let e=null,n=new Promise(t=>e=t);return this.udt.push([t,s,i,e]),n}*T1t(){if(this.lf._1t())throw new Error("should not be in breakpoint");const t=this.lf.nO();for(;this.udt.length;){const[s,i,e,n]=this.udt.shift(),r=yield*this.x1t(t,s,i,e);n(r)}}async G1t(){for(const t of this.T1t())await this.lf.y1t(t)}I1t(t,i,e,n){let r=!1,s=t.sO(),h=s.u$();if(h){this.fdt++,this.lf.d1t(s);const o=h.b1t();for(let t=0,s=o.length;t<s;++t){const l=o[t].I1t(i,e,n);r=r||l}const a=h.I1t(i,e,n);return r=r||a,this.lf.p1t(),this.fdt--,r}}*C1t(t,i,e,n){let r=!1,s=t.sO(),h=s.u$();if(h){this.fdt++,this.lf.d1t(s);const o=h.b1t();for(let t=0,s=o.length;t<s;++t){const l=yield*o[t].C1t(i,e,n);r=r||l}const a=yield*h.C1t(i,e,n);return r=r||a,this.lf.p1t(),this.fdt--,r}}P1t(){return this.fdt}E1t(){return 0<this.P1t()}A1t(){return++this.fdt}R1t(){--this.fdt}F1t(){return 0<this.cdt}zk(){return this.F1t()||this.E1t()}rX(t){for(const[s,i,e]of this.ldt)this.S1t(t,s,i,e);uo.Bh(this.ldt)}Uk(t){t?this.ddt++:this.ddt--}B5(){return 0<this.ddt}D1t(i){for(let t=0,s=i.length;t<s;++t)i[t].O1t().tc()}L1t(i){for(let t=0,s=i.length;t<s;++t)i[t].O1t().xft()}HV(i){for(let t=0,s=i.length;t<s;++t)i[t].O1t().Mft()}JV(i){for(let t=0,s=i.length;t<s;++t)i[t].O1t().YV()}gD(s){const i=new Set,e=this._ft.Zft(),n=this._ft.Kft();for(let t=0;t<=n;++t){const r=e[t].P0t();if(r)for(const h of r)s&&s.has(h)||i.add(h)}return i}k1t(t){const s=new Set([...t]),i=this.gD(s);if(0<i.size){for(const e of i)e.O1t().xft();return[...i]}return null}B1t(){const t=uo.lr(uo.N1t,this);return this.pdt.push(t),t}W1t(){return this.pdt}j1t(){if(this.pdt.length){let i=this.Ldt(),e=!1;this.cdt++;for(let t=0,s=this.pdt.length;t<s;++t){const n=this.pdt[t];n.V1t()&&n.U1t(i),n.H1t()&&(e=!0)}e&&(this.z1t(),i.l0(null)),this.cdt--}}async J1t(){if(this.pdt.length){let i=this.Ldt(),e=!1;this.cdt++;for(let t=0,s=this.pdt.length;t<s;++t){const n=this.pdt[t];n.V1t()&&await n.q1t(i),n.H1t()&&(e=!0)}e&&(this.z1t(),i.l0(null)),this.cdt--}}z1t(){const t=uo.Jh(this.pdt,t=>t.H1t());for(const s of t)s.ur()}yX(){for(const t of this.pdt)t.ur();uo.Bh(this.pdt)}$1t(t){for(const s of this.pdt)s.Tft(t);for(const i of t){const e=this.wdt.get(i);if(this.wdt.delete(i),e)for(const{resolve:n}of e.X1t.values())n(!0)}}Y1t(t){this.mdt.push({promise:t,Z1t:this.P1t()})}K1t(){uo.Bh(this.mdt)}Q1t(){const s=this.P1t();this.mdt=this.mdt.filter(t=>t.Z1t<=s)}tpt(){const t=Promise.all(this.mdt.map(t=>t.promise));return this.mdt=[],t}_D(t){const s=t.toLowerCase();this.gdt.push(s),this.lf.gN(uo.nX.eX.iX.spt,null),this.gdt.pop();for(const e of this.lf.lD().W1t())e.ipt()&&e.ept()===s&&e.npt();const i=this.ydt.get(s);i&&(i.resolve(),this.ydt.delete(s))}ID(t){const i=t.toLowerCase(),s=this.ydt.get(i);if(s)return s.promise;{let s=null,t=new Promise(t=>s=t);return this.ydt.set(i,{promise:t,resolve:s}),t}}rpt(){if(0===this.gdt.length)throw new Error("not in a signal");return this.gdt.at(-1)}hpt(t){let s=this.wdt.get(t);return s||(s={opt:[],X1t:new Map},this.wdt.set(t,s)),s}iN(t,s){const i=this.hpt(t),e=s.toLowerCase();i.opt.push(e),this.lf.gN(t._k().lpt().iX.apt,t),i.opt.pop();for(const r of this.lf.lD().W1t())r.upt()&&r.ept()===e&&r.cpt(t);const n=i.X1t.get(e);n&&(n.resolve(!1),i.X1t.delete(e)),0===i.opt.length&&0===i.X1t.size&&this.wdt.delete(t)}eN(t,s){const i=this.hpt(t),e=s.toLowerCase(),n=i.X1t.get(e);if(n)return n.promise;{let s=null,t=new Promise(t=>s=t);return i.X1t.set(e,{promise:t,resolve:s}),t}}fpt(t){const s=this.hpt(t);if(s&&0!==s.opt.length)return s.opt.at(-1);throw new Error("not in a signal")}mq(){return{groups:this.dpt(),cnds:this.ppt(),acts:this.mpt(),vars:this.gpt(),waits:this.ypt()}}gq(t){this.wpt(t.groups),this.Spt(t.cnds),this.vpt(t.acts),this.bpt(t.vars),this.xpt(t.waits)}dpt(){const t={};for(const s of this.o1t())t[s.Zz().toString()]=s.Mpt();return t}wpt(t){for(const[s,i]of Object.entries(t)){const e=parseInt(s,10),n=this.r1t(e);n&&n.Tpt(i)}}ppt(){const t={};for(const[s,i]of this.Z0t){const e=i.mq();e&&(t[s.toString()]=e)}return t}Spt(t){const s=new Map;for(const[i,e]of Object.entries(t))s.set(parseInt(i,10),e);for(const[n,r]of this.Z0t)r.gq(s.get(n)||null)}mpt(){const t={};for(const[s,i]of this.K0t){const e=i.mq();e&&(t[s.toString()]=e)}return t}vpt(t){const s=new Map;for(const[i,e]of Object.entries(t))s.set(parseInt(i,10),e);for(const[n,r]of this.K0t)r.gq(s.get(n)||null)}gpt(){const t={};for(const[s,i]of this.tdt)i._pt()||!i.Cz()&&!i.Sx()||(t[s.toString()]=i.vet());return t}bpt(t){for(const[s,i]of Object.entries(t)){const e=parseInt(s,10),n=this.$dt(e);n&&n.int(i)}}ypt(){return this.pdt.filter(t=>!t.Gpt()).map(t=>t.mq())}xpt(t){this.yX();for(const s of t){const i=uo.N1t.Ipt(this,s);i&&this.pdt.push(i)}}Cpt(){return[...this.lf.nO().sY()].map(t=>t.u$()).filter(t=>t).map(t=>t.Ppt())}Ept(t){for(;t;){const s=t.Udt();if(s instanceof uo.Apt)return s;t=s}return null}Sdt(t,s){Array.isArray(s)||(s=[]);const i=this.uD(t.toLowerCase());if(!i)return null;if(!i.Zu())return i.cD();const e=i.Rpt();if(s.length<e.length)for(s=s.slice(0);s.push(e[s.length].Odt()),s.length<e.length;);const n=i.dD();return n.yD(n.pD(),!1,i.SD(),i.cD(),...s)}}}{const co=self.Bs;co.vdt=class extends co.rr{constructor(t,s){super(),this.$ft=t,this.lf=t.HO(),this.pr=s[0],this.Fpt=[],this.Dpt=new Map,this.Opt=new Map,this.Lpt=new Map,this.kpt=!1,this.Bpt=[],this.Npt=[],this.Wpt=new Set;for(const i of s[1])this.jpt(i,null,this.Fpt);this.Vpt=this.lf.LX()?{type:"sheet",name:this.pr,Upt:0,children:[]}:null}ur(){this.$ft=null,this.lf=null}jpt(t,s,i){switch(t[0]){case 0:case 3:this.Hpt(t,s,i);break;case 1:this.zpt(t,s,i);break;case 2:this.Jpt(t,s,i);break;case 4:this.qpt(t,s);break;case 5:this.$pt(t,s,i);break;case 6:this.Xpt(t,s);break;default:throw new Error("invalid event type")}}Hpt(t,s,i){const e=co.Ypt.gM(this,s,t);if(e.Jft()){i.push(e);const n=e.Zpt();for(let t=0,s=n.length;t<s;++t)n[t].Kpt()&&this.Qpt(e,t)}else e.Kpt()?this.Qpt(e,0):i.push(e)}qpt(t,s){const i=co.Apt.tmt(this,s,t);this.$ft.Pdt(i)}Xpt(t,s){const i=co.Apt.smt(this,s,t);this.$ft.Pdt(i)}zpt(t,s,i){const e=co.imt.gM(this,s,t);i.push(e)}Jpt(t,s,i){const e=co.emt.gM(this,s,t);i.push(e)}$pt(t,s,i){const e=co.nmt.gM(this,s,t);i.push(e)}Qpt(n,r){n.Jft()||this.$ft.bdt(n);const h=n.Bdt(r),o=h.rmt(),a=h.E5();if(h.hmt()){let t=this.Opt.get(a),s=(t||(t=new Map,this.Opt.set(a,t)),h.omt().toLowerCase()),i=t.get(o),e=(i||(i=new Map,t.set(o,i)),i.get(s));e||(e=[],i.set(s,e)),e.push([n,r])}else{let t=this.Dpt.get(a),s=(t||(t={amt:new Map,lmt:new Map},this.Dpt.set(a,t)),h.G6()),i,e=(s?(i=t.lmt.get(s))||(i=new Map,t.lmt.set(s,i)):i=t.amt,i.get(o));e||(e=[],i.set(o,e)),e.push([n,r])}}xdt(){const i=this.Fpt;for(let t=0,s=i.length;t<s;++t){const e=t<s-1&&i[t+1]instanceof co.Ypt&&i[t+1].umt();i[t].xdt(e)}}cmt(t){this.Bpt.push(t)}k$(){co.Bh(this.Npt),this.fmt(this),this.Wpt.clear()}fmt(t){const s=t.Npt,i=t.Wpt;for(const e of this.Bpt){const n=e.dmt();e.pmt()&&t!==n&&!i.has(n)&&(i.add(n),n.fmt(t),s.push(n))}}b1t(){return this.Npt}lD(){return this.$ft}HO(){return this.lf}Kc(){return this.pr}mmt(t,s){this.Lpt.set(s,t)}gmt(t){return this.Lpt.get(t)||null}c1t(){this.kpt=!1}LG(){if(!this.kpt){const t=this.lf,s=t.ymt(),i=s?performance.now():0,e=(this.kpt=!0,this.lD()),n=e.Ldt();for(const r of this.Fpt)r.LG(n),e.D1t(r.kV()),e.K1t(),t.qk();n.l0(null),s&&(this.Vpt.Upt+=performance.now()-i)}}*w1t(){if(!this.kpt){this.kpt=!0;const t=this.lf,s=this.lD(),i=s.Ldt();for(const e of this.Fpt)yield*e.w1t(i),s.D1t(e.kV()),s.K1t(),t.qk();i.l0(null)}}S1t(e,n,r){if(!n)return this.wmt(e,n,null,null);{let t=n.E5(),s=!1,i=this.wmt(e,n,t,r);s=s||i;for(const h of t.Qdt())i=this.wmt(e,n,h,r),s=s||i}}wmt(t,s,i,e){const n=this.Dpt.get(i);if(!n)return!1;const r=e?n.lmt.get(e):n.amt;if(!r)return!1;const h=r.get(t);if(!h)return!1;let o=!1;for(const[a,l]of h){const u=this.Smt(s,a,l);o=o||u}return o}*x1t(e,n,r){if(!n)return yield*this.vmt(e,n,null,null);{let t=n.E5(),s=!1,i=yield*this.vmt(e,n,t,r);s=s||i;for(const h of t.Qdt())i=yield*this.vmt(e,n,h,r),s=s||i}}*vmt(t,s,i,e){const n=this.Dpt.get(i);if(!n)return!1;const r=e?n.lmt.get(e):n.amt;if(!r)return!1;const h=r.get(t);if(!h)return!1;let o=!1;for(const[a,l]of h){let t;t=a.bmt()?this.Smt(s,a,l):yield*this.xmt(s,a,l),o=o||t}return o}I1t(t,s,i){const e=s.E5(),n=this.Opt.get(e);if(!n)return!1;const r=n.get(t);if(!r)return!1;const h=r.get(i);if(!h)return!1;let o=!1;for(let t=0,s=h.length;t<s;++t){const a=h[t],l=this.Smt(null,a[0],a[1]);o=o||l}return o}*C1t(t,s,i){const e=s.E5(),n=this.Opt.get(e);if(!n)return!1;const r=n.get(t);if(!r)return!1;const h=r.get(i);if(!h)return!1;let o=!1;for(let n=0,t=h.length;n<t;++n){let t=h[n],s=t[0],i=t[1],e;e=s.bmt()?this.Smt(null,s,i):yield*this.xmt(null,s,i),o=o||e}return o}Smt(t,s,i){let e=this.lf,n=this.$ft,r=n.mD(),h=n.xD(),o=n.P1t(),a=!1;r&&n.L1t(r.pD()),n.L1t(s.pD());const l=1<o,u=(l&&n.jdt().NV(),h.NV(s));if(t){const f=s.Zpt()[i].E5(),d=f.kk();d.Nft(t),t.V5()&&t.Mmt()}let c=!0;if(s.v4()){const p=s.Tmt();for(let t=0,s=p.length;t<s;++t)if(!p[t]._mt(u)){c=!1;break}}return c&&(s.Jft()?s.Gmt(u,i):s.LG(u),a=u.w0t()),h.YV(),l&&n.jdt().YV(),n.JV(s.pD()),r&&n.JV(r.pD()),r||1!==o||(n.K1t(),n.B5())||e.qk(),a}*xmt(t,s,i){let e=this.lf,n=this.$ft,r=n.mD(),h=n.xD(),o=n.P1t(),a=!1;r&&n.L1t(r.pD()),n.L1t(s.pD());const l=1<o,u=(l&&n.jdt().NV(),h.NV(s));if(t){const f=s.Zpt()[i].E5(),d=f.kk();d.Nft(t),t.V5()&&t.Mmt()}let c=!0;if(s.v4()){const p=s.Tmt();for(let t=0,s=p.length;t<s;++t)if(!(yield*p[t].Imt(u))){c=!1;break}}return c&&(s.Jft()?yield*s.Cmt(u,i):yield*s.w1t(u),a=u.w0t()),h.YV(),l&&n.jdt().YV(),n.JV(s.pD()),r&&n.JV(r.pD()),r||1!==o||(n.K1t(),n.B5())||e.qk(),a}Ppt(){return this.Vpt}}}{let u=function(t,s){return!0};u;const fo=self.Bs,po=[];function*N(t,s){return!0}fo.Ypt=class extends fo.rr{constructor(t,s,i){super(),this.Pq=t,this.lf=t.HO(),this.Pmt=s,this.Emt=null,this._ft=this.lf.lD().xD(),this.Amt=[],this.Rmt=[],this.Fmt=!1,this.Dmt=!1,this.Omt=!1,this.Lmt=!1,this.kmt=!!i[2],this.Bmt=!1,this.Nmt=null,this.Wmt=[],this.Lnt=[],this.jmt=[],this.Vmt=u,this.Umt=N,this.Hmt=!1,this.zmt=!1,this.Jmt="",this.qmt=!1,this.$mt=null,this.Vpt=null,this.m7=i[4],this.Xmt=i[5],this.Pq.mmt(this,this.Xmt),this.Ymt=this.lf.LX()?{Zmt:i[3][0],Kmt:i[3][1],Qmt:!1,tgt:!1,sgt:!1,igt:!1}:null,this.lD().Gdt(this),3===i[0]&&this.egt(i[1]);let e=0;for(const n of i[6]){const r=fo.ngt.gM(this,n,e++);this.Wmt.push(r),this.rgt(r.E5())}e=0;for(const h of i[7]){const o=fo.hgt.gM(this,h,e++);this.Lnt.push(o)}if(9===i.length){const a=i[8];for(const l of a)this.Pq.jpt(l,this,this.jmt)}this.Wmt.length&&(this.Bmt=null===this.Wmt[0].E5()&&this.Wmt[0].rmt()===fo.nX.eX.iX.ogt),0===this.Wmt.length&&(this.Wmt=po),0===this.Lnt.length&&(this.Lnt=po),0===this.jmt.length&&(this.jmt=po)}static gM(t,s,i){return fo.lr(fo.Ypt,t,s,i)}egt(t){this.Hmt=!0,this.zmt=!!t[0],this.qmt=this.zmt,this.Jmt=t[1].toLowerCase(),this.$mt=[],this.lD().Tdt(this),this.lf.LX()&&(this.Vpt={type:"group",name:t[1],Upt:0,children:[]})}agt(t){this.$mt.push(t)}lgt(t,s){for(const i of t.M$().lX())s.includes(i)||s.push(i)}ugt(t,s){if(t)if(s.includes(t)||s.push(t),t.Vz())for(const i of t.cgt())i.V5()&&this.lgt(i,s);else t.V5()&&this.lgt(t,s)}rgt(t){this.ugt(t,this.Amt)}fgt(t){this.ugt(t,this.Rmt)}dgt(){this.Amt=this.lf.jz()}xdt(t){this.Lmt=!!t,this.pgt(),this.mgt();for(const s of this.Wmt)s.xdt();if(0<this.Lnt.length){let t=!1;for(const e of this.Lnt)e.xdt(),e.ggt()&&(t=!0);t?(this.Vmt=this.ygt,this.Umt=this.wgt):(this.Vmt=this.Sgt,this.Umt=this.vgt)}const i=this.jmt;for(let t=0,s=i.length;t<s;++t){const n=t<s-1&&i[t+1]instanceof fo.Ypt&&i[t+1].umt();i[t].xdt(n)}this.Ymt&&this.bgt(),this.Vpt&&this.xgt().Ppt().children.push(this.Vpt)}Ppt(){return this.Vpt}xgt(){let t=this.v4();for(;t;){if(t.h1t())return t;t=t.v4()}return this.Pq}bgt(){const t=this.Ymt;t.Qmt=this.Wmt.every(t=>t.bmt()),t.tgt=this.Lnt.every(t=>t.bmt()),t.sgt=this.jmt.every(t=>t.bmt()),t.igt=t.Qmt&&t.tgt&&t.sgt}Mgt(){let t=this;for(;t.bgt(),t=t.v4(););}pgt(){if(this.h1t()){let t=this.v4();for(this.Omt=!0;t;){if(!t.h1t()){this.Omt=!1;break}t=t.v4()}}}Tgt(){const t=this.lf.jz();if(this.Amt===t)this.Rmt=t;else{this.Rmt=fo.Yh(this.Amt);let t=this.v4();for(;t;){for(const i of t.Amt)this.fgt(i);t=t.v4()}const s=this.lD();this.Amt=s.Fdt(this.Amt),this.Rmt=s.Fdt(this.Rmt)}}mgt(){if(this._gt()){this.Nmt=[];let t=this.v4();for(;t;)this.Nmt.push(t),t=t.v4();this.Nmt.reverse()}}Ggt(){this.Dmt=!0,this.Pmt&&this.Pmt.Ggt()}G0t(){return this.Dmt}kV(){return this.Amt}pD(){return this.Fmt||(this.Fmt=!0,this.Tgt()),this.Rmt}Igt(t){return this.Amt.includes(t)}Tmt(){return this.Nmt}u$(){return this.Pq}lD(){return this.Pq.lD()}HO(){return this.lf}v4(){return this.Pmt}Cgt(t){this.Emt=t}Udt(){return this.Emt||this.Pmt}Pgt(){return this.Xmt}Egt(){return this.Ymt&&this.Ymt.Kmt}Agt(){return this.Egt()&&this.Ymt.Zmt}Rgt(t){this.Ymt.Zmt=!!t,this.Mgt()}h1t(){return this.Hmt}Fgt(){return this.Omt}umt(){return this.Bmt}Dgt(){return this.Lmt}_dt(){return this.Jmt}Mpt(){return this.qmt}l1t(){this.Tpt(this.zmt)}Tpt(t){if(t=!!t,!this.Hmt)throw new Error("not a group");if(this.qmt!==t){this.qmt=t;for(const s of this.$mt)s.Ogt();if(this.$mt.length){const i=this.lf.bO(),e=i.u$();e&&e.k$()}}}Zz(){return this.m7}Jft(){return this.kmt}Kpt(){return this.Wmt.length&&this.Wmt[0].Kpt()}Lgt(){return this.Emt&&this.Emt instanceof fo.Apt}_gt(){return this.Lgt()||this.Wmt.some(t=>t.Kpt())}Zpt(){return this.Wmt}I0t(){return this.Wmt.length}Bdt(t){if((t=Math.floor(t))<0||t>=this.Wmt.length)throw new RangeError("invalid condition index");return this.Wmt[t]}kgt(t){return this.Bdt(t)}Bgt(t){let s=t.RF();if(0!==s){--s;const i=t.Ngt()?t.Wgt():t.E5();for(;0<=s;--s){const e=this.Wmt[s];if(i===e.E5()||e.Ngt()&&e.Wgt()===i)return!1}}return!0}jgt(){return this.Lnt}Vgt(){return this.Lnt.length}Wdt(t){if((t=Math.floor(t))<0||t>=this.Lnt.length)throw new RangeError("invalid action index");return this.Lnt[t]}Ugt(s){s=Math.floor(s);const t=this.Lnt.find(t=>t.Hgt()===s);if(t)return t;throw new RangeError("invalid action debug index")}zgt(t){return 0<=(t=Math.floor(t))&&t<this.Lnt.length}Jgt(){return this.jmt}Hdt(){return this.jmt.filter(t=>t instanceof fo.imt)}_mt(i){i.f0t(this);let e=this.Wmt,n=0===e.length;for(let t=0,s=e.length;t<s;++t){const r=e[t];if(i.p0t(t),r.N6())throw new Error("trigger cannot be used as sub-event to a loop");if(r.LG())n=!0;else if(!this.kmt)return!1}return!this.kmt||n}Gmt(t,s){t.f0t(this),t.p0t(s),this.Wmt[s].LG()&&(this.Vmt(t,0)&&this.qgt(t),t.y0t(!0))}*Imt(i){i.f0t(this);let e=this.Wmt,n=0===e.length;for(let t=0,s=e.length;t<s;++t){const r=e[t];if(i.p0t(t),r.N6())throw new Error("trigger cannot be used as sub-event to a loop");if(r.bmt()?r.LG():yield*r.w1t())n=!0;else if(!this.kmt)return!1}return!this.kmt||n}*Cmt(t,s){t.f0t(this),t.p0t(s);let i=this.Wmt[s];if(i.bmt()?i.LG():yield*i.w1t())(this.$gt()?this.Vmt(t,0):yield*this.Umt(t,0))&&(this.Xgt()?this.qgt():yield*this.Ygt()),t.y0t(!0)}LG(t){t.f0t(this),this.Bmt||t.S0t(!1),this.kmt?this.Zgt(t):this.Kgt(t)}*w1t(t){(this.Agt()||this.lf.Qgt())&&(yield this),t.f0t(this),this.Bmt||t.S0t(!1),this.kmt?yield*this.tyt(t):yield*this.syt(t)}Zgt(i){let e=this.Wmt,n=0===e.length;for(let t=0,s=e.length;t<s;++t){const r=e[t];if(!r.Kpt()){i.p0t(t);const h=r.LG();n=n||h}}i.y0t(n),n&&(this.Vmt(i,0)&&this.qgt(i),this.Lmt)&&i.S0t(!0)}*tyt(i){let e=this.Wmt,n=0===e.length;for(let s=0,t=e.length;s<t;++s){const r=e[s];if(!r.Kpt()){i.p0t(s);let t;t=r.bmt()?r.LG():yield*r.w1t(),n=n||t}}if(i.y0t(n),n)(this.$gt()?this.Vmt(i,0):yield*this.Umt(i,0))&&(this.Xgt()?this.qgt():yield*this.Ygt()),this.Lmt&&i.S0t(!0)}Kgt(i){const e=this.Wmt;for(let t=0,s=e.length;t<s;++t){const n=e[t],r=(i.p0t(t),n.LG());if(!r)return void i.y0t(!1)}i.y0t(!0),this.Vmt(i,0)&&this.qgt(i),i.w0t()&&this.Lmt&&i.S0t(!0)}*syt(i){const e=this.Wmt;for(let t=0,s=e.length;t<s;++t){const n=e[t];i.p0t(t);if(!(n.bmt()?n.LG():yield*n.w1t()))return void i.y0t(!1)}i.y0t(!0);(this.$gt()?this.Vmt(i,0):yield*this.Umt(i,0))&&(this.Xgt()?this.qgt():yield*this.Ygt()),i.w0t()&&this.Lmt&&i.S0t(!0)}Sgt(i,e){const n=this.Lnt;for(let t=e,s=n.length;t<s;++t){const r=n[t];i.g0t(t),r.LG()}return!0}*vgt(i,e){const n=this.Lnt;for(let t=e,s=n.length;t<s;++t){const r=n[t];i.g0t(t),r.bmt()?r.LG():yield*r.w1t()}return!0}ygt(i,e){const n=this.lD(),r=this.Lnt;for(let t=e,s=r.length;t<s;++t){const h=r[t],o=(i.g0t(t),h.LG());if(h.iyt()&&!0===o)return!1;h.eyt()&&o instanceof Promise&&n.Y1t(o)}return!0}*wgt(i,e){const n=this.lD(),r=this.Lnt;for(let s=e,t=r.length;s<t;++s){const h=r[s];i.g0t(s);let t;if(t=h.bmt()?h.LG():yield*h.w1t(),h.iyt()&&!0===t)return!1;h.eyt()&&t instanceof Promise&&n.Y1t(t)}return!0}nyt(t){this.Vmt(t,t.m0t())&&this.qgt()}*ryt(t){(yield*this.Umt(t,t.m0t()))&&(yield*this.Ygt())}qgt(){if(this.jmt.length){const t=this.h1t()&&this.lf.ymt(),s=t?performance.now():0,i=this._ft,e=i.NV(this);this.Dmt?this.hyt(e):this.oyt(e),i.YV(),t&&(this.Vpt.Upt+=performance.now()-s)}}hyt(e){const n=this.Hmt,r=this.Omt,h=this.lD(),o=this.jmt;for(let t=0,s=o.length,i=s-1;t<s;++t){const a=o[t],l=a.kV(),u=!r||!n&&t<i;u&&h.HV(l),a.LG(e),u?h.JV(l):h.D1t(l)}}oyt(i){const e=this.jmt;for(let t=0,s=e.length;t<s;++t)e[t].LG(i)}*Ygt(){if(this.jmt.length){const t=this._ft,s=t.NV(this);this.Dmt?yield*this.ayt(s):yield*this.lyt(s),t.YV()}}*ayt(e){const n=this.Hmt,r=this.Omt,h=this.lD(),o=this.jmt;for(let t=0,s=o.length,i=s-1;t<s;++t){const a=o[t],l=a.kV(),u=!r||!n&&t<i;u&&h.HV(l),yield*a.w1t(e),u?h.JV(l):h.D1t(l)}}*lyt(i){const e=this.jmt;for(let t=0,s=e.length;t<s;++t)yield*e[t].w1t(i)}zV(i,e){e.c0t();const n=this.Wmt;if(!this.Jft())for(let t=i.d0t()+1,s=n.length;t<s;++t){const r=n[t],h=(e.p0t(t),r.LG());if(!h)return!1}return this.Vmt(e,0)&&this.qgt(e),!0}*uyt(i,e){e.c0t();const n=this.Wmt;if(!this.Jft())for(let t=i.d0t()+1,s=n.length;t<s;++t){const r=n[t];e.p0t(t);if(!(r.bmt()?r.LG():yield*r.w1t()))return!1}return(this.$gt()?this.Vmt(e,0):yield*this.Umt(e,0))&&(this.Xgt()?this.qgt():yield*this.Ygt()),!0}bmt(){return!this.Agt()&&!this.lf.Qgt()&&this.Ymt.igt}$gt(){return!this.lf.Qgt()&&this.Ymt.tgt}Xgt(){return!this.lf.Qgt()&&this.Ymt.sgt}cyt(i){if(this.v4()){const e=this.Tmt();for(let t=0,s=e.length;t<s;++t)if(!e[t]._mt(i))return!1}return!0}*fyt(i){if(this.v4()){const e=this.Tmt();for(let t=0,s=e.length;t<s;++t)if(!(yield*e[t].Imt(i)))return!1}return!0}dyt(t,s,i){if(0<s.length)if(i){const e=s.map(t=>t.ei(0));t.jdt().NV(),this.Emt.pyt(e)}else this.Emt.myt(s);else i&&t.jdt().NV()}gyt(t,s,i,e){let n,r,h=0<t.length,o=null,a=this.lf,l=this._ft,u=a.lD(),c=this.Emt,f=c.eyt(),d=u.A1t(),p=1<d;if(this.dyt(u,s,p),h&&(i?u.HV(t):u.L1t(t)),null!==e){if(e.yyt){const g=i?e.yyt.kk():e.yyt.O1t().bft(),y=e.wyt.kk();y.Wft(g.Lk()),y.Hft(),i||e.wyt.Syt()}else if(e.vyt){const w=e.vyt.kk();w.Wft(e.byt),w.Hft()}e.xyt&&(o=u.k1t(t))}const m=l.NV(this);return i&&m.C0t(t),this.cyt(m)&&(m.f0t(this),f&&([r,n]=c.Myt()),this.Kgt(m),f)&&c.Tyt(r),l.YV(),p&&u.jdt().YV(),null!==o&&u.JV(o),h&&u.JV(t),u.R1t(),f||u.Q1t(),n}*_yt(t,s,i,e){let n,r,h=((this.Agt()||this.lf.Qgt())&&(yield this),0<t.length),o=null,a=this.lf,l=this._ft,u=a.lD(),c=this.Emt,f=c.eyt(),d=u.A1t(),p=1<d;if(this.dyt(u,s,p),h&&(i?u.HV(t):u.L1t(t)),null!==e){if(e.yyt){const g=i?e.yyt.kk():e.yyt.O1t().bft(),y=e.wyt.kk();y.Wft(g.Lk()),y.Hft(),i||e.wyt.Syt()}else if(e.vyt){const w=e.vyt.kk();w.Wft(e.byt),w.Hft()}e.xyt&&(o=u.k1t(t))}const m=l.NV(this);return i&&m.C0t(t),(yield*this.fyt(m))&&(m.f0t(this),f&&([r,n]=c.Myt()),yield*this.syt(m),f)&&c.Tyt(r),l.YV(),p&&u.jdt().YV(),null!==o&&u.JV(o),h&&u.JV(t),u.R1t(),f||u.Q1t(),n}Gyt(t,s){const i=this.pD(),e=0<i.length,n=this.lf,r=this._ft,h=n.lD(),o=h.A1t(),a=1<o,l=(a&&h.jdt().NV(),this.Emt.pyt(t),e&&(s?h.HV(i):h.L1t(i)),r.NV(this));this.cyt(l)&&(l.f0t(this),this.Kgt(l)),r.YV(),a&&h.jdt().YV(),e&&h.JV(i),h.R1t(),h.Q1t()}*Iyt(t,s){(this.Agt()||this.lf.Qgt())&&(yield this);const i=this.pD(),e=0<i.length,n=this.lf,r=this._ft,h=n.lD(),o=h.A1t(),a=1<o,l=(a&&h.jdt().NV(),this.Emt.pyt(t),e&&(s?h.HV(i):h.L1t(i)),r.NV(this));(yield*this.fyt(l))&&(l.f0t(this),yield*this.syt(l)),r.YV(),a&&h.jdt().YV(),e&&h.JV(i),h.R1t(),h.Q1t()}yD(t,s,i,e,...n){let r,h,o=0<t.length,a=this.lf,l=this._ft,u=a.lD(),c=this.Emt,f=c.eyt(),d=u.A1t(),p=1<d,m=(p&&u.jdt().NV(),0<n.length&&this.Emt.pyt(n),o&&(s?u.HV(t):u.L1t(t)),l.NV(this));return m.M0t(i,e),l.Qft(m),a.VV(!1),this.cyt(m)&&(m.f0t(this),f&&([h,r]=c.Myt()),this.Kgt(m),f)&&c.Tyt(h),a.VV(!0),l.YV(),l.t0t(),p&&u.jdt().YV(),o&&u.JV(t),u.R1t(),f||u.Q1t(),r||m.T0t()}}}{let e=self.Bs,t=[],s=!1;e.nmt=class extends e.rr{constructor(t,s,i){super();const e=t.HO(),n=t.lD(),r=(this.Pq=t,this.$ft=n,this.lf=t.HO(),this.Pmt=s,e.Cyt(i[1]));this.Pyt=r,this.Xmt=i[2],this.Pq.mmt(this,this.Xmt),this.Ymt=e.LX()?{Zmt:i[3][0],Kmt:i[3][1]}:null}static gM(t,s,i){return e.lr(e.nmt,t,s,i)}xdt(){const t=this.Pyt,s=this.lf.lD().zdt(this);this.Pyt=t.bind(null,this.lf.ZL(),s)}v4(){return this.Pmt}Udt(){return this.Pmt}u$(){return this.Pq}Pgt(){return this.Xmt}Egt(){return this.Ymt&&this.Ymt.Kmt}Agt(){return this.Egt()&&this.Ymt.Zmt}Rgt(t){this.Ymt.Zmt=!!t}umt(){return!1}kV(){return t}pD(){return this.Pmt?this.Pmt.pD():t}LG(t){t.f0t(this),this.$ft.Y1t(this.Eyt())}async Eyt(){try{await this.Pyt()}catch(t){console.error(`Unhandled exception running script %c${this.u$().Kc()}, event ${this.Pgt()}:`,"font-size: 1.2em; font-weight: bold;",t),self.C3Debugger&&self.C3Debugger._SetLastErrorScript(this),s||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),s=!0)}}*w1t(t){t.f0t(this),(this.Agt()||this.lf.Qgt())&&(yield this),this.LG(t)}bmt(){return!this.Agt()&&!this.lf.Qgt()}static Ayt(){return s}static Ryt(){s=!0}}}{const mo=self.Bs;mo.Apt=class extends mo.rr{constructor(t,s,i){super(),this.Pq=t,this.lf=t.HO(),this.Pmt=s,this.Fyt=0,this.Dyt="",this.Oyt=0,this.Lyt=[],this.kyt=!0,this.Byt="",this.yft=null,this.Nyt=!1,this.Wyt=[],this.jyt=!1,this.Vyt=!1,this.Uyt=0,this.Hyt=-1,this.zyt=new Map,this.Jyt=mo.Ypt.gM(t,s,i),this.Jyt.Cgt(this)}qyt(t){this.Fyt=0,this.Dyt=t[0],this.Oyt=t[1],this.Lyt=t[2].map(t=>mo.imt.gM(this.Pq,this,t)),this.kyt=t[3],this.Vyt=t[4],this.jyt=t[5]}$yt(t){this.Fyt=1,this.Byt=t[1],this.yft=this.lf.wz(t[2]),this.Jyt.rgt(this.yft),this.Dyt=this.yft.Kc()+"."+this.Byt,this.Oyt=t[3],this.Lyt=t[4].map(t=>mo.imt.gM(this.Pq,this,t)),this.kyt=t[5],this.Vyt=t[6],this.jyt=t[7],this.yft.Xyt(this)}static tmt(t,s,i){const e=mo.lr(mo.Apt,t,s,i),n=i[1];return e.qyt(n),e}static smt(t,s,i){const e=mo.lr(mo.Apt,t,s,i),n=i[1];return e.$yt(n),e}Mdt(){if(this.yft&&this.yft.Vz())for(const t of this.yft.cgt())if(t.Yyt(this.Byt)){this.Nyt=!0;break}}xdt(){for(const t of this.Lyt)t.xdt();this.Jyt.xdt(!1)}Edt(){return this.Fyt}Hdt(){return this.Lyt}Rpt(){return this.Lyt}fD(){return this.Lyt.length}Zyt(t){this.Wyt.push(t)}Kyt(){return this.Wyt}myt(i){const e=this.Lyt;for(let t=0,s=e.length;t<s;++t)e[t].int(i[t].ei(0))}pyt(i){const e=this.Lyt;for(let t=0,s=e.length;t<s;++t)e[t].int(i[t])}Qyt(){return this.Lyt.map(t=>t.vet())}v4(){return this.Pmt}Udt(){return this.Pmt}Adt(){return this.Dyt}twt(){return this.Byt}swt(){return this.Nyt}SD(){return this.Oyt}E5(){return this.yft}Zu(){return this.kyt}cD(){switch(this.Oyt){case 0:return null;case 2:return"";default:return 0}}dD(){return this.Jyt}wD(){return this.jyt}eyt(){return this.Vyt}Myt(){const t=this.Uyt++;this.Hyt=t;let s,i=new Promise(t=>s=t);return this.zyt.set(t,{resolve:s,iwt:0}),[t,i]}Tyt(t){const s=this.zyt.get(t);0===s.iwt&&(s.resolve(),this.zyt.delete(t)),this.Hyt=-1}ewt(){const t=this.zyt.get(this.Hyt);return t.iwt++,this.Hyt}nwt(t){this.Hyt=t;const s=this.zyt.get(t);s.iwt--}rwt(t,s){const i=new Map,e=[];for(const n of this.yft.kk().Lk()){const r=n.E5();if(r.Yyt(this.Byt)){const h=i.get(r);Array.isArray(h)?h.push(n):i.set(r,[n])}else e.push(n)}if(0<e.length&&this.Jyt.gyt(t,s,this.jyt,{vyt:this.yft,byt:e}),0<i.size)for(const[o,a]of i){const l=o.hwt(this.Byt).dD(),u=[...new Set([...t,...l.kV()])];l.gyt(u,s,this.jyt,{vyt:o,byt:a})}}*owt(t,s){const i=new Map,e=[];for(const n of this.yft.kk().Lk()){const r=n.E5();if(r.Yyt(this.Byt)){const h=i.get(r);Array.isArray(h)?h.push(n):i.set(r,[n])}else e.push(n)}if(0<e.length&&(yield*this.Jyt._yt(t,s,this.jyt,{vyt:this.yft,byt:e})),0<i.size)for(const[o,a]of i){const l=o.hwt(this.Byt).dD(),u=[...new Set([...t,...l.kV()])];yield*l._yt(u,s,this.jyt,{vyt:o,byt:a})}}}}{const go=self.Bs,yo=[];go.imt=class extends go.rr{constructor(t,s,i){super();const e=t.lD();this.Pq=t,this.$ft=e,this.lf=t.HO(),this.Pmt=s,this.odt=e.jdt(),this.pr=i[1],this.yf=i[2],this.awt=i[3],this.kb=!!i[4],this.lwt=!!i[5],this.uwt=s instanceof go.Apt,this.m7=i[6],this.cwt=this.lf.Jdt(i[8]),this.fwt=t=>this.int(t),this.dwt=()=>this.vet(),this.pwt=!this.Pmt||this.kb||this.lwt,this.Rnt=this.awt,this.mwt=-1,this.gwt()&&(this.Rnt=this.Rnt?1:0),!this.ywt()||this.Sx()||this._pt()||(this.mwt=e.Ddt(this)),e.Rdt(this)}static gM(t,s,i){return go.lr(go.imt,t,s,i)}xdt(){if(this.ywt()&&!this.Sx()&&!this._pt()&&!this.wwt()){const t=this.$ft.Ept(this);t&&t.Zyt(this)}}Kc(){return this.pr}Jdt(){return this.cwt}v4(){return this.Pmt}Udt(){return this.v4()}Cz(){return!this.v4()}ywt(){return!this.Cz()}wwt(){return this.uwt}Sx(){return this.kb}_pt(){return this.lwt}me(){return 0===this.yf}Ge(){return 1===this.yf}gwt(){return 2===this.yf}umt(){return!1}Zz(){return this.m7}Odt(){return this.awt}kV(){return yo}LG(t){!this.ywt()||this.Sx()||this._pt()||this.int(this.Odt())}bmt(){return!0}*w1t(t){this.LG(t)}int(t){this.me()?"number"!=typeof t&&(t=parseFloat(t)):this.Ge()?"string"!=typeof t&&(t=t.toString()):this.gwt()&&(t=t?1:0),this.pwt?this.Rnt=t:this.odt.F0t()[this.mwt]=t}vet(){return this.pwt?this.Rnt:this.odt.F0t()[this.mwt]}Swt(){let t=this.vet();return this.gwt()?!!t:t}e1t(){this.Rnt=this.awt}qdt(){return{configurable:!1,enumerable:!0,get:this.dwt,set:this.fwt}}}}{const wo=self.Bs,So=[];wo.emt=class extends wo.rr{constructor(t,s,i){super();const e=t.lD();this.Pq=t,this.$ft=e,this.lf=t.HO(),this.Pmt=s,this.vwt=null,this.bwt=i[1],this.a0=!0}static gM(t,s,i){return wo.lr(wo.emt,t,s,i)}xdt(){this.vwt=this.$ft.L$(this.bwt),this.Pq.cmt(this);let t=this.v4();for(;t;)t instanceof wo.Ypt&&t.h1t()&&t.agt(this),t=t.v4();this.Ogt(),this.lf.LX()&&this.Pq.Ppt().children.push(this.vwt.Ppt())}v4(){return this.Pmt}kV(){return So}dmt(){return this.vwt}LG(t){const s=!!this.v4(),i=this.lf.jz();s&&this.$ft.L1t(i),this.vwt.LG(),s&&this.$ft.JV(i)}*w1t(t){const s=!!this.v4(),i=this.lf.jz();s&&this.$ft.L1t(i),yield*this.vwt.w1t(),s&&this.$ft.JV(i)}bmt(){return!1}pmt(){return this.a0}Ogt(){let t=this.v4();for(;t;){if(t instanceof wo.Ypt&&t.h1t()&&!t.Mpt())return void(this.a0=!1);t=t.v4()}this.a0=!0}}}{let a=function(t,s){return s<=t?t%s:(t<0&&(t<=-s&&(t%=s),t<0)&&(t+=s),t)};a;const vo=self.Bs;vo.xwt=class extends vo.rr{constructor(t){super(),this.Y2=t,this.lf=t.HO()}xdt(){}static Mwt(t,s){const i=s[0],e=[_o,Mo,To,Go,bo,xo];return vo.lr(e[i],t,s)}};class bo extends vo.xwt{constructor(t,s){super(t),this.Twt=this.lf._wt(),this.Pyt=this.lf.Cyt(s[1]),this.Pyt!==vo.nX.eX.Xnt.random&&this.Pyt!==vo.nX.eX.Xnt.Gwt||this.Y2.Iwt()}Cwt(){return this.Twt.Pwt(this.Pyt,this.Twt)}}class xo extends vo.xwt{constructor(t,s){super(t),this.Ewt=null,this.Dyt=s[1],this.Y2.Iwt()}xdt(){const t=this.lf.lD(),s=(this.Ewt=t.uD(this.Dyt),this.Dyt=null,this.Y2.dD()),i=this.Ewt.dD();this.Awt=[...new Set([...s.pD(),...i.pD()])],this.Awt=t.Fdt(this.Awt)}Cwt(){const t=this.Ewt;if(t.Zu()){const s=t.dD();return vo.Ypt.prototype.yD.bind(s,this.Awt,t.wD(),t.SD(),t.cD())}{const i=t.cD();return()=>i}}}class Mo extends vo.xwt{constructor(t,s){super(t),this.yft=this.lf.wz(s[1]),this.Pyt=this.lf.Cyt(s[2]),this.Rwt=!!s[3],this._ft=this.lf.lD().xD(),this.Y2.Fwt(this.yft)}Cwt(){return this.yft._k().Pwt(this.Pyt,this.yft.xk().g6())}Dwt(...t){const s=this.yft,i=s.kk().Fft(),e=i.length;if(0===e)return this.Rwt?"":0;const n=a(this.Y2.Owt(),e);return this._ft.BV().b0t(s),this.Pyt.apply(i[n].g6(),t)}Lwt(t,...s){const i=this.yft,e=i.Lk(),n=e.length;if(0===n)return this.Rwt?"":0;const r=a(t,n);return this._ft.BV().b0t(i),this.Pyt.apply(e[r].g6(),s)}}class To extends vo.xwt{constructor(t,s){super(t),this.yft=this.lf.wz(s[1]),this.kwt=s[3],this.Rwt=!!s[2],this.Y2.Fwt(this.yft)}Bwt(){const t=this.yft.kk().Fft(),s=t.length;if(0===s)return this.Rwt?"":0;const i=a(this.Y2.Owt(),s);return t[i].Nwt(this.kwt)}Wwt(){const t=this.yft,s=t.kk().Fft(),i=s.length;if(0===i)return this.Rwt?"":0;const e=a(this.Y2.Owt(),i),n=s[e],r=n.E5().jwt(t.Vwt());return n.Nwt(this.kwt+r)}Uwt(t){const s=this.yft,i=s.Lk(),e=i.length;if(0===e)return this.Rwt?"":0;let n=a(t,e),r=i[n],h=0;return s.Vz()&&(h=r.E5().jwt(s.Vwt())),r.Nwt(this.kwt+h)}}class _o extends vo.xwt{constructor(t,s){super(t),this.yft=this.lf.wz(s[1]),this.Hwt=this.yft.Gnt(s[2]),this.zwt=this.yft.sit(s[2]),this.Pyt=this.lf.Cyt(s[3]),this.Rwt=!!s[4],this._ft=this.lf.lD().xD(),this.Y2.Fwt(this.yft)}Jwt(...t){const s=this.yft,i=s.kk().Fft(),e=i.length;if(0===e)return this.Rwt?"":0;let n=a(this.Y2.Owt(),e),r=(this._ft.BV().b0t(s),i[n]),h=0;return s.Vz()&&(h=r.E5().qwt(s.Vwt())),this.Pyt.apply(r._nt()[this.zwt+h].g6(),t)}$wt(t,...s){const i=this.yft,e=i.Lk(),n=e.length;if(0===n)return this.Rwt?"":0;let r=a(t,n),h=(this._ft.BV().b0t(i),e[r]),o=0;return i.Vz()&&(o=h.E5().qwt(i.Vwt())),this.Pyt.apply(h._nt()[this.zwt+o].g6(),s)}}class Go extends vo.xwt{constructor(t,s){super(t),this.Xwt=null,this.Ywt=s[1]}xdt(){this.Xwt=this.lf.lD().$dt(this.Ywt)}Zwt(){return this.Xwt}}}{let r=function(t){const s=self.Kwt[t];if(s)return s;throw new Error("invalid expression number")};r;const Io=self.Bs;Io.Qwt=class extends Io.rr{constructor(t,s,i){super(),this.Y2=t,this.Xg=i,this.yf=s,this.ei=null,this.tSt=!1,this.lwt=!1}static gM(t,s,i){const e=s[0],n=[Co,Po,Lo,Ao,Fo,Eo,Do,Co,Ao,Ao,ko,Bo,Lo,Wo,Po,Oo,Ro,No,jo,Vo,Uo,Ho];return Io.lr(n[e],t,e,i,s)}xdt(){}Iwt(){this.tSt=!0}Fwt(t){this.tSt||!t||t._k().QL()||(this.tSt=!0)}sSt(){return this.tSt}RF(){return this.Xg}HO(){return this.Y2.HO()}dD(){return this.Y2.dD()}_pt(){return this.lwt}iSt(){return 4===this.yf}};class Co extends Io.Qwt{constructor(t,s,i,e){super(t,s,i),this.eSt=0;const n=e[1];this.nSt=n[0],this.rSt=[],this.hSt=null;for(let t=1,s=n.length;t<s;++t)this.rSt.push(Io.xwt.Mwt(this,n[t]));this.rSt.length?this.ei=this.oSt:(this.ei=r(this.nSt),this.lwt=!0)}aSt(t){if(t<0||t>=this.rSt.length)throw new RangeError("invalid numbered node");return this.rSt[t]}xdt(){for(const s of this.rSt)s.xdt();const t=r(this.nSt);this.rSt.length?this.hSt=t(this):this.hSt=t}Owt(){return this.eSt}oSt(t){return this.eSt=t,this.hSt()}}class Po extends Co{constructor(t,s,i,e){super(t,s,i,e),this.ei=this.lSt,14===s&&(this.dD().dgt(),this.Y2 instanceof Io.hgt)&&this.dD().Ggt()}lSt(t){this.eSt=t;const s=this.hSt();return"string"==typeof s?s:""}uSt(){return r(this.nSt)()}}class Eo extends Co{constructor(t,s,i,e){super(t,s,i,e),2<=t.cSt()?this.ei=this.lB:this.ei=this.TO,this.lwt=!1}TO(t){this.eSt=t;const s=this.hSt(),i=this.HO().bO();return i.TO(s)}lB(t){const s=this.TO(t);return s?s.lB():null}}class Ao extends Io.Qwt{constructor(t,s,i,e){super(t,s,i),this.fSt=e[1],this.ei=this.dSt,this.lwt=!0}dSt(){return this.fSt}}class Ro extends Io.Qwt{constructor(t,s,i,e){super(t,s,i),this.pSt=e[1],this.ei=this.mSt,this.lwt=!0}mSt(){return this.pSt}}class Fo extends Io.Qwt{constructor(t,s,i,e){super(t,s,i),this.yft=this.HO().wz(e[1]),2<=t.cSt()?this.ei=this.Sk:this.ei=this.E5;const n=this.dD();n.rgt(this.yft),this.Y2 instanceof Io.hgt?n.Ggt():n.v4()&&n.v4().Ggt(),this.lwt=!0}E5(){return this.yft}Sk(){return this.yft?this.yft.Sk():null}}class Do extends Io.Qwt{constructor(t,s,i,e){super(t,s,i),this.c7=this.HO().nO().YX(e[1]),2<=t.cSt()?this.ei=this.iO:this.ei=this.rO,this.lwt=!0}rO(){return this.c7}iO(){return this.c7?this.c7.iO():null}}class Oo extends Io.Qwt{constructor(t,s,i,e){super(t,s,i),this.QZ=this.HO().itt().oZ(e[1]),2<=t.cSt()?this.ei=this.wst:this.ei=this.Wst,this.lwt=!0}Wst(){return this.QZ}wst(){return this.QZ?this.QZ.wst():null}}class Lo extends Io.Qwt{constructor(t,s,i,e){super(t,s,i),this.gSt=e[1],this.ei=this.ySt,this.lwt=!0}ySt(){return this.gSt}}class ko extends Io.Qwt{constructor(t,s,i,e){super(t,s,i),this.wSt=e[1];const n=this.Y2.E5();this.Y2 instanceof Io.ngt&&this.Y2.Sx()||!n||!n.Vz()?(this.ei=this.SSt,this.lwt=!0):(this.ei=this.vSt,this.Iwt())}SSt(){return this.wSt}vSt(t){t=t||0;let s=this.Y2.E5(),i=s.kk(),e=i.Lk(),n=null;if(e.length)n=e[t%e.length].E5();else if(i.Aft()){const r=i.Rft();n=r[t%r.length].E5()}else{if(!(0<s.Nk()))return 0;{const h=s.Lk();n=h[t%h.length].E5()}}return this.wSt+n.jwt(s.Vwt())}}class Bo extends Io.Qwt{constructor(t,s,i,e){super(t,s,i),this.Ywt=e[1],this.Xwt=null,2<=t.cSt()?this.ei=this.bSt:this.ei=this.xSt,this.lwt=!0}xdt(){this.Xwt=this.HO().lD().$dt(this.Ywt)}xSt(){return this.Xwt}bSt(){return null}}class No extends Io.Qwt{constructor(t,s,i,e){super(t,s,i),this.MSt=e[1],this.Ewt=null,2<=t.cSt()?this.ei=this.TSt:this.ei=this._St,this.lwt=!0}xdt(){this.Ewt=this.HO().lD().uD(this.MSt),this.MSt=null}_St(){return this.Ewt}TSt(){return null}}class Wo extends Io.Qwt{constructor(t,s,i,e){super(t,s,i),this.GSt=[],this.ISt=[],this.lwt=!0;for(let t=1,s=e.length;t<s;++t){const n=Io.Qwt.gM(this.Y2,e[t],0);this.GSt.push(n),this.ISt.push(0),n._pt()||(this.lwt=!1)}this.ei=this.CSt}xdt(){for(const t of this.GSt)t.xdt()}CSt(){const i=this.GSt,e=this.ISt;for(let t=0,s=i.length;t<s;++t)e[t]=i[t].ei(0);return e}}class jo extends Io.Qwt{constructor(t,s,i,e){super(t,s,i),this.PSt=e[1],this.ei=this.snt,this.lwt=!0}snt(){return this.PSt}}class Vo extends Io.Qwt{constructor(t,s,i,e){super(t,s,i),this.ESt=e[1],this.ei=this.ASt,this.lwt=!0}ASt(){return this.ESt}}class Uo extends Co{constructor(t,s,i,e){super(t,s,i,e),this.ei=this.J5,this.lwt=!1}J5(){return this.hSt()}}class Ho extends Io.Qwt{constructor(t,s,i,e){super(t,s,i),this.sut=this.HO().vut().Xlt(e[1]),this.ei=this.RSt,this.lwt=!0}RSt(){return this.sut.Kc()}}}{let e=function(i,e){for(let t=0,s=i.length;t<s;++t)e[t]=i[t].ei(0)};e;const zo=self.Bs,Jo=[],qo=function(){};zo.ngt=class extends zo.rr{constructor(t,i,s){if(super(),this.Jyt=t,this.lf=t.HO(),this.Xg=s,this.Pyt=this.lf.Cyt(i[1]),this.FSt=0<i[3],this.DSt=2===i[3],this.OSt=!!i[4],this.LSt=!!i[5],this.kb=!!i[6],this.m7=i[7],this.kSt=this.Jyt.Jft(),this.yft=null,this.Hwt=null,this.zwt=-1,this.Twt=null,this.LG=qo,this.w1t=qo,this.Zs=[],this.BSt=[],this.NSt=!1,this.WSt=null,this.jSt=null,this.Ymt=this.lf.LX()?{Zmt:i[8][0],VSt:i[8][1]}:null,-1===i[0]?this.Twt=this.lf._wt():(this.yft=this.lf.wz(i[0]),i[2]&&(this.Hwt=this.yft.Gnt(i[2]),this.zwt=this.yft.sit(i[2])),this.Jyt.v4()&&this.Jyt.v4().Ggt()),10===i.length){let s=i[9];for(let t of s)this.Zs.push(zo.Qwt.gM(this,t,this.Zs.length)),this.BSt.push(0)}0===this.Zs.length&&(this.Zs=Jo,this.BSt=Jo),this.Jyt.lD().Idt(this)}static gM(t,s,i){return zo.lr(zo.ngt,t,s,i)}xdt(){for(const t of this.Zs)t.xdt(),t.sSt()&&(this.NSt=!0);this.DSt?(this.LG=this.USt,this.w1t=this.HSt):this.Twt?(this.zSt(),this.w1t=this.JSt):this.yft._k().QL()?(this.qSt(),this.w1t=this.$St):this.kb?(this.LG=this.XSt,this.w1t=this.YSt):(this.LG=this.ZSt,this.w1t=this.KSt)}zSt(){const t=this.Twt,s=this.Twt;this.QSt(t,s,this.tvt)}qSt(){const t=this.yft._k(),s=this.yft.xk().g6();this.QSt(t,s,this.svt)}QSt(t,s,i){const e=this.Pyt,n=this.LSt,r=this.Zs;if(0===r.length){const h=t.Pwt(e,s);n?this.LG=function(){return zo.xor(h(),n)}:this.LG=h}else if(1===r.length){const o=r[0];if(!n&&o._pt())this.LG=t.ivt(e,s,o.ei(0));else{const a=t.Pwt(e,s);this.LG=function(){return zo.xor(a(o.ei(0)),n)}}}else if(2===r.length){const l=r[0],u=r[1];if(!n&&l._pt()&&u._pt())this.LG=t.evt(e,s,l.ei(0),u.ei(0));else{const c=t.Pwt(e,s);this.LG=function(){return zo.xor(c(l.ei(0),u.ei(0)),n)}}}else if(3===r.length){const f=r[0],d=r[1],p=r[2];if(!n&&f._pt()&&d._pt()&&p._pt())this.LG=t.nvt(e,s,f.ei(0),d.ei(0),p.ei(0));else{const m=t.Pwt(e,s);this.LG=function(){return zo.xor(m(f.ei(0),d.ei(0),p.ei(0)),n)}}}else this.LG=i}Zz(){return this.m7}rmt(){return this.Pyt}E5(){return this.yft}G6(){return this.Hwt}rvt(){return this.Hwt?this.Hwt.M6():this.yft?this.yft._k():null}cSt(){const t=this.rvt();return t?t.hvt():1}dD(){return this.Jyt}HO(){return this.lf}RF(){return this.Xg}Hgt(){return this.RF()}Kpt(){return this.FSt}hmt(){return this.DSt}ovt(){return this.LSt}N6(){return this.OSt}Sx(){return this.kb}avt(){return this.Ymt.Zmt}lvt(){return!!this.Twt}Ngt(){return this.lvt()||this.yft._k().QL()}Wgt(){for(const t of this.Zs)if(t.iSt())return t.E5();return null}uvt(t){this.Ymt.Zmt=!!t,this.Jyt.Mgt()}cvt(){return this.Ymt.VSt}bmt(){return!this.avt()&&!this.lf.Qgt()&&!this.cvt()}fvt(){return this.WSt||(this.WSt=new Map),this.WSt}dvt(){return this.jSt||(this.jSt=new Map),this.jSt}tvt(){const t=this.BSt;return e(this.Zs,t),zo.xor(this.Pyt.apply(this.Twt,t),this.LSt)}*JSt(){if((this.avt()||this.lf.Qgt())&&(yield this),this.cvt()){const s=this.BSt;e(this.Zs,s);let t=this.Pyt.apply(this.Twt,s);return zo.jo(t)&&(t=yield*t),zo.xor(t,this.LSt)}return this.LG()}svt(){const t=this.BSt,s=(e(this.Zs,t),this.yft.xk().g6());return zo.xor(this.Pyt.apply(s,t),this.LSt)}*$St(){if((this.avt()||this.lf.Qgt())&&(yield this),this.cvt()){let t=this.BSt,s=(e(this.Zs,t),this.yft.xk().g6()),i=this.Pyt.apply(s,t);return zo.jo(i)&&(i=yield*i),zo.xor(i,this.LSt)}return this.LG()}USt(){return!0}*HSt(){return(this.avt()||this.lf.Qgt())&&(yield this),!0}pvt(){if(this.Hwt){if(2<=this.Hwt.M6().hvt())throw new Error("not yet implemented");return this.Hwt}return 2<=this.yft._k().hvt()?this.yft.Sk():this.yft}XSt(){const t=this.BSt,s=(e(this.Zs,t),this.Pyt.apply(this.pvt(),t));return this.yft.Syt(),s}*YSt(){if((this.avt()||this.lf.Qgt())&&(yield this),this.cvt()){const s=this.BSt;e(this.Zs,s);let t=this.Pyt.apply(this.pvt(),s);return zo.jo(t)&&(t=yield*t),this.yft.Syt(),t}return this.LG()}ZSt(){const i=this.Zs,e=this.BSt,t=this.yft.kk();for(let t=0,s=i.length;t<s;++t){const n=i[t];n.sSt()||(e[t]=n.ei(0))}return t.Pft()?this.mvt(t):this.gvt(t)}*KSt(){return(this.avt()||this.lf.Qgt())&&(yield this),this.ZSt()}yvt(i){const e=this.Zs,n=this.BSt;for(let t=0,s=e.length;t<s;++t){const r=e[t];r.sSt()&&(n[t]=r.ei(i))}}mvt(i){const t=this.yft,e=t.Vz(),n=t.Vwt(),r=this.zwt,h=0<=r,o=t.Lk(),a=this.NSt,l=this.BSt,u=this.Pyt,c=this.LSt,f=this.kSt&&!this.FSt;i.Cft();for(let s=0,t=o.length;s<t;++s){const d=o[s];a&&this.yvt(s);let t;if(h){const p=e?d.E5().qwt(n):0;t=u.apply(d._nt()[r+p].g6(),l)}else t=u.apply(d.g6(),l);zo.xor(t,c)?i.Dft(d):f&&i.Oft(d)}return t.wvt(!0),i.Lft(!1),t.Syt(),i.Eft()}gvt(t){let s=this.yft,i=s.Vz(),e=s.Vwt(),n=s.V5(),r=this.zwt,h=0<=r,o=this.NSt,a=this.BSt,l=this.Pyt,u=this.LSt,c=this.kSt&&!this.FSt,f=t.kft(),d=t.Bft(),p=c&&!this.Jyt.Bgt(this),m=p?d:f,g=0,y=!1;for(let s=0,t=m.length;s<t;++s){const S=m[s];o&&this.yvt(s);let t;if(h){const v=i?S.E5().qwt(e):0;t=l.apply(S._nt()[r+v].g6(),a)}else t=l.apply(S.g6(),a);zo.xor(t,u)?(y=!0,p?(f.push(S),n&&S.Svt()):(m[g]=S,n&&S.vvt(g),++g)):p?(m[g]=S,n&&S.bvt(g),++g):c&&(d.push(S),n)&&S.xvt()}zo.kh(m,g),n&&s.Mvt(p,g);const w=y;return p&&!y&&(y=this.Tvt(f)),s.wvt(w||c),c?y:t.Eft()}Tvt(i){const t=this.yft,e=t.Vz(),n=t.Vwt(),r=this.NSt,h=this.zwt,o=0<=h,a=this.BSt,l=this.Pyt,u=this.LSt;for(let s=0,t=i.length;s<t;++s){const c=i[s];r&&this.yvt(s);let t;if(o){const f=e?c.E5().qwt(n):0;t=l.apply(c._nt()[h+f].g6(),a)}else t=l.apply(c.g6(),a);if(zo.xor(t,u))return!0}return!1}_vt(t,s){return this.Zs[t].ei(s)}omt(){const t=this.Zs;if(t.length)return t[0].uSt();throw new Error("no parameters")}mq(){if(!this.WSt||!this.WSt.size)return null;const s={};for(const[i,e]of this.WSt.entries()){let t=e;"collmemory"===i&&(t=[...e.entries()].map(t=>[t[0].H5(),t[1].H5(),t[2]])),s[i]=t}return{ex:s}}gq(t){if(this.WSt&&(this.WSt.clear(),this.WSt=null),t){const s=this.lf,i=t.ex;if(i){const e=this.fvt();e.clear();for(const[n,r]of Object.entries(i)){let t=r;"collmemory"===n&&(t=zo.lr(zo.Ku,r.map(t=>[s.wO(t[0]),s.wO(t[1]),t[2]]).filter(t=>t[0]&&t[1]))),e.set(n,t)}}}}}}{let n=function(i,e){for(let t=0,s=i.length;t<s;++t)e[t]=i[t].ei(0)};n;const $o=self.Bs,Xo=[],Yo=function(){},Zo=function*(){};$o.hgt=class extends $o.rr{constructor(t,s,i){super();const e=(this.Jyt=t).HO(),n=(this.lf=e,this.Xg=i,this.m7=4<=s.length?s[3]:-1,this.Gvt=5<=s.length?255&s[4]:0,this.Ivt=5<=s.length?s[4]>>8:0,this.Pyt=null,this.yft=null,this.Hwt=null,this.zwt=-1,this.Twt=null,this.Cvt="",this.Pvt=null,this.Evt=null,this.LG=Yo,this.w1t=Yo,this.Zs=[],this.BSt=[],this.NSt=!1,this.WSt=null,this.jSt=null,-3===s[0]),r=n?s[2]:s[5];if(this.Ymt=e.LX()||n?{Zmt:r[0],VSt:r[1],index:r[2]}:null,-1===s[0])this.Twt=e._wt(),this.Pyt=e.Cyt(s[1]);else if(-2===s[0])this.Cvt=s[1];else if(n){const h=e.Cyt(s[1]);this.Pyt=h,this.LG=this.Avt,this.w1t=this.Rvt,this.Ivt|=8}else this.yft=e.wz(s[0]),4&this.Ivt?(this.Cvt=s[1],this.Pvt=e.wz(s[2])):(s[2]&&(this.Hwt=this.yft.Gnt(s[2]),this.zwt=this.yft.sit(s[2])),this.Pyt=e.Cyt(s[1]));if(7===s.length){const o=s[6];for(const a of o)this.Zs.push($o.Qwt.gM(this,a,this.Zs.length)),this.BSt.push(0)}0===this.Zs.length&&(this.Zs=Xo,this.BSt=Xo),this.Fvt()&&(this.Jyt.dgt(),this.Jyt.Ggt()),this.Jyt.lD().Cdt(this)}static gM(t,s,i){return $o.lr($o.hgt,t,s,i)}xdt(){for(const t of this.Zs)t.xdt(),t.sSt()&&(this.NSt=!0);if(this.Twt)this.zSt(),this.w1t=this.JSt;else if(this.Cvt)4&this.Ivt?this.Dvt():this.Ovt(),this.Cvt="",this.Pvt=null;else if(this.LG===this.Avt){const s=this.Pyt,i=this.lf.lD().zdt(this.Jyt);this.Pyt=s.bind(null,this.lf.ZL(),i)}else this.Hwt?this.eyt()?(this.LG=this.Lvt,this.w1t=this.kvt):(this.LG=this.Bvt,this.w1t=this.Nvt):this.yft._k().QL()?(this.qSt(),this.w1t=this.$St):this.Sx()?(this.LG=this.Wvt,this.w1t=this.jvt):this.eyt()?(this.LG=this.Vvt,this.w1t=this.Uvt):this.Hvt()?(this.LG=this.zvt,this.w1t=this.Jvt):this.Zs.length?this.Zs.every(t=>t.sSt())?(this.LG=this.qvt,this.w1t=this.$vt):this.NSt?(this.LG=this.Xvt,this.w1t=this.Yvt):this.Zs.every(t=>t._pt())?(n(this.Zs,this.BSt),this.LG=this.Zvt,this.w1t=this.Kvt):(this.LG=this.Qvt,this.w1t=this.t2t):(this.LG=this.Zvt,this.w1t=this.Kvt)}zSt(){const t=this.Twt,s=this.Twt;this.QSt(t,s,this.tvt)}qSt(){const t=this.yft._k(),s=this.yft.xk().g6();this.QSt(t,s,this.svt)}Ovt(){const t=this.Jyt.lD(),i=t.uD(this.Cvt);if(i.Zu()){const e=0!=(2&this.Ivt);this.Evt=i.dD();let s=[...new Set([...this.Jyt.pD(),...this.Evt.pD()])];s=t.Fdt(s);const n=!i.wD()&&this.s2t()?{xyt:!0}:null;if(this.LG=$o.Ypt.prototype.gyt.bind(this.Evt,s,this.Zs,e,n),this.lf.LX()){const r=this;this.w1t=function*(){(r.avt()||r.lf.Qgt())&&(yield r);const t=yield*r.Evt._yt(s,r.Zs,e,n);return t}}else this.w1t=Zo}else this.LG=Yo,this.w1t=Zo}Dvt(){const r=this.Jyt.lD(),h=r.Kdt(this.Pvt,this.Cvt);if(h.Zu()){const o=0!=(2&this.Ivt);this.Evt=h.dD();let s=[...new Set([...this.Jyt.pD(),...this.Evt.pD(),this.yft,h.E5()])],t=(s=r.Fdt(s),!this.yft.Vz()&&!h.E5().Vz()),i=!this.yft.Vz()&&h.E5().Vz(),e=this.yft.Vz(),n=null;if(!h.wD()&&this.s2t()&&((n=n||{}).xyt=!0),!i&&o||((n=n||{}).yyt=this.yft,n.wyt=h.E5()),t||i||e&&!h.swt()?this.LG=$o.Ypt.prototype.gyt.bind(this.Evt,s,this.Zs,o,n):e&&(this.LG=$o.Apt.prototype.rwt.bind(h,s,this.Zs)),this.lf.LX()){const a=this;t||i||e&&!h.swt()?this.w1t=function*(){(a.avt()||a.lf.Qgt())&&(yield a);const t=yield*a.Evt._yt(s,a.Zs,o,n);return t}:e&&(this.w1t=function*(){(a.avt()||a.lf.Qgt())&&(yield a);const t=yield*h.owt(s,a.Zs);return t})}else this.w1t=Zo}else this.LG=Yo,this.w1t=Zo}QSt(t,s,i){const e=this.Pyt,n=this.Zs;if(0===n.length)this.LG=t.Pwt(e,s);else if(1===n.length){const r=n[0];if(r._pt())this.LG=t.ivt(e,s,r.ei(0));else{const h=t.Pwt(e,s);this.LG=function(){return h(r.ei(0))}}}else if(2===n.length){const o=n[0],a=n[1];if(o._pt()&&a._pt())this.LG=t.evt(e,s,o.ei(0),a.ei(0));else{const l=t.Pwt(e,s);this.LG=function(){return l(o.ei(0),a.ei(0))}}}else if(3===n.length){const u=n[0],c=n[1],f=n[2];if(u._pt()&&c._pt()&&f._pt())this.LG=t.nvt(e,s,u.ei(0),c.ei(0),f.ei(0));else{const d=t.Pwt(e,s);this.LG=function(){return d(u.ei(0),c.ei(0),f.ei(0))}}}else this.LG=i}Zz(){return this.m7}eyt(){return 0!=(8&this.Ivt)}iyt(){return 0!=(16&this.Ivt)}Hvt(){return 1===this.Gvt}Sx(){return 2===this.Gvt}Fvt(){return 0!=(1&this.Ivt)}ggt(){return this.eyt()||this.iyt()}E5(){return this.yft}rvt(){return this.Hwt?this.Hwt.M6():this.yft?this.yft._k():null}cSt(){const t=this.rvt();return t?t.hvt():1}dD(){return this.Jyt}s2t(){let t=this.Jyt;do{if(t instanceof $o.Apt&&t.wD())return!0}while(t=t.Udt());return!1}HO(){return this.lf}RF(){return this.Xg}Hgt(){return this.Ymt.index}avt(){return this.Ymt.Zmt}uvt(t){this.Ymt.Zmt=!!t,this.Jyt.Mgt()}cvt(){return this.Ymt.VSt}bmt(){return!this.avt()&&!this.lf.Qgt()&&!this.cvt()}fvt(){return this.WSt||(this.WSt=new Map),this.WSt}dvt(){return this.jSt||(this.jSt=new Map),this.jSt}tvt(){const t=this.BSt;return n(this.Zs,t),this.Pyt.apply(this.Twt,t)}*JSt(){if((this.avt()||this.lf.Qgt())&&(yield this),this.cvt()){const t=this.BSt,s=(n(this.Zs,t),yield*this.Pyt.apply(this.Twt,t));return s}return this.LG()}svt(){const t=this.BSt;return n(this.Zs,t),this.Pyt.apply(this.yft.xk().g6(),t)}*$St(){if((this.avt()||this.lf.Qgt())&&(yield this),this.cvt()){const t=this.BSt,s=(n(this.Zs,t),yield*this.Pyt.apply(this.yft.xk().g6(),t));return s}return this.LG()}Zvt(){const i=this.BSt,e=this.yft.kk().Lk();for(let t=0,s=e.length;t<s;++t)this.Pyt.apply(e[t].g6(),i)}*Kvt(){if((this.avt()||this.lf.Qgt())&&(yield this),this.cvt()){const i=this.BSt,e=this.yft.kk().Lk();for(let t=0,s=e.length;t<s;++t)yield*this.Pyt.apply(e[t].g6(),i)}else this.Zvt()}Qvt(){const i=this.BSt,e=(n(this.Zs,i),this.yft.kk().Lk());for(let t=0,s=e.length;t<s;++t)this.Pyt.apply(e[t].g6(),i)}*t2t(){if((this.avt()||this.lf.Qgt())&&(yield this),this.cvt()){const i=this.BSt,e=(n(this.Zs,i),this.yft.kk().Lk());for(let t=0,s=e.length;t<s;++t)yield*this.Pyt.apply(e[t].g6(),i)}else this.Qvt()}qvt(){const e=this.Zs,n=this.BSt,s=this.Pyt,r=this.yft.kk().Lk();for(let i=0,t=r.length;i<t;++i){const h=r[i];for(let t=0,s=e.length;t<s;++t)n[t]=e[t].ei(i);s.apply(h.g6(),n)}}*$vt(){if((this.avt()||this.lf.Qgt())&&(yield this),this.cvt()){const e=this.Zs,n=this.BSt,s=this.Pyt,r=this.yft.kk().Lk();for(let i=0,t=r.length;i<t;++i){const h=r[i];for(let t=0,s=e.length;t<s;++t)n[t]=e[t].ei(i);yield*s.apply(h.g6(),n)}}else this.qvt()}Xvt(){const e=this.Zs,n=this.BSt,s=this.Pyt,r=this.yft.kk().Lk();for(let t=0,s=e.length;t<s;++t){const i=e[t];i.sSt()||(n[t]=i.ei(0))}for(let i=0,t=r.length;i<t;++i){const h=r[i];for(let t=0,s=e.length;t<s;++t){const o=e[t];o.sSt()&&(n[t]=o.ei(i))}s.apply(h.g6(),n)}}*Yvt(){if((this.avt()||this.lf.Qgt())&&(yield this),this.cvt()){const e=this.Zs,n=this.BSt,s=this.Pyt,r=this.yft.kk().Lk();for(let t=0,s=e.length;t<s;++t){const i=e[t];i.sSt()||(n[t]=i.ei(0))}for(let i=0,t=r.length;i<t;++i){const h=r[i];for(let t=0,s=e.length;t<s;++t){const o=e[t];o.sSt()&&(n[t]=o.ei(i))}yield*s.apply(h.g6(),n)}}else this.Xvt()}zvt(){const e=this.Zs,n=this.BSt,s=this.Pyt,t=this.yft,i=t.i2t(),r=t.kk().Lk();i.e2t(s);for(let i=0,t=r.length;i<t;++i){const h=r[i];for(let t=0,s=e.length;t<s;++t)n[t]=e[t].ei(i);s.apply(h.g6(),n)}i.n2t(s)}*Jvt(){if((this.avt()||this.lf.Qgt())&&(yield this),this.cvt()){const e=this.Zs,n=this.BSt,s=this.Pyt,t=this.yft,i=t.i2t(),r=t.kk().Lk();i.e2t(s);for(let i=0,t=r.length;i<t;++i){const h=r[i];for(let t=0,s=e.length;t<s;++t)n[t]=e[t].ei(i);yield*s.apply(h.g6(),n)}i.n2t(s)}else this.zvt()}Wvt(){const t=this.BSt;return n(this.Zs,t),this.Pyt.apply(this.Hwt||this.yft,t)}*jvt(){if((this.avt()||this.lf.Qgt())&&(yield this),this.cvt()){const s=this.BSt;n(this.Zs,s);let t=this.Pyt.apply(this.Hwt||this.yft,s);return $o.jo(t)?yield*t:t}return this.Wvt()}Bvt(){const t=this.yft,s=t.Vz(),e=t.Vwt(),n=this.Zs,r=this.NSt,h=this.BSt,o=this.Pyt,a=this.zwt,l=t.kk().Lk();for(let t=0,s=n.length;t<s;++t){const i=n[t];i.sSt()||(h[t]=i.ei(0))}for(let i=0,t=l.length;i<t;++i){const u=l[i];if(r)for(let t=0,s=n.length;t<s;++t){const f=n[t];f.sSt()&&(h[t]=f.ei(i))}const c=s?u.E5().qwt(e):0;o.apply(u._nt()[a+c].g6(),h)}}*Nvt(){if((this.avt()||this.lf.Qgt())&&(yield this),this.cvt()){const t=this.yft,s=t.Vz(),e=t.Vwt(),n=this.Zs,r=this.NSt,h=this.BSt,o=this.Pyt,a=this.zwt,l=t.kk().Lk();for(let t=0,s=n.length;t<s;++t){const i=n[t];i.sSt()||(h[t]=i.ei(0))}for(let i=0,t=l.length;i<t;++i){const u=l[i];if(r)for(let t=0,s=n.length;t<s;++t){const f=n[t];f.sSt()&&(h[t]=f.ei(i))}const c=s?u.E5().qwt(e):0;yield*o.apply(u._nt()[a+c].g6(),h)}}else this.Bvt()}Vvt(){const e=this.Zs,n=this.BSt,s=this.Pyt,r=this.yft.kk().Lk(),h=[];for(let i=0,t=r.length;i<t;++i){const o=r[i];for(let t=0,s=e.length;t<s;++t)n[t]=e[t].ei(i);h.push(s.apply(o.g6(),n))}return Promise.all(h)}*Uvt(){if((this.avt()||this.lf.Qgt())&&(yield this),this.cvt()){const e=this.Zs,n=this.BSt,s=this.Pyt,r=this.yft.kk().Lk(),h=[];for(let i=0,t=r.length;i<t;++i){const o=r[i];for(let t=0,s=e.length;t<s;++t)n[t]=e[t].ei(i);h.push(yield*s.apply(o.g6(),n))}return Promise.all(h)}return this.Vvt()}Lvt(){const t=this.yft,s=t.Vz(),e=t.Vwt(),n=this.Zs,r=this.BSt,h=this.Pyt,o=this.zwt,a=t.kk().Lk(),l=[];for(let i=0,t=a.length;i<t;++i){const u=a[i];for(let t=0,s=n.length;t<s;++t)r[t]=n[t].ei(i);const c=s?u.E5().qwt(e):0;l.push(h.apply(u._nt()[o+c].g6(),r))}return Promise.all(l)}*kvt(){if((this.avt()||this.lf.Qgt())&&(yield this),this.cvt()){const t=this.yft,s=t.Vz(),e=t.Vwt(),n=this.Zs,r=this.BSt,h=this.Pyt,o=this.zwt,a=t.kk().Lk(),l=[];for(let i=0,t=a.length;i<t;++i){const u=a[i];for(let t=0,s=n.length;t<s;++t)r[t]=n[t].ei(i);const c=s?u.E5().qwt(e):0;l.push(yield*h.apply(u._nt()[o+c].g6(),r))}return Promise.all(l)}return this.Lvt()}async Avt(){try{await this.Pyt()}catch(t){console.error(`Unhandled exception running script %c${this.Jyt.u$().Kc()}, event ${this.Jyt.Pgt()}, action ${this.Hgt()+1}:`,"font-size: 1.2em; font-weight: bold;",t),self.C3Debugger&&self.C3Debugger._SetLastErrorScript(this),$o.nmt.Ayt()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),$o.nmt.Ryt())}}*Rvt(){return(this.avt()||this.lf.Qgt())&&(yield this),this.Avt()}mq(){return this.WSt&&this.WSt.size?{ex:$o.Bo(this.WSt)}:null}gq(t){if(this.WSt&&(this.WSt.clear(),this.WSt=null),t){const s=t.ex;s&&(this.WSt=$o.No(s))}}}}{let d=function(t){return t instanceof h?w.mB(t):t.JW()},u=function(t){return d(t).MO()},n=function(t){return w.mB(t)},C=function(t,s,i,e){const n=s.H5(),r=i.H5();n<r?t.Set(s,i,e):t.Set(i,s,e)},P=function(t,s,i){const e=s.H5(),n=i.H5();e<n?t.ic(s,i):t.ic(i,s)},E=function(t,s){t.ec(s)},A=function(t,s,i){const e=s.H5(),n=i.H5();return e<n?t.ei(s,i):t.ei(i,s)},e=function(t,s,i,e){if(!s)return!1;const n=0!==i||0!==e,r=t.MO(),h=w.NF(),o=w.kdt(),a=o.dD().Jft(),l=o.E5(),u=o.ovt(),c=s.kk(),f=l!==s;G=s,_=f&&!u;let d,p=0,m=0,g=I=!1;c.Pft()?(S.G(r.QN()),S.offset(i,e),h.r2t(r.TO(),s,S,v),d=v):!a||w.h2t()&&!c.Bft().length&&c.kft().length?d=c.kft():(d=c.Bft(),I=!0),n&&(p=r.I2(),m=r.E2(),r.XN(i,e),r.zN());for(const y of d)if(h.fL(t,y)){if(g=!0,u)break;f&&D.add(y)}return n&&(r.JN(p,m),r.zN()),R.Bh(v),g},i=function(t){const s=w.mD().Jft(),i=G.kk(),e=i.kft(),n=i.Bft();i.Pft()?(i.jft(D),s&&(R.Bh(n),i.Vft(D,G.Lk()))):s?I?i.Uft(D):(i.Vft(D,e),i.jft(D)):i.jft(D),G.Syt()},b=function(t,s){_&&(s&&i(),D.clear(),G=null,_=!1)},s=function(t,s){const i=w.wO(s);if(i){const e=t.kk();if(e.Pft()||e.kft().includes(i))if(t.Vz()){if(i.E5().o2t(t))return e.zft(i),t.Syt(),!0}else if(i.E5()===t)return e.zft(i),t.Syt(),!0}return!1},r=function(t,n){const r=t.kk();if(r.Pft()){r.Lft(!1),r.Cft();const i=t.Lk();for(let t=0,s=i.length;t<s;++t){const e=i[t];e.H5()===n?r.Oft(e):r.Dft(e)}return t.Syt(),!!r.kft().length}{let i=r.kft(),e=0;for(let t=0,s=i.length;t<s;++t){const h=i[t];(i[e]=h).H5()===n?r.Oft(h):++e}return R.kh(i,e),t.Syt(),!!i.length}},R=(d,u,n,C,P,E,A,e,i,b,s,r,self.Bs),l=new R.Uo,x={},M={},T={},w=null,h=(R.a2t=function(t){w=t},self.C5),S=(M.l2t=function(t,s){return R.compare(this.MO().I2(),t,s)},T.l2t=function(t,s){return R.compare(this.x,t,s)},M.u2t=function(t,s){return R.compare(this.MO().E2(),t,s)},T.u2t=function(t,s){return R.compare(this.y,t,s)},M.c2t=function(){return this.MO().e4()},T.c2t=function(){return this.i4()},x.f2t=function(){const t=u(this),s=t.rO(),i=t.QN();return i._l()<0||i.Gl()<0||i.Ml()>s.um()||i.Tl()>s.Mm()},x.d2t=function(i,e,n){const t=this.kk(),r=t.Lk();if(!r.length)return!1;let h=r[0],o=h.MO(),a=h,l=R.Mr(o.I2(),o.E2(),e,n);for(let t=1,s=r.length;t<s;++t){h=r[t],o=h.MO();const u=R.Mr(o.I2(),o.E2(),e,n);(0===i&&u<l||1===i&&u>l)&&(l=u,a=h)}return t.zft(a),!0},M.C2=function(t){const s=this.MO();s.I2()!==t&&(s.C2(t),s.zN())},T.C2=function(t){this.x=+t},M.A2=function(t){const s=this.MO();s.E2()!==t&&(s.A2(t),s.zN())},T.A2=function(t){this.y=+t},M.p2t=function(t,s){const i=this.MO();i.m2t(t,s)||(i.JN(t,s),i.zN())},T.p2t=function(t,s){this.setPosition(t,s)},x.g2t=function(t,s){if(t){const i=d(this),e=t.Dk(i);if(e){const[n,r]=e.y2t(s),h=i.MO();h.I2()===n&&h.E2()===r||(h.JN(n,r),h.zN())}}},x.w2t=function(t){if(0!==t){const s=u(this);s.XN(s.S2t()*t,s.v2t()*t),s.zN()}},M.b2t=function(t,s){if(0!==s){const i=this.MO();t=R.Sr(t),i.XN(Math.cos(t)*s,Math.sin(t)*s),i.zN()}},T.b2t=function(t,s){0!==s&&(t=R.Sr(t),this.$N(Math.cos(t)*s,Math.sin(t)*s))},M.I2=function(){return this.MO().I2()},T.I2=function(){return this.x},M.E2=function(){return this.MO().E2()},T.E2=function(){return this.y},x.ED=function(){return w.ED(d(this))},M.x2t=function(t,s){return R.compare(this.MO().um(),t,s)},T.x2t=function(t,s){return R.compare(this.width,t,s)},M.M2t=function(t,s){return R.compare(this.MO().Mm(),t,s)},T.M2t=function(t,s){return R.compare(this.height,t,s)},M.Sm=function(t){const s=this.MO();s.um()!==t&&(s.Sm(t),s.zN())},T.Sm=function(t){this.width=t},M.fm=function(t){const s=this.MO();s.Mm()!==t&&(s.fm(t),s.zN())},T.fm=function(t){this.height=t},M.hC=function(t,s){const i=u(this);i.um()===t&&i.Mm()===s||(i.hC(t,s),i.zN())},T.hC=function(t,s){this.Kk(t,s)},M.um=function(){return this.MO().um()},T.um=function(){return this.width},M.Mm=function(){return this.MO().Mm()},T.Mm=function(){return this.height},x.T2t=function(){return u(this).QN().Ml()},x._2t=function(){return u(this).QN().Tl()},x.G2t=function(){return u(this).QN()._l()},x.I2t=function(){return u(this).QN().Gl()},x.C2t=function(){const t=u(this).QN();return(t.Ml()+t._l())/2},x.P2t=function(){const t=u(this).QN();return(t.Tl()+t.Gl())/2},x.E2t=function(t,s){return R._r(u(this).iB(),R.Sr(s))<=R.Sr(t)},x.A2t=function(t){return R.Ir(u(this).iB(),R.Sr(t))},x.R2t=function(t,s){const i=R.Sr(t),e=R.Sr(s),n=u(this).iB(),r=!R.Ir(e,i);return r?!(!R.Ir(n,i)&&R.Ir(n,e)):R.Ir(n,i)&&!R.Ir(n,e)},M.sB=function(t){const s=this.MO(),i=R.yr(R.Sr(t));isNaN(i)||s.iB()===i||(s.sB(i),s.zN())},T.sB=function(t){this.KN=t},x.F2t=function(t){if(!isNaN(t)&&0!==t){const s=u(this);s.sB(s.iB()+R.Sr(t)),s.zN()}},x.D2t=function(t){if(!isNaN(t)&&0!==t){const s=u(this);s.sB(s.iB()-R.Sr(t)),s.zN()}},x.O2t=function(t,s){const i=u(this),e=i.iB(),n=R.Gr(e,R.Sr(s),R.Sr(t));isNaN(n)||e===n||(i.sB(n),i.zN())},x.L2t=function(t,s,i){const e=u(this),n=e.iB(),r=s-e.I2(),h=i-e.E2(),o=Math.atan2(h,r),a=R.Gr(n,o,R.Sr(t));isNaN(a)||n===a||(e.sB(a),e.zN())},x.k2t=function(t,s){const i=u(this),e=i.iB(),n=t-i.I2(),r=s-i.E2(),h=Math.atan2(r,n);isNaN(h)||e===h||(i.sB(h),i.zN())},M.iB=function(){return R.vr(this.MO().iB())},T.iB=function(){return this.KN},x.B2t=function(t,s){return R.compare(R.jr(100*u(this).OE(),6),t,s)},M.jB=function(){return this.MO().jB()},T.jB=function(){return this.isVisible},x.NB=function(t){const s=u(this);t=2===t?!s.jB():0!==t,s.jB()!==t&&(s.NB(t),w.EO())},x.kE=function(t){const s=R.gr(t/100,0,1),i=u(this);if(i.Y4()){if(i.Krt().N2t()===s)return}else if(i.OE()===s)return;i.kE(s),w.EO()},x.W2t=function(t){l.Ma(t);const s=u(this);s.r4().fa(l)||(s.h4(l),w.EO())},x.NE=function(){const t=u(this).r4();return R.Hr(t.na(),t.ra(),t.oa(),t.aa())},x.OE=function(){return R.jr(100*u(this).OE(),6)},x.j2t=function(t){return!!t&&u(this).TO()===t},x.V2t=function(i){const t=this.kk(),e=t.Lk();if(!e.length)return!1;let s=e[0],n=s;for(let t=1,s=e.length;t<s;++t){const r=e[t],h=r.MO(),o=n.MO(),a=h.TO().RF(),l=o.TO().RF();0===i?(l<a||a===l&&h._O()>o._O())&&(n=r):(a<l||a===l&&h._O()<o._O())&&(n=r)}return t.zft(n),!0},M.U2t=function(t,s,i){const e=this.MO(),n=0===t?e.R2():e.ZN();return R.compare(n,s,i)},T.U2t=function(t,s,i){const e=0===t?this.n5:this.YN;return R.compare(e,s,i)},M.H2t=function(){this.MO().a4()},T.H2t=function(){this.o4()},M.z2t=function(){this.MO().u4()},T.z2t=function(){this.l4()},x.J2t=function(t){t&&u(this).f4(t)},x.q2t=function(t,s){const i=0===t;if(s){const e=d(this),n=s.$2t(e);n&&e.MO().m4(n,i)}},M.F2=function(t){const s=this.MO();s.R2()!==t&&(s.F2(t),w.EO())},T.F2=function(t){this.n5=t},x.X2t=function(){return u(this).TO().RF()},x.Y2t=function(){return u(this).TO().Kc()},M.Z2t=function(){return this.MO()._O()},T.Z2t=function(){return this.zIndex},M.K2t=function(){return this.MO().R2()},T.K2t=function(){return this.n5},M.Q2t=function(){return this.MO().ZN()},T.Q2t=function(){return this.YN},x.tbt=function(t){const s=d(this),i=s.E5().Xk().Cnt(t);if(i){const e=i.RF(),n=s.MO().UN();return n.R6(e)}},x.sbt=function(t,s){const i=d(this),e=i.E5().Xk().Cnt(s);if(e){const n=e.RF(),r=1===t,h=i.MO().UN();h.R6(n)!==r&&(h.F6(n,r),h.D6(),w.EO())}},x.ibt=function(t,s,i){const e=d(this),n=e.E5().Xk().Cnt(t);if(n){s=Math.floor(s);const r=n.mT().yT(s);if(r){"color"===r?(l.Ma(i),i=l):"percent"===r&&(i/=100);const h=n.RF(),o=e.MO().UN(),a=o.L6(h,s,i);a&&o.R6(h)&&w.EO()}}},R.lr(R.Rect)),F=[],v=[],_=!1,G=null,I=!1,D=new Set;x.ebt=function(w){if(this.lf.nbt())return function*(w){if(w){let t=this.lf,s=t.NF(),e=t.lD(),i=e.xD(),n=e.kdt(),r=n.E5(),h=n.fvt(),o=n.dvt(),a=i.BV(),l=t._tt(),u=l-1,c=a.mD(),f=i.NV(c),d=h.get("collmemory"),p=(d||(d=R.lr(R.Ku),h.set("collmemory",d)),o.get("collisionCreatedDestroyCallback")||(o.set("collisionCreatedDestroyCallback",!0),t.Vf().addEventListener("instancedestroy",t=>E(d,t.I6))),r.kk()),m=w.kk(),g=p.Lk(),y=null;for(let t=0;t<g.length;++t){const S=g[t];m.Pft()?(s.r2t(S.MO().TO(),w,S.MO().QN(),F),y=F,s.rbt(S,w,y)):y=m.Lk();for(let t=0;t<y.length;++t){const v=y[t];if(s.fL(S,v)||s.hbt(S,v)){let t=A(d,S,v),s=!1,i=-2;"number"==typeof t&&(s=!0,i=t);const b=!s||i<u;if(C(d,S,v,l),b){const x=c.kV(),M=(e.HV(x),r.kk()),T=w.kk();if(M.Lft(!1),T.Lft(!1),r===w){const _=M.kft();R.Bh(_),_.push(S),_.push(v),r.Syt()}else{const G=M.kft(),I=T.kft();R.Bh(G),R.Bh(I),G.push(S),I.push(v),r.Syt(),w.Syt()}yield*c.uyt(a,f),e.JV(x)}}else P(d,S,v)}R.Bh(F)}i.YV()}return!1}.call(this,w);if(w){let t=this.lf,s=t.NF(),e=t.lD(),i=e.xD(),n=e.kdt(),r=n.E5(),h=n.fvt(),o=n.dvt(),a=i.BV(),l=t._tt(),u=l-1,c=a.mD(),f=i.NV(c),d=h.get("collmemory"),p=(d||(d=R.lr(R.Ku),h.set("collmemory",d)),o.get("collisionCreatedDestroyCallback")||(o.set("collisionCreatedDestroyCallback",!0),t.Vf().addEventListener("instancedestroy",t=>E(d,t.I6))),r.kk()),m=w.kk(),g=p.Lk(),y=null;for(let t=0;t<g.length;++t){const S=g[t];m.Pft()?(s.r2t(S.MO().TO(),w,S.MO().QN(),F),y=F,s.rbt(S,w,y)):y=m.Lk();for(let t=0;t<y.length;++t){const v=y[t];if(s.fL(S,v)||s.hbt(S,v)){let t=A(d,S,v),s=!1,i=-2;"number"==typeof t&&(s=!0,i=t);const b=!s||i<u;if(C(d,S,v,l),b){const x=c.kV(),M=(e.HV(x),r.kk()),T=w.kk();if(M.Lft(!1),T.Lft(!1),r===w){const _=M.kft();R.Bh(_),_.push(S),_.push(v),r.Syt()}else{const G=M.kft(),I=T.kft();R.Bh(G),R.Bh(I),G.push(S),I.push(v),r.Syt(),w.Syt()}c.zV(a,f),e.JV(x)}}else P(d,S,v)}R.Bh(F)}i.YV()}return!1},x.obt=function(t){return e(d(this),t,0,0)},x.abt=function(t,s,i){return e(d(this),t,s,i)},x.F4=function(){return u(this).F4()},x.Sq=function(){return u(this).Sq()},x.lbt=function(i,e){const t=this.kk(),n=t.Lk();if(0===n.length)return!1;let s=i.kk(),r=s.Lk();if(s.Pft()){const a=[...this.lf.ubt(i)];0<a.length&&(r=r.concat(a))}if(0===r.length)return!1;const h=s.Pft()?null:new Set(r),o=new Set;for(let t=0,s=n.length;t<s;++t){const l=n[t];if(1===e)for(const u of l.M4())u.cbt(i)&&(null===h||h.has(u))&&o.add(u);else{let t;if(0===e){if(null===(t=l.v4()))continue}else t=l.x4();t.cbt(i)&&(null===h||h.has(t))&&o.add(t)}}return 0!==o.size&&(s.jft(o),i.Syt(),!0)},x.fbt=function(i,e){const t=this.kk(),n=t.Lk();if(0===n.length)return!1;let s=i.kk(),r=s.Lk();if(s.Pft()){const a=[...this.lf.ubt(i)];0<a.length&&(r=r.concat(a))}if(0===r.length)return!1;const h=s.Pft()?null:new Set(r),o=new Set;for(let t=0,s=n.length;t<s;++t){const l=n[t];2!==e||l.Sq()||!l.cbt(i)||null!==h&&!h.has(l)||o.add(l);for(const u of 0===e?l.children():l.C4())2===e&&u.Sq()||u.cbt(i)&&(null===h||h.has(u))&&o.add(u)}return 0!==o.size&&(s.jft(o),i.Syt(),!0)},x.dbt=function(i,e,n){const t=this.kk(),r=t.Lk();if(0===r.length)return!1;let s=i.kk(),h=s.Lk();if(s.Pft()){const l=[...this.lf.ubt(i)];0<l.length&&(h=h.concat(l))}if(0===h.length)return!1;const o=s.Pft()?null:new Set(h),a=[];for(let t=0,s=r.length;t<s;++t){const u=r[t];if(0===e){const c=u.I4(n);null!==c&&c.cbt(i)&&(null===o||o.has(c))&&a.push(c)}else if(1===e)for(const f of u.children())if(f.cbt(i)){if(0===n){null!==o&&!o.has(f)||a.push(f);break}--n}}return 0!==a.length&&(s.Wft(a),i.Syt(),!0)},x.pbt=function(t,s,i){const e=d(this);switch(t){case 0:default:return R.compare(e._4(),s,i);case 1:return R.compare(e.mbt(),s,i)}},x.E4=function(t,s,i,e,n,r,h,o,a,l){const u=d(this),c=w.Ndt().E5();for(const f of t.gbt(u,c)){if(!f._k().fk())return;u.E4(f,{O4:s,B4:i,W4:e,V4:n,H4:r,X4:h,J4:o,Z4:a,Q4:l})}},x.A4=function(t){const s=d(this),i=w.Ndt().E5();for(const e of t.gbt(s,i))s.A4(e)},x.ybt=function(){const t=d(this);if(t.F4()){const s=t.v4();s.A4(t)}},x.wbt=function(){return d(this)._4()},x.Sbt=function(){return d(this).mbt()},x.vbt=function(t,s){t=Math.floor(t),s=Math.floor(s);const i=u(this);t<2||s<2||!isFinite(t)||!isFinite(s)?(i.n6(),i.zN()):i.i6(t,s)},x.h6=function(t,s,i,e,n,r,h,o){const a=u(this),l=a.h6(t,s,{mode:0===i?"absolute":"relative",x:e,y:n,n5:r,u:h,v:o});l&&a.zN()},x.bbt=function(){const t=u(this);return t.a6()?t.l6().nb():0},x.xbt=function(){const t=u(this);return t.a6()?t.l6().rb():0},x.Mbt=function(t){const s=u(this);t=2===t?!s.jB():0!==t,s.jB()!==t&&s.NB(t)},x.v6=function(t,s){this instanceof self.C5?this.sV(t,s):this.v6(t,s)},x.Tbt=function(t,s){this instanceof self.C5?this.iV(t,""+s):this.Tbt(t,""+s)},x._bt=function(t){this instanceof self.C5?this.eV(t):this._bt(t)},x.Gbt=function(){this instanceof self.C5?this.Kj():this.y6()},x.Ibt=function(){this instanceof self.C5?this.Qj():this.w6()},x.Cbt=function(){return this instanceof self.C5?this.tV():this.Cbt()},x.Pbt=function(t){this instanceof self.C5?this._setEnabled(0!==t):this.Ebt(0!==t)},x.Abt=function(){return this instanceof self.C5?this.kyt():this.Rbt()},M.Fbt=function(t,s,i){return R.compare(this.JW().jrt(t),s,i)},T.Fbt=function(t,s,i){return R.compare(n(this).jrt(t),s,i)},M.Dbt=function(t){return!!this.JW().jrt(t)},T.Dbt=function(t){return!!n(this).jrt(t)},x.Obt=function(i,e){const t=this.kk(),n=t.Lk();if(!n.length)return!1;let r=this.Vz(),h=null,o=0;for(let t=0,s=n.length;t<s;++t){const a=n[t],l=r?a.E5().jwt(this.Vwt()):0,u=a.jrt(l+e);(null===h||0===i&&u<o||1===i&&u>o)&&(o=u,h=a)}return t.zft(h),!0},x.Lbt=function(t){return(this.lf.kdt().ovt()?r:s)(this,t)},x.TW=function(t){const s=new Set(R.Qh(t)),i=d(this).K5();return s.de(i)},x.kbt=function(){return d(this).Bbt()},x.Nbt=function(){return d(this).K5().size},x.Wbt=function(t){return d(this).jbt(t)},x.Vbt=function(t,s){const i=R.Qh(s);if(0!==i.length){const e=d(this),n=new Set(e.K5());if(0===t)for(const r of i)n.add(r);else if(1===t)for(const h of i)n.delete(h);e.tN(n)}},x.Ubt=function(){w.k5(d(this))},x.Hbt=function(){return!0},x.zbt=function(){return!0},M.Jbt=function(t,s){this.JW().Vrt(t,s)},T.Jbt=function(t,s){n(this).Vrt(t,s)},M.qbt=function(t,s){const i=this.JW(),e=i.jrt(t);"number"==typeof e&&"number"!=typeof s?s=parseFloat(s):"string"==typeof e&&"string"!=typeof s&&(s=s.toString()),i.Vrt(t,e+s)},T.qbt=function(t,s){const i=n(this),e=i.jrt(t);"number"==typeof e&&"number"!=typeof s?s=parseFloat(s):"string"==typeof e&&"string"!=typeof s&&(s=s.toString()),i.Vrt(t,e+s)},M.$bt=function(t,s){const i=this.JW(),e=i.jrt(t);"number"==typeof e&&("number"!=typeof s&&(s=parseFloat(s)),i.Vrt(t,e-s))},T.$bt=function(t,s){const i=n(this),e=i.jrt(t);"number"==typeof e&&("number"!=typeof s&&(s=parseFloat(s)),i.Vrt(t,e-s))},M.Xbt=function(t,s){this.JW().Vrt(t,s?1:0)},T.Xbt=function(t,s){n(this).Vrt(t,s?1:0)},M.Ybt=function(t){const s=this.JW();s.Vrt(t,0===s.jrt(t)?1:0)},T.Ybt=function(t){const s=n(this);s.Vrt(t,0===s.jrt(t)?1:0)},x.Zbt=function(t){let s;try{s=JSON.parse(t)}catch(t){return void console.error("Failed to load from JSON string: ",t)}const i=d(this);w.Kbt(),i.RY("state"),i.V2(s,"state"),w.Qbt("state",{txt:!0})},x.sxt=function(){return JSON.stringify(d(this).j2("state"))},x.ixt=function(){return d(this).E5().Kc()},x.nxt=function(){let t=w.Ldt().x0t(),s=t.Nk();for(const i of w.ubt(t))++s;return s},x.rxt=function(){return w.Ldt().x0t().kk().Lk().length},M.aX=function(){return this.JW().aX()},T.aX=function(){return n(this).aX()},M.H5=function(){return this.JW().H5()},T.H5=function(){return n(this).H5()},x.apt=function(t){const s=d(this);return t.toLowerCase()===w.lD().fpt(s)},x.iN=function(t){const s=d(this);w.lD().iN(s,t)},x.hxt=function(t){return w.lD().B1t().oxt(this.kk().Lk(),t),!0},x.axt=function(){return d(this).J5()},R.lxt=function(t,s,i){const e=t[1],n=t[3],r=t[4],h=t[5],o=t[6],a=t[7],l=t[8],u=t[10],c=t[11],f=t[12],d=t[13],p=t[14],m=t[15],g=t[16],y=s.iX,w=s.$nt,S=s.Xnt,v=Object.assign({},x,2<=i?T:M);n&&(y.l2t=v.l2t,y.u2t=v.u2t,y.c2t=v.c2t,y.f2t=v.f2t,y.d2t=v.d2t,w.C2=v.C2,w.A2=v.A2,w.p2t=v.p2t,w.g2t=v.g2t,w.w2t=v.w2t,w.b2t=v.b2t,S.uxt=v.I2,S.cxt=v.E2,S.dt=v.ED),r&&(y.x2t=v.x2t,y.M2t=v.M2t,w.Sm=v.Sm,w.fm=v.fm,w.hC=v.hC,S.fxt=v.um,S.dxt=v.Mm,S.pxt=v.T2t,S.mxt=v._2t,S.gxt=v.G2t,S.yxt=v.I2t,S.wxt=v.C2t,S.Sxt=v.P2t),h&&(y.vxt=v.E2t,y.bxt=v.A2t,y.R2t=v.R2t,w.sB=v.sB,w.F2t=v.F2t,w.D2t=v.D2t,w.O2t=v.O2t,w.L2t=v.L2t,w.k2t=v.k2t,S.xxt=v.iB),o&&(y.jB=v.jB,y.B2t=v.B2t,w.NB=v.NB,w.kE=v.kE,w.W2t=v.W2t,S.Opacity=v.OE,S.Mxt=v.NE),a&&(y.j2t=v.j2t,y.V2t=v.V2t,y.U2t=v.U2t,w.H2t=v.H2t,w.z2t=v.z2t,w.J2t=v.J2t,w.q2t=v.q2t,w.F2=v.F2,S.X2t=v.X2t,S.Y2t=v.Y2t,S.Z2t=v.Z2t,S.K2t=v.K2t,S.Q2t=v.Q2t),l&&(y.tbt=v.tbt,w.sbt=v.sbt,w.ibt=v.ibt),d&&(y.F4=v.F4,y.Sq=v.Sq,y.lbt=v.lbt,y.fbt=v.fbt,y.dbt=v.dbt,y.pbt=v.pbt,w.E4=v.E4,w.A4=v.A4,w.ybt=v.ybt,S.wbt=v.wbt,S.Sbt=v.Sbt),p&&(w.vbt=v.vbt,w.h6=v.h6,S.bbt=v.bbt,S.xbt=v.xbt),u&&(y.jB=v.jB,w.NB=v.Mbt,w.Txt=v.v6,w._xt=v.Tbt,w.Gxt=v._bt),c&&(y.Ixt=v.Cbt,w.Cxt=v.Gbt,w.Pxt=v.Ibt),f&&(y.Zu=v.Abt,w.Ext=v.Pbt),m&&(y.ebt=v.ebt,y.obt=v.obt,y.abt=v.abt,s.Axt=b),e||(y.Fbt=v.Fbt,y.Dbt=v.Dbt,y.Obt=v.Obt,y.Lbt=v.Lbt,y.TW=v.TW,w.Jbt=v.Jbt,w.qbt=v.qbt,w.$bt=v.$bt,w.Xbt=v.Xbt,w.Ybt=v.Ybt,w.Vbt=v.Vbt,y.Hbt=v.Hbt,y.zbt=v.zbt,w.Ubt=v.Ubt,w.Zbt||(w.Zbt=v.Zbt),S.sxt||(S.sxt=v.sxt),S.nxt=v.nxt,S.rxt=v.rxt,S.Rxt=v.aX,S.Fxt=v.H5,S.ixt=v.ixt,S.kbt=v.kbt,S.Nbt=v.Nbt,S.Wbt=v.Wbt,y.apt=v.apt,w.iN=v.iN,w.hxt=v.hxt),g&&(S.axt=v.axt)}}{const Ko=self.Bs;Ko.N1t=class extends Ko.rr{constructor(t){super(),this.$ft=t,this.yf="",this.uR=-1,this.Dxt="",this.Oxt=!1,this.Lxt=null,this.e0t=0,this.Amt=[],this.l0t=null,this.kxt=new Map,this.Bxt=null,this.Nxt=null,this.Wxt=-1,this.Lyt=null,this.jxt=null,this.Vxt=!1}ur(){this.yf="",this.uR=-1,this.Dxt="",this.Lxt=null,this.Nxt=null,this.Lyt=null,this.jxt=null,this.Wxt=-1,Ko.Bh(this.Amt),this.l0t&&(this.l0t.clear(),this.l0t=null);for(const t of this.kxt.values())t.ur();this.kxt.clear(),this.Bxt=null}G2(){const t=this.$ft,s=t.HO().jz(),i=t.Ldt(),e=(this.Lxt=i.mD(),this.e0t=i.m0t()+1,t.Ept(this.Lxt));e&&(this.Nxt=e,this.Lyt=e.Qyt(),this.jxt=e.Kyt().map(t=>t.vet()),e.eyt())&&(this.Wxt=e.ewt());for(const r of s){const h=r.kk();h.Pft()&&!this.Lxt.Igt(r)||(this.Amt.push(r),this.kxt.set(r,Ko.lr(Ko.Uxt,h)))}const n=t.gD();this.l0t=0<n.size?n:null}Hxt(t){this.yf="timer",this.G2(),this.uR=this.$ft.HO().FD()+t}zxt(t){this.yf="signal",this.G2(),this.Dxt=t.toLowerCase()}oxt(t,s){this.yf="instance-signals",this.G2(),this.Dxt=s.toLowerCase(),this.Bxt=new Set(t)}Jxt(t){this.yf="promise",this.G2(),t.then(()=>this.npt()).catch(t=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",t),this.npt()})}qxt(){return"timer"===this.yf}ipt(){return"signal"===this.yf}upt(){return"instance-signals"===this.yf}Gpt(){return"promise"===this.yf}ept(){return this.Dxt}$xt(){return this.Oxt}npt(){this.Oxt=!0}cpt(t){this.Bxt.delete(t),0===this.Bxt.size&&this.npt()}V1t(){return this.qxt()?this.uR<=this.$ft.HO().FD():this.$xt()}Xxt(t){t.u0t(this.Lxt,this.e0t);for(const[i,e]of this.kxt.entries()){const n=i.kk();e.u0t(n)}this.l0t&&t.C0t([...this.l0t]);const s=this.Nxt;s&&(s.pyt(this.Lyt),s.Kyt().map((t,s)=>t.int(this.jxt[s])),s.eyt())&&s.nwt(this.Wxt)}U1t(t){this.Xxt(t),this.Lxt.nyt(t),this.Nxt&&this.Nxt.eyt()&&this.Nxt.Tyt(this.Wxt),this.$ft.D1t(this.Amt),this.Vxt=!0}async q1t(t){this.Xxt(t);for(const s of this.Lxt.ryt(t))await this.$ft.HO().y1t(s);this.Nxt&&this.Nxt.eyt()&&this.Nxt.Tyt(this.Wxt),this.$ft.D1t(this.Amt),this.Vxt=!0}H1t(){return this.Vxt}Tft(t){for(const s of this.kxt.values())s.Tft(t);if("instance-signals"===this.yf){for(const i of t)this.Bxt.delete(i);0===this.Bxt.size&&this.npt()}}mq(){const t={},s={wt:this.yf,t:this.uR,st:this.Dxt,s:this.Oxt,ev:this.Lxt.Zz(),sm:this.Amt.map(t=>t.Zz()),dsm:this.l0t?[...this.l0t].map(t=>t.Zz()):null,sols:t};this.Lxt.zgt(this.e0t)&&(s.act=this.Lxt.Wdt(this.e0t).Zz());for(const[i,e]of this.kxt)t[i.Zz().toString()]=e.mq();return"instance-signals"===this.yf&&(s.pi=[...this.Bxt].map(t=>t.H5())),s}static Ipt(t,s){const i=t.HO(),e=t.Xdt(s.ev);if(!e)return null;let n=0;if(s.hasOwnProperty("act")){const h=t.Zdt(s.act);if(!h)return null;n=h.RF()}const r=Ko.lr(Ko.N1t,t);r.uR=s.t,s.hasOwnProperty("wt")?r.yf=s.wt:r.yf=-1===r.uR?"signal":"timer",r.Dxt=s.st,r.Oxt=s.s,r.Lxt=e,r.e0t=n;for(const o of s.sm){const a=i.EV(o);a&&r.Amt.push(a)}if(Array.isArray(s.dsm))for(const l of s.dsm){const u=i.EV(l);u&&(r.l0t||(r.l0t=new Set),r.l0t.add(u))}for(const[c,f]of Object.entries(s.sols)){const d=parseInt(c,10),p=i.EV(d);if(p){const m=Ko.lr(Ko.Uxt,null);m.gq(t,f),r.kxt.set(p,m)}}if("instance-signals"===r.yf){r.Bxt=new Set;for(const g of s.pi){const y=i.wO(g);y&&r.Bxt.add(y)}}return r}}}{const Qo=self.Bs;Qo.Uxt=class extends Qo.rr{constructor(t){super(),this.yft=null,this.Yxt=!0,this.kH=[],t&&(this.yft=t.E5(),this.Yxt=t.Pft(),Qo.Vh(this.kH,t.kft()))}ur(){this.yft=null,Qo.Bh(this.kH)}u0t(t){t.Lft(this.Yxt),Qo.Vh(t.kft(),this.kH)}Tft(t){Qo.qh(this.kH,t)}mq(){return{sa:this.Yxt,insts:this.kH.map(t=>t.H5())}}gq(t,s){const i=t.HO();this.Yxt=!!s.sa,Qo.Bh(this.kH);for(const e of s.insts){const n=i.wO(e);n&&this.kH.push(n)}}}}{let l=function(t,s){let i=t.get(s);return i||(i=new Map,t.set(s,i)),i};l;const ta=self.Bs;ta.Zxt=class extends ta.rr{constructor(t){super(),this.lf=t.runtime,this.Kxt=!!t.KL,this.Qxt=!!t.tMt,this.sMt=!!t.nk,this.iMt=!!t.eMt,this.nMt=!!t.hk,this.rMt=!!t.hMt,this.oMt=!!t.dk,this.aMt=!!t.ik,this.lMt=!!t.lk,this.uMt=t.cMt,this.fMt=null,this.dMt=new Map,this.pMt=new Map,this.mMt=new Map,this.gMt=new Map,this.yMt=t.wMt,this.SMt=null}ur(){this.lf=null}HO(){return this.lf}vMt(){}lpt(){return(2<=this.hvt()?this.SMt:this).constructor}hvt(){return this.uMt}bMt(t=!1){let s=this.yMt;return t&&"function"!=typeof s&&2<=this.hvt()?globalThis.QW:s}QL(){return this.Kxt}sk(){return this.Qxt}ek(){return this.aMt}uk(){return this.lMt}rk(){return this.sMt}Zv(){return this.iMt}ak(){return this.nMt}fk(){return this.rMt}pk(){return this.oMt}Pwt(t,s){if(!s)throw new Error("missing 'this' binding");let i=this.dMt.get(t);return i||(i=t.bind(s),this.dMt.set(t,i)),i}ivt(t,s,i){if(!s)throw new Error("missing 'this' binding");let e=l(this.pMt,t),n=e.get(i);return n||(n=t.bind(s,i),e.set(i,n)),n}evt(t,s,i,e){if(!s)throw new Error("missing 'this' binding");let n=l(this.mMt,t),r=l(n,i),h=r.get(e);return h||(h=t.bind(s,i,e),r.set(e,h)),h}nvt(t,s,i,e,n){if(!s)throw new Error("missing 'this' binding");let r=l(this.gMt,t),h=l(r,i),o=l(h,e),a=o.get(n);return a||(a=t.bind(s,i,e,n),o.set(n,a)),a}xMt(t){if(!this.QL())throw new Error("must be single-global plugin");this.fMt=t}vk(){if(this.QL())return this.fMt;throw new Error("must be single-global plugin")}xk(){if(this.QL())return this.fMt.xk();throw new Error("must be single-global plugin")}MMt(){const t=this.hvt(),s=(ta.YL.TMt(this,t),this.bMt(!0));if(s){if(this.SMt=new s,!(this.SMt instanceof self.qL))throw new TypeError("plugin class must derive from IPlugin")}else this.SMt=new self.qL;ta.YL._Mt(t)}yk(){return this.SMt}}}{const sa=self.Bs;sa.GMt=class extends sa.Zxt{constructor(t,s){super(t),this.IMt=s,this.CMt=0,this.PMt=new Map,this.EMt("elem-focused",t=>t.AMt()),this.EMt("elem-blurred",t=>{t&&t.RMt()})}ur(){super.ur()}FMt(t){const s=this.CMt++;return this.PMt.set(s,t),s}DMt(t){this.PMt.delete(t)}EMt(t,i){this.lf.vN(this.IMt,t,t=>{const s=this.PMt.get(t.elementId);i(s,t)})}}}{const ia=self.Bs;ia.OMt=class extends ia.rr{constructor(t){super(),this.yft=t,this.lf=t.HO(),this.LMt=t._k()}ur(){this.yft=null,this.lf=null,this.LMt=null}E5(){return this.yft}HO(){return this.lf}_k(){return this.LMt}tW(){return this.yft.tW()}vMt(){}wvt(t){}e2t(t){}n2t(t){}G$(t){}R$(){}P$(){}K$(t){}kMt(){}bMt(){return null}BMt(t,s,i){const e=ia.lr(ia.Event,t,s);e.NMt=this,i&&Object.assign(e,i),this.E5().OX(e)}}}{const ea=self.Bs;ea.WMt=class extends ea.rr{constructor(t,s){super(),this._i=t,this.IMt=s,this.jMt=null,this.lf=t.HO(),this.yft=this._i.E5(),this.VMt=this.yft.i2t(),this.bY=null,this.MY=null,this.GN=!1,this.CN=!1,this.v0=null,this.AI=!1}ur(){this.AI=!0,this.UMt(),this.HMt(),this.bY=null,this.MY=null,this.v0&&(this.v0.ur(),this.v0=null),this._i=null,this.lf=null,this.yft=null,this.VMt=null}cr(){return this.AI}JW(){return this._i}HO(){return this.lf}E5(){return this.yft}_k(){return this.VMt._k()}i2t(){return this.VMt}zMt(){return this._i.SO()}gN(t){return this.lf.gN(t,this._i,null)}JMt(t){return this.lf.JMt(t,this._i,null)}wN(t){return this.lf.wN(t,this._i,null)}qMt(t,s){return this.lf.qMt(t,this._i,s)}$Mt(t,s){return this.lf.$Mt(t,this._i,s)}XMt(t){return this.lf.XMt(t)}YMt(t,s){this.lf.vN(this.IMt,t,s)}ZMt(t){for(const[s,i]of t)this.YMt(s,i)}KMt(t,s){this.lf.ff(this.IMt,t,s)}QMt(t,s){return this.lf.RO(this.IMt,t,s)}tTt(t,s){if(!this.lf.qF())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.IMt,handler:t,data:s,responseId:null});this.KMt(t,s)}sTt(t){if(!t)throw new Error("cannot set empty component id");this.jMt=t}iTt(){if(this.jMt)return this.lf.FN(this.jMt);throw new Error("wrapper extension component id not set")}ON(t,s){if(!this.jMt)throw new Error("wrapper extension component id not set");this.lf.ON(this.jMt,t,s)}eTt(t){for(const[s,i]of t)this.ON(s,i)}vV(t,s){if(!this.jMt)throw new Error("wrapper extension component id not set");this.lf.vV(this.jMt,t,s)}bV(t,s){if(this.jMt)return this.lf.bV(this.jMt,t,s);throw new Error("wrapper extension component id not set")}EZ(){}nTt(){}rTt(){this.GN||(this.bY||(this.bY=()=>this.EZ()),this.lf.Vf().addEventListener("tick",this.bY),this.GN=!0)}UMt(){this.GN&&(this.lf.Vf().removeEventListener("tick",this.bY),this.GN=!1)}hTt(){return this.GN}oTt(){this.CN||(this.MY||(this.MY=()=>this.nTt()),this.lf.Vf().addEventListener("tick2",this.MY),this.CN=!0)}HMt(){this.CN&&(this.lf.Vf().removeEventListener("tick2",this.MY),this.CN=!1)}aTt(){return this.CN}lTt(){return[]}j2(){return null}V2(t){}Rrt(t){}Brt(t,s){}Rht(t,s,i){if(0!==s){const e=this.Rrt(t);if("number"!=typeof e)throw new Error("expected number");this.Brt(t,e+s,i)}}uTt(t,s,i,e){}cTt(t,...s){t.call(this,...s)}fTt(t,...s){return t.call(this,...s)}bMt(){return null}BMt(t,s,i){if(this._i.dTt()){const e=this.zMt(),n=ea.lr(ea.Event,t,s);n.I6=e,i&&Object.assign(n,i),e.dispatchEvent(n)}}Zv(){return!1}}}{const na=self.Bs;na.pTt=class extends na.WMt{constructor(t,s){super(t,s),this.Tst=t.MO(),this.mTt=null,this.gTt=null}ur(){if(this.mTt){const t=this.lf.Vf();t.removeEventListener("renderercontextlost",this.mTt),t.removeEventListener("renderercontextrestored",this.gTt),this.mTt=null,this.gTt=null}this.Tst=null,super.ur()}yTt(){this.wTt()}STt(){}vTt(){}wTt(){if(!this.mTt){this.mTt=()=>this.PH(),this.gTt=()=>this.bTt();const t=this.lf.Vf();t.addEventListener("renderercontextlost",this.mTt),t.addEventListener("renderercontextrestored",this.gTt)}}PH(){this.STt()}bTt(){this.vTt()}MO(){return this.Tst}mit(){return!1}pit(){if(!this.mit())throw new Error("original size not known");const t=this.xTt();if(t)return t.um()}yit(){if(!this.mit())throw new Error("original size not known");const t=this.xTt();if(t)return t.Mm()}xTt(){return null}MTt(){const t=this.xTt();if(t){const s=t.Yx();if(s)return[s.um(),s.Mm()]}return[100,100]}TTt(){const t=this.xTt();return t?t.kC():null}_Tt(){const t=this.xTt();return t?t.GTt():null}ITt(){const t=this.xTt();return!!t&&t.CTt()}y2t(t){const s=this._i.MO();return[s.I2(),s.E2(),s.ZN()]}kMt(t,s,i){}PTt(t,s){}JJ(){return!0}}}{const ra=self.Bs,ha=ra.lr(ra.Rect);ra.ETt=class extends ra.pTt{constructor(t,s){super(t,s),this.ATt=this._k().FMt(this),this.RTt=!0,this.FTt=!1,this.DTt=!1,this.OTt=-.2,this.LTt=ra.lr(ra.Rect,0,0,-1,-1);const i=this.lf.FL();this.kTt=i.Lj(),this.BTt=i.kj(),this.NTt=-1,this.WTt=-1,this.jTt=!1,this.rTt()}ur(){this._k().DMt(this.ATt),this.VTt("destroy"),this.ATt=-1,super.ur()}m6(){if(this.lf.qF())throw new Error("not valid in worker mode");return this.UTt("get-element")}VTt(t,s){(s=s||{}).elementId=this.ATt,this.KMt(t,s)}UTt(t,s){return(s=s||{}).elementId=this.ATt,this.tTt(t,s)}HTt(t,s){return(s=s||{}).elementId=this.ATt,this.QMt(t,s)}zTt(t){t=t||{};const s=this.MO();t.elementId=this.ATt,t.isVisible=s.jB(),t.htmlIndex=s.TO().Uj(),t.htmlZIndex=s.Hj(),Object.assign(t,this.JTt()),this.RTt=!!t.isVisible,this.tTt("create",t),this.qTt(!0)}Mbt(t){this.RTt!==(t=!!t)&&(this.RTt=t,this.VTt("set-visible",{isVisible:t}))}EZ(){this.qTt(!1)}$Tt(){const t=this.lf.FL().Xj();return"Android"===ra.li.ci&&("scale-inner"===t||"scale-outer"===t||"crop"===t)}qTt(u){if(!this.JW().Yj()){let t=this.MO(),s=t.TO(),i=t.QN(),[e,n]=s.b5(i.Ml(),i.Tl()),[r,h]=s.b5(i._l(),i.Gl()),o=this.lf.FL(),a=o.kL(),l=o.NL();if(t.jB()&&s.jB())if(!this.$Tt()&&(r<=0||h<=0||a<=e||l<=n))this.Mbt(!1);else{ha.set(e,n,r,h);const c=o.Lj(),f=o.kj(),d=s.Uj(),p=t.Hj();if(!u&&ha.equals(this.LTt)&&this.kTt===c&&this.BTt===f&&this.NTt===d&&this.WTt===p)this.Mbt(!0);else{this.LTt.G(ha),this.kTt=c,this.BTt=f,this.NTt=d,this.WTt=p,this.Mbt(!0);let t=null;this.DTt&&(t=s.Zj()+this.OTt),this.VTt("update-position",{left:Math.round(this.LTt.Ml()),top:Math.round(this.LTt.Tl()),width:Math.round(this.LTt.width()),height:Math.round(this.LTt.height()),htmlIndex:d,htmlZIndex:p,fontSize:t})}}else this.Mbt(!1)}}y6(){this.UTt("focus",{focus:!0})}w6(){this.UTt("focus",{focus:!1})}AMt(){this.FTt=!0}RMt(){this.FTt=!1}Cbt(){return this.FTt}v6(t,s){this.VTt("set-css-style",{prop:ra.Wo(t),val:s})}Tbt(t,s){this.VTt("set-attribute",{name:t,val:s})}_bt(t){this.VTt("remove-attribute",{name:t})}XTt(){this.jTt||(this.jTt=!0,Promise.resolve().then(()=>{this.jTt=!1,this.VTt("update-state",this.JTt())}))}JTt(){}YTt(){return this.ATt}}}{const oa=self.Bs,aa=self.E6;oa.ZTt=class extends oa.rr{constructor(t){super(),this.lf=t.runtime,this.KTt=oa.lr(oa.hc),this.QTt=oa.lr(oa.hc),this.uMt=t.cMt,this.yMt=t.wMt,this.t_t=null}ur(){this.QTt.ur(),this.KTt.ur(),this.lf=null}HO(){return this.lf}vMt(){}hvt(){return this.uMt}bMt(t=!1){let s=this.yMt;return t&&"function"!=typeof s&&2<=this.hvt()?globalThis.hV:s}s_t(t){this.KTt.uc(t)}eZ(){return this.KTt.cc()}Pz(t){this.QTt.uc(t)}Rz(t){this.QTt.ic(t)}Lk(){return this.QTt.cc()}MMt(){const t=this.hvt(),s=(oa.YL.TMt(this,t),this.bMt(!0));if(s){if(this.t_t=new s,!(this.t_t instanceof aa))throw new TypeError("behavior class must derive from IBehavior")}else this.t_t=new aa;oa.YL._Mt(t)}x6(){return this.t_t}}}{const la=self.Bs;la.i_t=class extends la.rr{constructor(t){super(),this.lf=t.HO(),this.Hwt=t,this.yft=t.E5(),this.e_t=t.M6(),this.e_t.s_t(this.yft)}ur(){this.lf=null,this.Hwt=null,this.yft=null,this.e_t=null}vMt(){}G6(){return this.Hwt}E5(){return this.yft}HO(){return this.lf}M6(){return this.e_t}}}{const ua=self.Bs;ua.n_t=class extends ua.rr{constructor(t,s){super(),this.r_t=t,this.IMt=s,this._i=t.C6(),this.lf=t.HO(),this.Hwt=t.G6(),this.VMt=this.Hwt.i2t(),this.GN=!1,this.CN=!1,this.wV=!1,this.v0=null}ur(){this.UMt(),this.HMt(),this.h_t(),this.v0&&(this.v0.ur(),this.v0=null),this.r_t=null,this._i=null,this.lf=null,this.Hwt=null,this.VMt=null}M6(){return this.Hwt.M6()}o_t(){return this.r_t}C6(){return this._i}E5(){return this._i.E5()}MO(){return this._i.MO()}HO(){return this.lf}G6(){return this.Hwt}i2t(){return this.VMt}zMt(){return this.r_t.zMt()}gN(t){return this.lf.gN(t,this._i,this.Hwt)}JMt(t){return this.lf.JMt(t,this._i,this.Hwt)}wN(t){return this.lf.wN(t,this._i,this.Hwt)}a_t(){}EZ(){}nTt(){}l_t(){}rTt(){this.GN||(this.lf.fV(this),this.GN=!0)}UMt(){this.GN&&(this.lf.dV(this),this.GN=!1)}hTt(){return this.GN}oTt(){this.CN||(this.lf.pV(this),this.CN=!0)}HMt(){this.CN&&(this.lf.mV(this),this.CN=!1)}aTt(){return this.CN}u_t(){this.wV||(this.lf.gV(this),this.wV=!0)}h_t(){this.wV&&(this.lf.yV(this),this.wV=!1)}c_t(){return this.wV}lTt(){return[]}YMt(t,s){this.lf.vN(this.IMt,t,s)}f_t(t,s){}j2(){return null}V2(t){}Rrt(t){}Brt(t,s){}Rht(t,s){if(0!==s){const i=this.Rrt(t);if("number"!=typeof i)throw new Error("expected number");this.Brt(t,i+s)}}uTt(t,s,i,e){}cTt(t,...s){t.call(this,...s)}fTt(t,...s){return t.call(this,...s)}bMt(){return null}BMt(t,s,i){if(this.r_t.dTt()){const e=this.zMt(),n=ua.lr(ua.Event,t,s);n.d_t=e,n.I6=e.I6,i&&Object.assign(n,i),e.dispatchEvent(n)}}}}{let s=function(t){if(t!==i)throw new Error("invalid internal API token")},r=(s,self.Bs),i=(r.nX={},r.Uat={},r.Ns()),e=[],n=[],h=[],o=null,a=null,t=null,l=null,u=new Map,c=new Map;r.YL=class extends r.rr{constructor(t,s){super(),this.lf=t,this.p_t=[],this.Twt=null,this.m_t=[],this.g_t=new Map,this.y_t=null,this.w_t=null,this.S_t=new Set(s)}v_t(t){const s=t[19],i=this.lf.Cyt(t[0]);if(!i)throw new Error("missing plugin");r.lxt(t,i,s);const e=2<=s?r.Zxt:i,n=r.lr(e,{runtime:this.lf,KL:t[1],tMt:t[2],nk:t[5],hk:t[8],eMt:t[9],hMt:t[13],dk:t[14],ik:t[17],lk:t[18],cMt:s,wMt:2<=s?i:null});n.vMt(),this.p_t.push(n),u.set(i,n)}b_t(){this.Twt=r.lr(r.nX.eX,{runtime:this.lf,KL:!0}),this.Twt.vMt()}x_t(t){const i=t[1],e=this.lf.Cyt(t[0]);if(!e)throw new Error("missing behavior");this.g_t.set(e,()=>{const t=2<=i?r.ZTt:e,s=r.lr(t,{runtime:this.lf,cMt:i,wMt:2<=i?e:null});s.vMt(),this.m_t.push(s),c.set(e,s),!this.y_t&&r.Uat.solid&&s instanceof r.Uat.solid?this.y_t=s:!this.w_t&&r.Uat.jumpthru&&s instanceof r.Uat.jumpthru&&(this.w_t=s),s.MMt()})}M_t(t){const s=this.g_t.get(t);s&&(s(),this.g_t.delete(t))}static TMt(t,s=1){if(r.YL.TMt!==o)throw new Error("invalid method");1===s&&e.push(t),n.push(t)}static _Mt(t=1){if(r.YL._Mt!==a)throw new Error("invalid method");1===t&&e.pop(),n.pop()}static D5(){if(r.YL.D5!==t)throw new Error("invalid method");if(0===e.length)throw new Error("no init object set");return e.at(-1)}static XL(t){if(r.YL.XL!==l)throw new Error("invalid method");if(s(t),0===n.length)throw new Error("no init object set");return n.at(-1)}static T_t(t){h.push(t)}static __t(){h.pop()}static pN(){if(0===h.length)throw new Error("no init properties set");return h.at(-1)}G_t(){for(const t of this.p_t)t.MMt()}static gk(t){return u.get(t)||null}static A6(t){return c.get(t)||null}_wt(){return this.Twt}I_t(){return this.y_t}C_t(){return this.w_t}FN(t){return this.S_t.has(t)}},o=r.YL.TMt,a=r.YL._Mt,t=r.YL.D5,l=r.YL.XL}{const ca=self.Bs,fa=new Set;ca.P_t=class extends ca.rr{constructor(){super(),this.E_t=0,this.wH="",this.SH=0,this.A_t=0,this.R_t=0,this.Xm=0,this.Ym=0,this.F_t=!1,this.D_t=!1,this.O_t=null,this.L_t="",this.TI=ca.lr(ca.Rect),this.k_t=ca.lr(ca.Ql),this.B_t="",this.N_t=new self.VO(this),fa.add(this)}ur(){this.II(),this.O_t&&0===this.O_t.RH()&&this.O_t.ur(),this.O_t=null,fa.delete(this),this.W_t()}static PH(){for(const t of fa)t.L_t="",t.TI.set(0,0,0,0),t.k_t.vu(t.TI)}j_t(t){this.wH=t[0],this.SH=t[1],this.A_t=t[2],this.R_t=t[3],this.Xm=t[4],this.Ym=t[5],this.F_t=t[6],this.D_t=!0}V_t(t,s){if(this.O_t)throw new Error("already loaded asset");this.wH=s;const i={};return ca.wo(s)&&(i.XU="remote"),this.UO(t,i),this.O_t.KU()}U_t(t,s){if(this.O_t)throw new Error("already loaded asset");this.wH="",this.SH=s.size,this.O_t=ca.lr(ca.YU,t.LF(),{blob:s,size:this.SH,XU:"local"})}H_t(t){if(t===this)throw new Error("cannot replace with self");this.E_t++,this.II(),this.wH=t.wH,this.SH=t.SH,this.A_t=t.A_t,this.R_t=t.R_t,this.Xm=t.Xm,this.Ym=t.Ym,this.F_t=t.F_t,this.D_t=t.D_t,this.O_t=t.O_t,this.L_t=t.L_t,this.TI=t.TI,this.k_t=t.k_t,this.W_t()}ZU(){return this.wH}nc(){return this.SH}z_t(){return this.A_t}J_t(){return this.R_t}CTt(){return this.F_t}um(){return this.Xm}Mm(){return this.Ym}q_t(){return this.O_t.um()}$_t(){return this.O_t.Mm()}UO(t,s){if(this.O_t)throw new Error("already got asset");s=Object.assign({},s,{url:this.ZU(),size:this.nc()}),this.O_t=t.$U(s)}MH(){return this.O_t&&this.O_t.MH()}async C8(t,s){if(!this.O_t)throw new Error("no asset");if(this.L_t)throw new Error("already loaded texture");const i=this.E_t,e=(this.L_t="loading",await this.O_t.C8(t,s));if(this.E_t!==i)return null;if(!e)return this.L_t="",null;this.L_t="loaded",this.D_t||(this.Xm=e.um(),this.Ym=e.Mm(),this.D_t=!0);const n=this.F_t?this.Ym:this.Xm,r=this.F_t?this.Xm:this.Ym;return this.TI.set(this.A_t,this.R_t,this.A_t+n,this.R_t+r),this.TI.Ct(e.um(),e.Mm()),this.k_t.vu(this.TI),this.F_t&&this.k_t.Gu(),e}II(){this.L_t&&(this.O_t&&this.O_t.II(),this.L_t="",this.TI.set(0,0,0,0),this.k_t.vu(this.TI))}Yx(){return this.O_t&&"loaded"===this.L_t?this.O_t.Yx():null}kC(){return this.TI}GTt(){return this.k_t}fj(){return this.N_t}X_t(){return this.O_t}async Y_t(t){t=t||await this.O_t.FH();const s=ca.Ao(this.Xm,this.Ym),i=s.getContext("2d");return this.F_t?(i.rotate(Math.PI/-2),i.translate(-this.Ym,0),i.drawImage(t,this.A_t,this.R_t,this.Ym,this.Xm,0,0,this.Ym,this.Xm)):i.drawImage(t,this.A_t,this.R_t,this.Xm,this.Ym,0,0,this.Xm,this.Ym),s}async Z_t(t){if(!this.B_t){const s=await this.Y_t(t),i=await ca.Ro(s);this.B_t=URL.createObjectURL(i)}return this.B_t}W_t(){this.B_t&&(URL.revokeObjectURL(this.B_t),this.B_t="")}}}{const da=self.Bs;da.K_t=class extends da.rr{constructor(t){super(),this.pr=t[0],this.Q_t=t[1],this.OSt=!!t[2],this.aot=t[3],this.tGt=t[4],this.sGt=!!t[5],this.m7=t[6],this.iGt=t[7].map(t=>da.lr(da.eGt,t)),this.nGt=new self.k6(this)}static rGt(t,s){const i=da.lr(da.K_t,[s,0,!1,0,0,!1,Math.floor(1e15*Math.random()),[]]);return i.iGt.push(da.eGt.rGt(t)),i}ur(){for(const t of this.iGt)t.ur();da.Bh(this.iGt)}hGt(t){for(const s of this.iGt)s.tW().UO(t)}oGt(s,i){return Promise.all(this.iGt.map(t=>t.tW().C8(s,i)))}aGt(){for(const t of this.iGt)t.tW().II()}Kc(){return this.pr}Zz(){return this.m7}z6(){return this.iGt.length}q6(){return this.iGt}lGt(t){if((t=Math.floor(t))<0||t>=this.iGt.length)throw new RangeError("invalid frame");return this.iGt[t]}uGt(t,s){(s=Math.floor(s))<0?this.iGt.unshift(t):s>=this.iGt.length?this.iGt.push(t):this.iGt.splice(s,0,t)}cGt(t){if((t=Math.floor(t))<0||t>=this.iGt.length)throw new RangeError("invalid frame");this.iGt[t].ur(),this.iGt.splice(t,1)}fGt(i){for(let t=0,s=this.iGt.length;t<s;++t)if(da.vn(this.iGt[t].SW(),i))return t;return-1}dGt(t){if("string"!=typeof t)return t;{const s=this.fGt(t);if(-1===s)throw new Error("cannot find animation frame with tag "+t);return s}}B6(){return this.Q_t}N6(){return this.OSt}W6(){return this.aot}V6(){return this.tGt}H6(){return this.sGt}pGt(){return this.nGt}}}{const pa=self.Bs,ma=(()=>{const i=atob("iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAAAXNSR0IArs4c6QAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAATSURBVBgZYxgFo2AUjIJRQFcAAAV4AAHcRQIbAAAAAElFTkSuQmCC"),e=new Uint8Array(i.length);for(let t=0,s=i.length;t<s;++t)e[t]=i.charCodeAt(t);return new Blob([e],{type:"image/png"})})();pa.eGt=class extends pa.rr{constructor(t){super(),this.mGt=pa.lr(pa.P_t),this.mGt.j_t(t),this.gGt=t[7],this.yGt=pa.lr(pa.Qa,t[8],t[9]),this.wGt=t[10].map(t=>pa.lr(pa.SGt,this,t)),this.vGt=new Map;for(const i of this.wGt)this.vGt.set(i.Kc().toLowerCase(),i);this.bGt=null;const s=t[11];6<=s.length&&(this.bGt=pa.lr(pa.Fu,s)),this.Yg=t[12]||"",this.xGt=new self.Q6(this)}static rGt(t){const s=pa.lr(pa.eGt,["",0,0,0,100,100,!1,1,0,0,[],[],""]);return s.mGt.U_t(t,ma),s}ur(){this.bGt&&(this.bGt.ur(),this.bGt=null),this.mGt.ur(),this.mGt=null}tW(){return this.mGt}sW(){return this.gGt}eW(){return this.yGt.nl()}rW(){return this.yGt.hl()}mW(){return this.bGt}dW(t){return this.vGt.get(t.toLowerCase())||null}fW(t){return(t=Math.floor(t))<0||t>=this.wGt.length?null:this.wGt[t]}aW(){return this.wGt.length}SW(){return this.Yg}X6(){return this.xGt}}}{const ga=self.Bs;ga.SGt=class extends ga.rr{constructor(t,s){super(),this.MGt=t,this.pr=s[0],this.TGt=ga.lr(ga.Qa,s[1],s[2])}ur(){}Kc(){return this.pr}I2(){return this.TGt.nl()}E2(){return this.TGt.hl()}_Gt(){return this.TGt}}}{const x=self.Bs,ya=self.C3Debugger,wa=self.Mk;x.Ult=class extends x.rr{constructor(s,t,i){super();const e=s.Cyt(i[1]),[n,r]=(this.lf=s,this.LMt=x.YL.gk(e),this.VMt=null,this.GGt=e.Instance,this.Xg=t,this.m7=i[11],this.pr=i[0],this.cwt=this.lf.Jdt(i[14]),this.IGt=!!i[9],this.CGt=!!i[2],this.PGt=!!i[10],this.EGt=i[3].map(t=>({sid:t[0],type:t[1],name:t[2],AGt:s.Jdt(t[3])})),this.RGt=i[4],this.FGt=i[5],this.Qxt=this.LMt.sk(),this.DGt=x.lr(x.Event.Vf),this.Z7=null,s.NF().SL());if(this.OGt=x.lr(x.LGt,n,r),this.kGt=!0,this.BGt=null,this.NGt=null,this.WGt=-1,this.jGt=null,this.VGt=null,this.UGt=null,this.HGt=null,this.zGt=null,this.JGt=!1,this.qGt=null,this.$Gt=i[8].map(t=>x.XGt.gM(this,t)),this.YGt=[],this.ZGt=new Map,this.KGt=new Map,this.QGt=new Set,this.tIt=new Map,this.sIt=x.lr(x.gft,this),this.iIt=null,this.eIt=0,this.nIt=!1,this.qGt=null,this.mGt=null,this.rIt=null,this.hIt=null,this.oIt=null,this.aIt=0,this.WSt=new Map,this.jSt=new Map,this.kH=[],this.lIt=new Map,this.uIt=!0,this.LMt.ak()&&(this.Z7=x.lr(x.K7,this,i[12])),i[6]&&(this.mGt=x.lr(x.P_t),this.mGt.j_t(i[6])),i[7]){this.rIt=i[7].map(t=>x.lr(x.K_t,t)),this.hIt=new Map,this.oIt=new Map;for(const a of this.rIt)this.hIt.set(a.Kc().toLowerCase(),a),this.oIt.set(a.Zz(),a)}this.CGt?(this.BGt=[],this.NGt=new Set,this.WGt=this.lf.cIt()):(this.jGt=[],this.VGt=new Set,this.UGt=[],this.HGt=[],this.zGt=[]);const h=this.LMt.hvt();if(h<2&&(this.VMt=x.lr(e.fIt,this,i[15]),!(this.VMt instanceof x.OMt)))throw new Error("v1 sdk type must derive from SDKTypeBase");this.dIt=null,this.pIt=null,this.Kq=x.lr(x.Event.Vf),x.YL.TMt(this,h);let o;if(o=2<=h?(o=e.fIt)||globalThis.lj:this.VMt.bMt()){if(this.dIt=new o(h<2?this:null),h<2&&!(this.dIt instanceof wa))throw new TypeError("script interface class must derive from IObjectClass");if(2<=h&&!(this.dIt instanceof globalThis.lj))throw new TypeError("script interface class must derive from ISDKObjectTypeBase")}else this.dIt=new wa;if(x.YL._Mt(h),i[13]){const l=i[13];if(l){const u=l[0],c=l[1],f=l[2];this.VMt.kMt(u,c,f)}}this.lf.mIt()&&!this.CGt&&!this.PGt&&this.Qxt||this.vMt(),this.LMt.QL()&&(this.LMt.xMt(this),this.gIt(i)),this.yIt=null}static gM(t,s,i){return x.lr(x.Ult,t,s,i)}ur(){if(this.DGt.ur(),this.DGt=null,this.mGt&&(this.mGt.ur(),this.mGt=null),this.rIt){for(const t of this.rIt)t.ur();x.Bh(this.rIt),this.hIt.clear(),this.oIt.clear()}this.yIt=null,this.sIt.ur(),this.sIt=null,this.WSt.clear(),this.jSt.clear(),this.qGt=null,this.lf=null}wIt(i){for(let t=1,s=i.length;t<s;++t){const e=this.lf.wz(i[t]);this.BGt.push(e),this.NGt.add(e),e.jGt.push(this),e.VGt.add(this)}}SIt(t){this.JGt=!0,this.qGt=t}V5(){return this.JGt}M$(){return this.qGt}vIt(){let t=0;if(!this.CGt)for(const s of this.jGt)for(const i of s.bIt()){const e=i.Kc().toLowerCase();this.ZGt.set(e,i),this.KGt.set(e,t),this.YGt.push(i),++t}for(const n of this.bIt()){const r=n.Kc().toLowerCase();this.ZGt.set(r,n),this.KGt.set(r,t),this.YGt.push(n),++t}for(const h of this.YGt)this.QGt.add(h.M6().constructor);if(!this.CGt&&this.jGt.length){let t=this.lf.xIt(),s=(x.Wh(this.UGt,t,0),x.Wh(this.HGt,t,0),x.Wh(this.zGt,t,0),[]),i=0,e=0,n=0;for(const o of this.jGt){const a=o.Vwt(),l=(this.UGt[a]=i,i+=o.MIt(),this.HGt[a]=e,e+=o.TIt(),this.zGt[a]=n,n+=o._It(),o.Xk());if(l&&this.Z7)for(const u of l.Yk())s.push(u.GIt(this.Z7))}this.Z7&&this.Z7.IIt(s)}}gIt(t){const s=this.lf.CIt(),i=x.lr(x.Instance,{runtime:this.lf,P5:this,uid:s});i.PIt(t[16],[]),this.lf.EIt(s,i),this.kH.push(i)}i2t(){return this.VMt}AIt(){return this.PGt}Vf(){return this.DGt}vMt(){this.CGt||(this.VMt?this.VMt.vMt():this.dIt.uj())}RIt(){return 0<this.aIt}async G$(t){this.CGt||(this.aIt++,1===this.aIt&&(this.VMt?await this.VMt.G$(t):await this.dIt.dj(this.lf.FL().FIt())))}R$(){if(!this.CGt){if(this.aIt--,this.aIt<0)throw new Error("released textures too many times");0===this.aIt&&(this.VMt?this.VMt.R$():this.dIt.pj(this.lf.FL().FIt()))}}P$(){if(this.CGt)throw new Error("not applicable to family");this.VMt?this.VMt.P$():this.dIt.mj()}async K$(t){this.CGt||(this.VMt?await this.VMt.K$(t):await this.dIt.gj(this.lf.FL().FIt()))}HO(){return this.lf}_k(){return this.LMt}DIt(){return this.GGt}Kc(){return this.pr}Jdt(){return this.cwt}RF(){return this.Xg}Zz(){return this.m7}Vz(){return this.CGt}Cz(){return this.IGt}sk(){return this.Qxt}Vwt(){return this.WGt}bIt(){return this.$Gt}TIt(){return this.RGt}OIt(t){return t&&this.QGt.has(t)}MIt(){return this.EGt.length}LIt(){return this.EGt.map(t=>t.sid)}kIt(s){return this.EGt.findIndex(t=>t.sid===s)}Zst(s){return this.EGt.findIndex(t=>t.name===s)}BIt(){return this.EGt.map(t=>t.name)}NIt(){return this.EGt.map(t=>t.AGt)}Qst(t){if((t=Math.floor(t))<0||t>=this.EGt.length)throw new RangeError("invalid instance variable index");return this.EGt[t].type}Kst(t){if((t=Math.floor(t))<0||t>=this.EGt.length)throw new RangeError("invalid instance variable index");return this.EGt[t].name}_It(){return this.FGt}WIt(){return this.YGt}Gnt(t){return this.ZGt.get(t.toLowerCase())||null}sit(t){const s=this.KGt.get(t.toLowerCase());return void 0===s?-1:s}Xk(){return this.Z7}ak(){return this.LMt.ak()}jIt(){return this.Z7&&this.Z7.VIt()}O1t(){return this.sIt}kk(){return this.sIt.kk()}tW(){return this.mGt}bz(t){this.iIt=t}vz(){return this.iIt}xz(t){this.eIt=t}UIt(){return this.eIt}HIt(){return this.rIt}zIt(){return this.rIt.length}Qdt(){return this.jGt}o2t(t){return this.VGt.has(t)}cgt(){return this.BGt}Uz(t){return this.NGt.has(t)}qwt(t){return this.HGt[t]}jwt(t){return this.UGt[t]}Xyt(t){this.tIt.set(t.twt().toLowerCase(),t)}Yyt(t){return!!this.hwt(t)}hwt(t){const s=this.tIt.get(t.toLowerCase());return s&&s.Zu()?s:null}JIt(){return this.rIt}qIt(t){if(this.rIt)return this.hIt.get(t.toLowerCase())||null;throw new Error("no animations")}$It(t){if(this.rIt)return this.oIt.get(t)||null;throw new Error("no animations")}XIt(t){if(this.qIt(t))throw new Error(`animation name '${t}' already exists`);const s=x.K_t.rGt(this.HO(),t);return this.rIt.push(s),this.hIt.set(s.Kc().toLowerCase(),s),this.oIt.set(s.Zz(),s),s}YIt(t){const s=this.qIt(t);if(!s)throw new Error(`animation name '${t}' does not exist`);if(1===this.rIt.length)throw new Error("cannot remove last animation");const i=this.rIt.indexOf(s);this.rIt.splice(i,1),this.hIt.delete(s.Kc().toLowerCase()),this.oIt.delete(s.Zz()),s.ur()}ZIt(){if(this.rIt)return this.rIt[0];throw new Error("no animations")}KIt(){return this.ZIt().lGt(0)}QIt(){if(this.rIt){const t=this.KIt().tW();return[t.um(),t.Mm()]}return this.mGt?[this.mGt.um(),this.mGt.Mm()]:[100,100]}xk(){if(this.LMt.QL())return this.kH[0];throw new Error("not a single-global plugin")}Lk(){return this.kH}*instances(){yield*this.kH}*Ok(){yield*this.kH,yield*this.lf.ubt(this)}Nk(){return this.kH.length}Pz(t){this.kH.push(t)}tCt(){this.uIt=!0}cX(){if(this.uIt&&!this.CGt){let s=this.kH,i=0;for(let t=s.length;i<t;++i)s[i].sCt(i);const t=this.lf.iCt();for(const e of t)e.E5()===this&&e.sCt(i++);this.uIt=!1}}eCt(t){const s=this.kH;if(t<s.length)return s[t];t-=s.length;const i=this.lf.iCt();for(const e of i)if(e.E5()===this){if(0===t)return e;--t}return null}$2t(t){if(t&&t.V5()&&t.E5()!==this)for(const i of t.U5())if(i.E5()===this)return i;const s=this.kk().Lk();return s.length?s[0]:null}Dk(t){const s=this.kk().Lk();return 0<s.length?s[t.aX()%s.length]:null}*gbt(t,s){let i=this.kk().Lk(),e=i.length,n=s.kk(),r=s.kk().Lk(),h=r.length,o=t.aX(),a=(!s.Vz()&&n.Pft()||(o=r.indexOf(t)),Math.ceil(e/h)),l=e%h,u=0,c;c=0==l||o<l?(u=o*a,a):(u=l*a+(o-l)*(a-1),a-1);for(let t=u,s=u+c;t<s;++t)yield i[t]}wvt(t){this.VMt?.wvt(t)}Syt(){if(this.JGt&&!this.CGt){this.cX();const t=this.kk(),s=t.kft(),i=t.Pft(),e=this.lf.Ldt(),n=e&&e.mD()&&e.mD().Jft();for(const r of this.qGt.lX())if(r!==this){r.cX();const h=r.kk();if(h.Lft(i),!i){const o=h.kft();x.Bh(o);for(const a of s)o.push(r.eCt(a.aX()));if(n){const l=t.Bft(),u=h.Bft();x.Bh(u);for(const c of l)u.push(r.eCt(c.aX()))}}}}}Mvt(t,s){for(const i of this.M$().lX()){const e=i.kk();t?x.kh(e.Bft(),s):x.kh(e.kft(),s)}}nCt(){return this.OGt}rCt(t){this.kGt=!!t}hCt(){if(this.kGt&&this.Qxt){for(const t of this.kH)t.MO().oCt();for(const s of this.lf.iCt())s.E5()===this&&s.MO().oCt();this.kGt=!1}}aCt(s,t,i){if(t){const e=this.lIt.get(t);e&&(e.delete(s),0===e.size)&&this.lIt.delete(t)}if(i){let t=this.lIt.get(i);t||(t=new Set,this.lIt.set(i,t)),t.add(s)}}lCt(){if(this.Vz()){const t=new Set;for(const s of this.BGt)for(const i of s.lCt())t.add(i);return t.values()}return this.lIt.keys()}fvt(){return this.WSt||(this.WSt=new Map),this.WSt}dvt(){return this.jSt||(this.jSt=new Map),this.jSt}uCt(){return this.OIt(x.Uat.solid)}cCt(){return this.OIt(x.Uat.jumpthru)}fCt(){return this.OIt(x.Uat.NoSave)}Gz(){return this.OIt(x.Uat.Persist)}mq(){const t={instances:this.kH.map(t=>t.j2())};return this.WSt&&this.WSt.size&&(t.ex=x.Bo(this.WSt)),t}gq(t,e){this.WSt&&(this.WSt.clear(),this.WSt=null);const s=t.ex,n=(s&&(this.WSt=x.No(s)),this.kH),r=t.instances;for(let t=0,s=Math.min(n.length,r.length);t<s;++t)n[t].V2(r[t]);for(let t=r.length,s=n.length;t<s;++t)this.lf.k5(n[t]);for(let i=n.length,t=r.length;i<t;++i){let t=r[i],s=null;if(!this.sk()||(s=this.lf.sO().d$(t.w.l))){const h=this.lf.Iz(this.iIt||this,s,!1,0,0,!0);h.V2(t),e&&e.add(h)}}this.yIt=r,this.tCt()}dCt(){return this.yIt}pCt(){this.yIt=null}mCt(){for(let t=0,s=this.kH;t<s;++t)this.kH[t].mCt()}Sk(){return this.dIt}rD(){return this.Kq}gCt(){return this.pIt}Wk(t){this.pIt=t}OX(t){const s=this.lf,i=s.LX()&&!s.lD().zk();i&&ya.StartMeasuringScriptTime(),this.Kq.dispatchEvent(t),i&&ya.AddScriptTime()}}}{const Sa=self.Bs;Sa.yCt=class extends Sa.rr{constructor(t,s){super(),this.lf=t,this.wCt=s;for(const i of this.wCt)i.SIt(this)}ur(){this.lf=null}HO(){return this.lf}x$(){return this.wCt}lX(){return this.wCt}dX(){return this.wCt.some(t=>t.sk())}}}{let S=self.Bs,n=self.C3Debugger,h=S.YL,o=[],a=0,v=new WeakMap,e=new WeakMap;S.Instance=class extends S.rr{constructor(t){if(S.YL!==h)throw new Error("invalid addon manager");super(),this.lf=t.runtime,this.SCt=t.P5,this.Tst=null,this.vCt=null,this.bCt=null,this.xCt=0,this.MCt=t.uid,this.TCt=a++,this.Ivt=0,this._Ct=null;const s=S.Qh(t.tags),i=(0<s.length&&(this._Ct=new Set(s)),this.GCt=o,this.ICt=o,this.SCt.WIt()),e=(0<i.length&&(this.ICt=i.map((t,s)=>S.lr(S.CCt,{runtime:this.lf,T6:t,I6:this,index:s}))),this.PCt=this.SCt.V5()?[]:null,this.ECt=-1,this.DGt=null,this._k());if(e.Zv()&&(this.Ivt|=4),e.sk())if(this.Tst=S.lr(S.ACt,this,t.HN),t.RCt)this.Tst.FCt(t.RCt);else{this.Tst.DCt();const[n,r]=this.SCt.QIt();this.Tst.hC(n,r),this.E5().jIt()&&this.Tst.UN().OCt()}t.LCt?this.kCt(t.LCt):this.BCt()}ur(){if(this.bCt&&(this.bCt.O5(),this.bCt=null),0<this.ICt.length){for(const i of this.ICt)i.ur();S.Bh(this.ICt)}this.vCt&&(this.vCt.ur(),this.vCt=null);const t=v.get(this),s=(t&&(t.clear(),v.delete(this)),e.get(this));s&&(s.clear(),e.delete(this)),this.PCt&&S.Bh(this.PCt),this.DGt&&(this.DGt.ur(),this.DGt=null),this._Ct&&this._Ct.clear(),this._Ct=null,this.lf=null,this.SCt=null,0<this.GCt.length&&S.Bh(this.GCt),this.Tst&&(this.Tst.ur(),this.Tst=null)}kCt(t){0<t.length&&(this.GCt=[],S.Vh(this.GCt,t))}BCt(){const s=this.SCt.MIt();if(0!==s){this.GCt=[];const i=[0,0,""];for(let t=0;t<s;++t)this.GCt.push(i[this.SCt.Qst(t)])}}PIt(t,i){if(this.vCt)throw new Error("already got sdk instance");for(let t=0,s=this.ICt.length;t<s;++t){const e=this.ICt[t];e.PIt(i?i[t]:null)}const s=this._k().hvt();if(s<2){if(this.vCt=S.lr(this.SCt.DIt(),this,t),!(this.vCt instanceof S.WMt))throw new Error("sdk type must derive from SDKInstanceBase");!this._k().sk()&&this.SCt.gCt()&&this.SO()}else{const n=this._k().bMt();this.NCt(n.Instance,t)}}g6(){return this.vCt??this.bCt}MO(){return this.Tst}HO(){return this.lf}LD(){return this.ECt}q5(){const t=this.ECt;return-1===t?this.HO().LD():t}kD(t){((t=+t)<0||!isFinite(t))&&(t=0),this.ECt=t,this.E5().jIt()&&this.lf.WCt(this,!0)}Y5(){this.ECt=-1,this.E5().jIt()&&this.lf.WCt(this,!1)}eq(){return this.lf.jCt(this)}Vf(){return this.DGt||(this.DGt=S.lr(S.Event.Vf)),this.DGt}wb(t){this.vCt?this.vCt.wb(t):this.bCt.Mj(this.lf.FL().FIt())}vMt(t){this.vCt.vMt(t)}VCt(){this.Ivt|=2}UCt(){return 0!=(2&this.Ivt)}HCt(){this.Ivt|=1}Yj(){return 0!=(1&this.Ivt)}Zv(){return 0!=(4&this.Ivt)||this.vCt.Zv()}zCt(){this.Ivt|=32}$J(){return 0!=(32&this.Ivt)}JCt(){return 0!=(8&this.Ivt)}qCt(t){t?this.Ivt|=8:this.Ivt&=-9}$Ct(){return 0!=(16&this.Ivt)}XCt(t){t?this.Ivt|=16:this.Ivt&=-17}YCt(){return 0!=(64&this.Ivt)}ZCt(t){t?this.Ivt|=64:this.Ivt&=-65}KCt(t,s){t<<=16,s?this.Ivt|=t:this.Ivt&=~t}QCt(t){return 0!=(this.Ivt&t<<16)}xTt(){return this.vCt.xTt()}MTt(){return this.vCt.MTt()}TTt(){return this.vCt.TTt()}_Tt(){return this.vCt._Tt()}ITt(){return this.vCt.ITt()}y2t(t){return this.vCt.y2t(t)}E5(){return this.SCt}JJ(){return this.vCt.JJ()}cbt(t){return t.Vz()?t.Uz(this.E5()):this.E5()===t}tPt(n,t,s){const i=(t,s)=>{const i=s||t.E5(),e=n.get(i);e?e.add(t):n.set(i,new Set([t]))};if(i(this,t),this.V5())for(const e of this.U5())i(e);if(s)for(const r of this.C4())i(r)}sPt(){if(!this._k().fk())throw new Error("object does not support scene graph")}F4(){return null!==this.v4()}v4(){const t=this.MO();if(!t)return null;const s=t.v4();return s?s.JW():null}x4(){const t=this.MO();if(!t)return null;const s=t.x4();return s?s.JW():null}*M4(){const t=this.MO();if(t)for(const s of t.M4())yield s.JW()}iPt(t){if(t)for(const s of this.children())if(s===t)return!0;return!1}Sq(){const t=this.MO();return!!t&&t.Sq()}ePt(t){const s=this.MO();if(!s)return[];const i=t.Kc();return s.bX().map(t=>t.JW()).filter(t=>t.E5().Kc()===i)}bX(){const t=this.MO();return t?t.bX().map(t=>t.JW()):[]}*children(){const t=this.MO();if(t)for(const s of t.children())yield s.JW()}*C4(){const t=this.MO();if(t)for(const s of t.C4())yield s.JW()}_4(){const t=this.MO();return t?t._4():0}nPt(){return[...this.M4()].length}mbt(){const t=this.MO();return t?t.mbt():0}I4(t){const s=this.MO();if(!s)return null;const i=s.I4(t);return i?i.JW():null}rPt(){const t=this.MO();if(!t)return NaN;const s=t.v4();return s?s.hPt(t):NaN}oPt(t){for(const s of this.MO().bX())if(s.JW().H5()===t)return!0;return!1}E4(t,s){this.sPt(),t.sPt(),this.MO().E4(t.MO(),s||{})}A4(t){const s=this.MO();s&&s.A4(t.MO())}t6(){const t=this.MO();return!!t&&t.t6()}X$(){const t=this.MO();if(t){const s=t.aPt();if(s)for(const i of s){const e=this.lf.wO(i[2]);if(e){const n=i[3];this.E4(e,{O4:!!(n>>0&1),B4:!!(n>>1&1),W4:!!(n>>2&1),V4:!!(n>>3&1),H4:!!(n>>4&1),Q4:!!(n>>5&1),J4:!!(n>>6&1),X4:!!(n>>7&1),Z4:!!(n>>8&1)})}}}}Y$(t,s){const i=t.get(this);if(i)for(const e of i.sceneGraphJson.children){const n=s.get(e.index);if(n){const r=e.flags;this.E4(n,{O4:!!(r>>0&1),B4:!!(r>>1&1),W4:!!(r>>2&1),V4:!!(r>>3&1),H4:!!(r>>4&1),Q4:!!(r>>5&1),J4:!!(r>>6&1),X4:!!(r>>7&1),Z4:!!(r>>8&1)})}}}J5(){const t=this.lf.lPt();return t?t.zlt(this):""}V5(){return null!==this.PCt}uX(t){this.PCt.push(t)}W5(){return this.PCt}uPt(t){return!!this.cPt(t)}cPt(t){const s=this.U5();if(null===s||0===s.length)return!1;for(const i of s)if(i.E5()===t)return i;return null}U5(){return this.PCt}Mmt(){for(const t of this.U5())t.E5().kk().Nft(t)}Svt(){for(const t of this.U5())t.E5().kk().Dft(t)}vvt(t){for(const s of this.U5())s.E5().kk().kft()[t]=s}xvt(){for(const t of this.U5())t.E5().kk().Oft(t)}bvt(t){for(const s of this.U5())s.E5().kk().Bft()[t]=s}_k(){return this.SCt._k()}sCt(t){this.xCt=t}aX(){return this.SCt.cX(),this.xCt}H5(){return this.MCt}fPt(){return this.TCt}dPt(t){t?this.tN(new Set(t)):this._Ct=null}tN(t){if(0===t.size)this._Ct=null;else{this._Ct?this._Ct.clear():this._Ct=new Set;for(const s of t)this._Ct.add(s)}}K5(){return this._Ct??new Set}Bbt(){return Array.from(this.K5()).join(" ")}jbt(t){t=Math.floor(t);for(const s of this.K5()){if(0===t)return s;--t}return""}_nt(){return this.ICt}pPt(t){if(t)for(const s of this.ICt)if(s.M6()instanceof t)return s;return null}qat(t){if(!t)return null;const s=this.pPt(t);return s?s.g6():null}Tnt(i){const e=this.ICt;for(let t=0,s=e.length;t<s;++t)if(e[t].G6().Zz()===i)return t;return-1}mPt(){return this.GCt}BIt(){return this.SCt.BIt()}gPt(){return this.GCt.length}jrt(t){const s=this.GCt;if((t|=0)<0||t>=s.length)throw new RangeError("invalid instance variable");return s[t]}Nwt(t){return this.GCt[t]}yPt(t){const s=this.GCt[t];return 0===this.SCt.Qst(t)?!!s:s}Vrt(t,s){const i=this.GCt;if((t|=0)<0||t>=i.length)throw new RangeError("invalid instance variable");const e=this.SCt.Qst(t);switch(e){case 0:i[t]=s?1:0;break;case 1:i[t]="number"==typeof s?s:parseFloat(s);break;case 2:i[t]="string"==typeof s?s:s.toString();break;default:throw new Error("unknown instance variable type")}}Fht(t,s){if(0!==s){const i=this.GCt;if((t|=0)<0||t>=i.length)throw new RangeError("invalid instance variable");const e=i[t];if("number"!=typeof e)throw"boolean"==typeof e?new Error("can not set offset of boolean variable"):"string"==typeof e?new Error("can not set offset of string variable"):new Error("unknown instance variable type");i[t]+="number"==typeof s?s:parseFloat(s)}}fvt(){let t=v.get(this);return t||(t=new Map,v.set(this,t)),t}dvt(){let t=e.get(this);return t||(t=new Map,e.set(this,t)),t}wPt(t){const s=this.E5();if(s.rD().qf(t))return!0;for(const i of s.Qdt())if(i.rD().qf(t))return!0;return!!this.lf.rD().qf(t)}Hk(){const t=new Set,s=(t.add(this),this.MO());if(s&&s.Sq())for(const i of this.C4())if(t.add(i),i.V5())for(const e of i.U5())t.add(e);if(this.V5())for(const n of this.U5())t.add(n);for(const r of t.values())r.Z$()}SPt(){this.SCt.gCt()&&this.SO();for(const t of this.ICt)t.a_t()}vPt(){this.SPt()}Z$(){if(this.SPt(),this.wPt("instancecreate")){const t=this.E5(),s=new S.Event("instancecreate");s.I6=this.SO(),t.OX(s);for(const i of t.Qdt())i.OX(s);this.lf.OX(s)}this.lf.gN(this._k().lpt().iX.Hbt,this,null)}bPt(){this.lf.gN(this._k().lpt().iX.zbt,this,null)}xPt(t){if(this.bCt){const s=new S.Event("destroy");s.MPt=t,this.OX(s)}if(this.wPt("instancedestroy")){const i=this.E5(),e=new S.Event("instancedestroy");e.I6=this.SO(),e.MPt=t,i.OX(e);for(const n of i.Qdt())n.OX(e);this.lf.OX(e)}}TPt(){return this.vCt?this.vCt.lTt():this.bCt.PN()}j2(t="full",s=null){const i={},e=("full"===t?i.uid=this.H5():i.c3=!0,this.K5());if(0<e.size&&(i.tags=Array.from(e)),"visual-state"!==t){const r=v.get(this);if(r&&r.size&&(i.ex=S.Bo(r)),-1!==this.LD()&&(i.mts=this.LD()),0<this.SCt.MIt()){const h={},o=this.SCt.LIt();for(let t=0,s=this.GCt.length;t<s;++t)h[o[t].toString()]=this.GCt[t];i.ivs=h}if(this.ICt.length){const a={};for(const l of this.ICt){const u=l.j2(t);u&&(a[l.G6().Zz().toString()]=u)}i.behs=a}}this.Tst&&(i.w=this.Tst.mq(t,s));const n=this.vCt?this.vCt.j2():this.bCt.EN();return n&&(i.data=n),i}RY(t="full",s){this.Tst&&this.Tst.RY(t)}DY(t,s="full",i=null){this.Tst&&this.Tst.DY(t,s,i)}_Pt(t,s="full",i=null){this.Tst&&this.Tst._Pt(t,s,i)}mCt(){this._k().sk()&&this.Tst.mCt()}V2(s,t="full",i){if("full"===t)this.MCt=s.uid;else if(!s.c3)return;if(this.dPt(s.tags),"visual-state"!==t){let t=v.get(this);t&&(t.clear(),v.delete(this));const n=s.ex,r=(n&&(t=S.No(n),v.set(this,t)),this.ECt=s.hasOwnProperty("mts")?s.mts:-1,s.ivs);if(r)for(const[h,o]of Object.entries(r)){const a=parseInt(h,10),l=this.SCt.kIt(a);if(!(l<0||l>=this.GCt.length)){let t=o;null===t&&(t=NaN),this.GCt[l]=t}}}if(this._k().sk()){const u=s.w;if(u){const c=u.l;if(this.Tst.TO().Zz()!==c){const f=this.Tst.TO(),d=f.rO().d$(c);d?(this.Tst.CO(d),f.Rz(this,!0),d.Pz(this,!0),d.PO(this),this.Tst.zN()):"full"===t&&this.lf.k5(this)}this.Tst.gq(u,t)}}if("visual-state"!==t){const p=s.behs;if(p)for(const[m,g]of Object.entries(p)){const y=parseInt(m,10),w=this.Tnt(y);w<0||w>=this.ICt.length||this.ICt[w].V2(g,t)}}const e=s.data;e&&(this.vCt?this.vCt.V2(e,t):this.bCt.AN(e))}SO(){return this.bCt||this.NCt()}dTt(){return!!this.bCt}NCt(t,s){const i=this.Tst?t?self.yj:self.c6:t?self.nN:self.C5,e=t||this.vCt.bMt(),n=this.SCt.gCt(),r=n||e||i,h=this._k().hvt();if(S.YL.TMt(this,h),S.YL.T_t(s),this.bCt=new r,S.YL.__t(),S.YL._Mt(h),e&&!(this.bCt instanceof i))throw new TypeError(`script interface class '${e.name}' does not extend the right base class '${i.name}'`);if(n){const o=e||i;if(!(this.bCt instanceof o))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class - check it extends the right class, e.g. globalThis.InstanceType.MyObjectName`)}return this.bCt}A5(t){if(0!==this.GCt.length){const i={},e=this.SCt.NIt();for(let t=0,s=e.length;t<s;++t)i[e[t]]={configurable:!1,enumerable:!0,get:S.Instance.prototype.yPt.bind(this,t),set:S.Instance.prototype.Vrt.bind(this,t)};const s=Object.create(Object.prototype,i);t.GPt={value:s,writable:!1}}}R5(t){const s=this.ICt;if(0!==s.length){const i={};for(const n of s)i[n.G6().Jdt()]={value:n.zMt(),writable:!1};const e=Object.create(Object.prototype,i);t.lmt={value:e,writable:!1}}}OX(t){if(this.dTt()){const s=this.SO(),i=(t.I6=s,this.lf),e=i.LX()&&!i.lD().zk();e&&n.StartMeasuringScriptTime(),s.dispatchEvent(t),e&&n.AddScriptTime()}}}}{const va=self.Bs;va.MX=class extends va.rr{constructor(e){super(),this.Y2=e,this.Pmt=null,this.IPt=[],this.CPt=e.um(),this.PPt=e.Mm(),this.EPt=1,this.APt=1,this.RPt=0,this.FPt=1,this.DPt=e.OE(),this.OPt=null,this.LPt=null,this.kPt=NaN,this.BPt=!1,this.xq=NaN,this.Mq=NaN,this.NPt=t=>{if(t.I6===this.Pmt.JW()){const s=e.HO(),i=(s.Vf().removeEventListener("instancecreate",this.NPt),this.Pmt.JW().g6());this.BPt=!!i.mit(),this.xq=this.BPt?i.pit():NaN,this.Mq=this.BPt?i.yit():NaN}}}ur(){this.Pmt=null,this.OPt=null,this.LPt=null,this.kPt=NaN,this.BPt=!1,this.xq=NaN,this.Mq=NaN,va.Bh(this.IPt)}WPt(t){if(this.FPt=this.Y2.OE(),this.DPt=this.FPt,this.Pmt=t,this.RPt=t?t.iB():0,this.Pmt){const s=this.Y2,i=s.HO(),e=this.Pmt.JW()._k().hvt();if(e<2){const n=this.Pmt.JW().g6();n?(this.BPt=!!n.mit(),this.xq=this.BPt?n.pit():NaN,this.Mq=this.BPt?n.yit():NaN):this.Pmt.JW().Yj()||i.Vf().addEventListener("instancecreate",this.NPt)}else this.BPt=!1,this.xq=NaN,this.Mq=NaN}else this.BPt=!1,this.xq=NaN,this.Mq=NaN}v4(){return this.Pmt}Sq(){return 0<this.IPt.length}bX(){return this.IPt}jPt(){this.Sq()&&1!==this.IPt.length&&(this.LPt?this.IPt.sort((t,s)=>{const i=this.LPt.get(t.JW()),e=this.LPt.get(s.JW());return va.ge(i)&&va.ge(e)?i-e:0}):this.IPt.sort((t,s)=>{const i=t.Krt().VPt(),e=s.Krt().VPt();return va.ge(i)&&va.ge(e)?i-e:0}))}VPt(){return this.kPt}Qrt(){return this.EPt}UPt(t){this.EPt=t}sht(){return this.APt}HPt(t){this.APt=t}lht(){return this.DPt}N2t(){return this.FPt}zPt(t){this.FPt=t}Zrt(){return 0===this.CPt?Number.EPSILON:this.CPt}tht(){return 0===this.PPt?Number.EPSILON:this.PPt}JPt(){if(this.Y2.j4()){let t=this.Pmt,s=t.um(),i=t.Krt().Zrt();return 0===s&&(s=Number.EPSILON),i===Number.EPSILON&&s===Number.EPSILON?1:i===Number.EPSILON&&s!==Number.EPSILON&&this.BPt?1+s/this.xq:s/i}return 1}qPt(){if(this.Y2.U4()){let t=this.Pmt,s=t.Mm(),i=t.Krt().tht();return 0===s&&(s=Number.EPSILON),i===Number.EPSILON&&s===Number.EPSILON?1:i===Number.EPSILON&&s!==Number.EPSILON&&this.BPt?1+s/this.Mq:s/i}return 1}$Pt(){return 0}XPt(){return{sw:this.CPt,sh:this.PPt,sx:this.EPt,sy:this.APt,psa:this.RPt,oo:this.FPt,so:this.DPt,pi:this.Y2.JW().rPt()}}mq(t,s=null){const i=this.XPt();return s&&s.selfOnly?Object.assign(i,{p:null,c:[]}):Object.assign(i,{p:this.YPt(t),c:this.ZPt(t)})}KPt(t){let s="";return t.L4()&&(s+="x"),t.N4()&&(s+="y"),t.j4()&&(s+="w"),t.U4()&&(s+="h"),t.z4()&&(s+="a"),t.q4()&&(s+="z"),t.t6()&&(s+="d"),t.Y4()&&(s+="o"),t.K4()&&(s+="v"),s}YPt(t){return this.Pmt&&this.Pmt.JW()&&!this.Pmt.JW().Yj()?this.QPt(this.Pmt,this.Y2,t):null}ZPt(s){return this.IPt.map(t=>this.QPt(t,t,s)).filter(t=>t)}QPt(t,s,i){const e=t.JW();if(e&&e.Yj())return null;const n={};return n.uid=e.H5(),n.f=this.KPt(s),n.offsets=s.tEt(),n.data=va.MX.sEt(e),n.oci=e.E5().RF(),"state"===i?(n.inst=e.j2("full",{selfOnly:!0}),n.instIndex=NaN):(n.instIndex=e.E5().Lk().indexOf(e),n.inst=null),n}gq(t){this.CPt=t.sw,this.PPt=t.sh,this.EPt=t.sx,this.APt=t.sy,this.RPt=t.psa,this.FPt=t.oo,this.DPt=t.so,this.kPt=va.ge(t.pi)?t.pi:NaN}iEt(t,s){if(!t&&!s&&this.OPt)for(const i of this.OPt)i.Yj()||i.F4()||i.HO().k5(i);this.OPt=t,this.LPt=s}DY(t,s){const i=this.Y2,e=i.HO(),n=new Set;if(t.p&&!this.Pmt){const o=t.p.uid,a=e.wO(o);if(s?.txt,a){const l=a.MO();if(a.iPt(i.JW()))this.Pmt=l;else{a.oPt(i.JW().H5())?e.k5(i.JW()):a.E4(i.JW(),this.eEt(t.p.f)),n.has(i)||(i.nEt(t.p.offsets),this.rEt(a,t.p,s)),n.add(i);const u=a.MO();u.Krt().jPt()}}else if(va.ge(t.p.oci)){const c=e.wz(t.p.oci),f=(e._wt(),e.jk(c,i.TO(),0,0,!0));if(s?.txt,f){const d=this.hEt(t.p,e),p=(d&&f.V2(d),f.MO()),m=(p.TO().Vk(f),f.E4(i.JW(),this.eEt(t.p.f)),f.MO());m.Krt().jPt()}}}const r=[];for(const g of t.c){const y=g.uid,w=e.wO(y);w&&r.push(w)}let h=0;for(const S of t.c){const v=S.uid,b=e.wO(v);if(s?.txt,b){if(this.OPt){if(this.OPt.includes(b)){const _=b;if(_.E5()!==b.E5()){h++;continue}if(_.Yj()){h++;continue}const G=t.c[h];if(!s?.txt&&this.oEt(_,r,i)){this.aEt(h,G,i,n,s),h++;continue}if(_.F4()&&_.v4()!==i.JW()){const I=this.lEt(G,s);this.uEt(I,G,n,s),h++;continue}this.uEt(_.MO(),G,n,s,!0),h++;continue}if(this.OPt[h]){const C=this.OPt[h];if(C.E5()!==b.E5()){h++;continue}if(C.Yj()){h++;continue}const P=t.c[h];if(!s?.txt&&this.oEt(C,r,i)){this.aEt(h,P,i,n,s),h++;continue}if(C.F4()&&C.v4()!==i.JW()){const E=this.lEt(P,s);this.uEt(E,P,n,s),h++;continue}this.uEt(C.MO(),P,n,s,!0),h++;continue}}const x=b.E5(),M=this.cEt(r,x),T=i.JW().ePt(x).length;if(M===T){const A=i.JW().I4(h);if(A){const R=A.MO();R&&(n.has(R)||(R.nEt(S.offsets),this.rEt(A,S,s)),n.add(R))}h++;continue}if(b.F4()&&b.v4()!==i.JW()){const F=this.lEt(S,s);this.uEt(F,S,n,s),h++;continue}this.uEt(b.MO(),S,n,s)}else if(this.OPt&&this.OPt[h]){const D=this.OPt[h],L=e.wz(this.fEt(S));if(D.E5()!==L){h++;continue}if(D.Yj()){h++;continue}const O=t.c[h];if(!s?.txt&&this.oEt(D,r,i)){this.aEt(h,O,i,n,s),h++;continue}if(D.F4()&&D.v4()!==i.JW()){const k=this.lEt(O,s);this.uEt(k,O,n,s),h++;continue}this.uEt(D.MO(),O,n,s)}else{const B=this.lEt(S,s);this.uEt(B,S,n,s)}h++}}oEt(t,s,i){const e=t.E5(),n=this.cEt(s,e),r=i.JW().ePt(e).length;return n===r}aEt(t,s,i,e,n){const r=i.JW().I4(t,s);if(r){const h=r.MO();h&&(e.has(h)||(h.nEt(s.offsets),this.rEt(r,s,n)),e.add(h))}}eEt(t){const s={};return s.O4=t.includes("x"),s.B4=t.includes("y"),s.W4=t.includes("w"),s.V4=t.includes("h"),s.H4=t.includes("a"),s.J4=t.includes("z"),s.Q4=t.includes("d"),s.X4=t.includes("o"),s.Z4=t.includes("v"),s}fEt(t){return va.ge(t.oci)?t.oci:t[1]}lEt(e,n){if(va.ge(e.oci)){let t=this.Y2,s=t.HO(),i;if(e.data)i=s.Iz(e.data,t.TO(),!1,0,0,!1,!0);else{const r=s.wz(e.oci);i=s.jk(r,t.TO(),0,0,!0)}if(n?.txt,i){const h=this.hEt(e,s),o=(h&&i.V2(h),i.MO());return o.TO().Vk(i,!0),o}}}uEt(t,s,i,e,n=!0){const r=this.Y2,h=r.E4(t,this.eEt(s.f));h&&n&&(i.has(t)||(t.nEt(s.offsets),this.rEt(t.JW(),s,e)),i.add(t)),this.jPt()}rEt(t,s,i){let e=this.hEt(s,this.Y2.HO());e&&((e=JSON.parse(JSON.stringify(e))).w=null,t.V2(e))}cEt(t,s){return t.filter(t=>t.E5().Kc()===s.Kc()).length}hEt(t,s){if(va.ge(t.instIndex)){const i=s.wz(t.oci),e=i.dCt();return e?e[t.instIndex]:null}return va.Ge(t.inst)?JSON.parse(t.inst):t.inst||void 0}static sEt(t){let s=t.MO().TO().Mz(t.H5());if(!s)return null;s=JSON.parse(JSON.stringify(s));const i=[];for(const e of[...t.bX()]){const n=e.MO();i.push([n.rO().Zz(),n.TO().RF(),e.H5(),va.MX.xX(n),e.E5().V5()?1:0,n._O(),va.MX.sEt(e)])}return va.je(s[0][14])?s[0][14][1]=i:(s[0][14]=[],s[0][14][0]=va.MX.dEt(),s[0][14][1]=i,s[0][14][2]=t.MO()._O()),s}static xX(t){let s=0;return(s|=Number(t.K4())<<8)|Number(t.Y4())<<7|Number(t.q4())<<6|Number(t.t6())<<5|Number(t.z4())<<4|Number(t.U4())<<3|Number(t.j4())<<2|Number(t.N4())<<1|Number(t.L4())<<0}static dEt(t){let s=0;return s,511}}}{let d=self.Bs,t=self.bs,r=(t.Ps,d.lr(d.Rect)),h=d.lr(d.Ql),s=d.lr(d.Event,"bboxchange",!1),f=d.lr(d.Uo,0,0,0,0),u=d.lr(d.Fu),i=d.lr(d.Uo,1,1,1,1),o=d.lr(d.Rect,0,0,-1,-1),n=d.lr(d.Rect,0,0,-1,-1),p=new Set(["absolute","relative"]),e=[],m=!0,g=new WeakMap,a=new WeakMap;d.ACt=class extends d.rr{constructor(t,s){super(),this._i=t,this.yft=t.E5(),this.lf=t.HO(),this.pEt=s,this.yft.aCt(this,null,s),this.mEt=-1,this.gEt=-1,this.Ivt=196635,this.yft._k().rk()&&(this.Ivt|=128),this.tl=NaN,this.sl=NaN,this.c2=NaN,this.yEt=NaN,this.wEt=NaN,this.Ax=NaN,this.qo=NaN,this.SEt=NaN,this.vEt=NaN,this.bEt=NaN,this.xEt=NaN,this.MEt=d.lr(d.Rect),this.TEt=d.lr(d.Ql),this._Et=n,this.GEt=o,this.IEt=null,this.CEt=null,this.PEt=null,this.u2=i,this.EEt=i,this.AEt=null,this.REt=null,this._i.E5().jIt()&&(this.REt=d.lr(d.FEt,this._i,this)),this.DEt=null,this.OPt=null,this.LPt=null,this.OEt=-1,this.LEt=null}HCt(){this.Ivt|=256}ur(){if(this.yft.aCt(this,this.pEt,null),this.AEt&&(this.lf.Jv().hS(this.AEt),this.AEt=null),this.IEt=null,this.CEt&&(this.CEt.kEt.ur(),this.CEt=null),this.PEt&&(this.PEt.clear(),this.PEt=null),this.n6(),this.REt&&this.REt.ur(),this.F4()&&this.v4().A4(this),this.Sq()){const t=[...this.bX()];for(const s of t)this.A4(s)}this.BEt(),this.NEt(),g.delete(this),a.delete(this),this._i=null,this.yft=null,this.lf=null,this.pEt=null}FCt(t){if(m=!1,this.JN(t[0],t[1]),this.F2(t[2]),this.hC(t[3],t[4]),this.Ax=0,this.rk()?this.sB(t[6]):this.qo=0,f.Va(t[7]),this.WEt(f),this.cht(t[8]),this.dht(t[9]),this.d2(t[10]),this.REt&&this.REt.jEt(t[12]),t[14]&&g.set(this,{VEt:t[14][1],UEt:t[14][2]}),t[15]){const s=t[15],e=(this.i6(s[0],s[1]),this.l6()),n=s[2];for(let i=0,t=n.length;i<t;++i){const r=n[i];for(let t=0,s=r.length;t<s;++t){const h=r[t],o=e.gb(t,i);o.C2(h[0]),o.A2(h[1]),o.F2(h[2]),o.O2(h[3]),o.B2(h[4])}}}if(t[16]){const i=t[16][0],a=t[16][1],l=!!a,u=!l,c=this.lf.lPt();l&&c&&c.Hlt(this.JW(),a),u&&c&&c.Hlt(this.JW(),i)}m=!0,this.HEt()}DCt(){this.tl=0,this.sl=0,this.c2=0,this.yEt=0,this.wEt=0,this.Ax=0,this.qo=0,this.SEt=0,this.vEt=1,this.bEt=0,this.xEt=0,this.HEt()}HO(){return this.lf}E5(){return this.yft}JW(){return this._i}zEt(){return this.z4()?this.JEt(this.v4().qEt()-this.DEt.$Pt()):0}C2(t){if(t=+t,this.L4()){const s=this.DEt,i=t-this.I2(),e=-this.zEt();0==e?this.tl+=i/s.JPt():(this.tl+=Math.cos(e)*i/s.JPt(),this.N4()&&(this.sl+=Math.sin(e)*i/s.qPt()))}else this.tl=t}qrt(t,s=!1){t=+t,!s&&this.L4()?this.C2(this.I2()+t):this.tl+=t}I2(){if(this.L4()){let t=this.tl,s=this.DEt,i=this.v4(),e=this.zEt();return 0===e?t*=s.JPt():(t=t*s.JPt()*Math.cos(e),this.N4()&&(t-=this.sl*s.qPt()*Math.sin(e))),i.I2()+t}return this.tl}A2(t){if(t=+t,this.N4()){const s=this.DEt,i=t-this.E2(),e=-this.zEt();0==e?this.sl+=i/s.qPt():(this.L4()&&(this.tl-=Math.sin(e)*i/s.JPt()),this.sl+=Math.cos(e)*i/s.qPt())}else this.sl=t}$rt(t,s=!1){t=+t,!s&&this.N4()?this.A2(this.E2()+t):this.sl+=t}E2(){if(this.N4()){let t=this.sl,s=this.DEt,i=this.v4(),e=this.zEt();return 0===e?t*=s.qPt():(t=t*s.qPt()*Math.cos(e),this.L4()&&(t+=this.tl*s.JPt()*Math.sin(e))),i.E2()+t}return this.sl}JN(t,s){if(t=+t,s=+s,this.$Et()){const i=this.L4(),e=this.N4(),n=this.DEt,r=t-this.I2(),h=s-this.E2(),o=-this.zEt();if(0==o)i?this.tl+=r/n.JPt():this.tl=t,e?this.sl+=h/n.qPt():this.sl=s;else{const a=Math.sin(o),l=Math.cos(o);i?this.tl+=e?(l*r-a*h)/n.JPt():l*r/n.JPt():this.tl=t,e?this.sl+=i?(a*r+l*h)/n.qPt():l*h/n.qPt():this.sl=s}}else this.tl=t,this.sl=s}XEt(){return[this.I2(),this.E2()]}XN(t,s){t=+t,s=+s,this.$Et()?this.JN(this.I2()+t,this.E2()+s):(this.tl+=t,this.sl+=s)}m2t(t,s){return this.I2()===t&&this.E2()===s}F2(t){if(t=+t,this.q4()&&(t-=this.v4().R2()),this.c2!==t){this.c2=t,this.YEt();const s=this.TO();0!==this.c2&&s.Oz(),s.PO(this)}}YEt(){if(this.HEt(),this.Sq()){const i=this.bX();for(let t=0,s=i.length;t<s;t++){const e=i[t];e.q4()&&e.YEt()}}}pht(t){this.F2(this.R2()+t)}R2(){return this.q4()?this.v4().R2()+this.c2:this.c2}ZN(){return this.TO().R2()+this.R2()}mit(){const t=this.JW()._k().hvt();return t<2&&this.JW().g6().mit()}Sm(t){if(t=+t,this.j4()){const s=this.um();0===s?this.yEt=Number.EPSILON:this.yEt*=t/s}else this.yEt=t;this.ZEt()}zm(t,s){t=+t,!s&&this.j4()?this.Sm(this.um()+t):this.yEt+=t,this.ZEt()}um(){if(this.j4()){const t=this.v4(),s=t.um(),i=t.Krt().Zrt();return i===Number.EPSILON?(this.Krt().Zrt()+s)*this.yEt:s*this.yEt}return this.yEt}fm(t){if(t=+t,this.U4()){const s=this.Mm();0===s?this.wEt=Number.EPSILON:this.wEt*=t/s}else this.wEt=t;this.ZEt()}iht(t,s){t=+t,!s&&this.U4()?this.fm(this.Mm()+t):this.wEt+=t,this.ZEt()}Mm(){if(this.U4()){const t=this.v4(),s=t.Mm(),i=t.Krt().tht();return i===Number.EPSILON?(this.Krt().tht()+s)*this.wEt:s*this.wEt}return this.wEt}hC(t,s){if(t=+t,s=+s,this.j4()){const i=this.um();0===i?this.yEt=Number.EPSILON:this.yEt*=t/i}else this.yEt=t;if(this.U4()){const e=this.Mm();0===e?this.wEt=Number.EPSILON:this.wEt*=s/e}else this.wEt=s;this.ZEt()}nc(){return[this.um(),this.Mm()]}qJ(){return this.Ax}KEt(t){if(t<0)throw new RangeError("invalid depth");this.Ax=t}QEt(){if(this.F4()){const t=this.DEt;return Math.min(t.JPt(),t.qPt())}return 1}rk(){return 0!=(128&this.Ivt)}sB(t){t=+t,this.rk()&&(this.z4()&&(t-=this.v4().iB()),t=d.yr(t),this.qo!==t)&&(this.qo=t,this.ZEt())}eht(t){0!=(t=+t)&&this.rk()&&(this.qo=d.yr(this.qo+t),this.ZEt())}ZEt(){if(this.Ivt|=1<<18,this.Sq()){const i=this.bX();for(let t=0,s=i.length;t<s;t++)i[t].ZEt()}}iB(){return this.z4()&&this.rk()?this.JEt(d.yr(this.v4().qEt()+this.qo)):this.qo}qEt(){return this.z4()&&this.rk()?d.yr(this.v4().qEt()+this.qo):this.qo}JEt(t){return this.j4()&&this.x4().um()<0&&(t=d.yr(d.Ar(t,this.x4().iB()+Math.PI))),this.U4()&&this.x4().Mm()<0?d.Ar(t,this.x4().iB()):t}tAt(){const t=this.v4();return!!(this.j4()&&t.um()<0)||!!(this.U4()&&t.Mm()<0)}sAt(){const t=this.v4();return!!(this.j4()&&t.um()<0&&this.U4()&&t.Mm()<0)}iAt(){const t=this.Ivt;if(0!=(t&1<<18)){const s=this.iB();this.SEt=Math.sin(s),this.vEt=Math.cos(s),this.Ivt=-262145&t}}v2t(){return this.iAt(),this.SEt}S2t(){return this.iAt(),this.vEt}cht(t){this.bEt=+t}uht(t){this.bEt+=+t}eW(){return this.bEt}dht(t){this.xEt=+t}fht(t){this.xEt+=+t}rW(){return this.xEt}WEt(t){this.u2.equals(t)||(this.u2===i?(this.u2=d.lr(d.Uo,t),this.EEt=d.lr(d.Uo,t),this.EEt.ba()):t.ga(1,1,1,1)?(this.u2=i,this.EEt=i):(this.u2.set(t),this.EEt.set(t),this.EEt.ba()),this.HEt())}kE(t){if(t=d.gr(+t,0,1),this.Y4()){if(this.Krt().N2t()===t)return;this.Krt().zPt(t),t=this.OE()}else if(this.u2.a===t)return;this.eAt(t)}nAt(){if(this.Sq()){const i=this.bX();for(let t=0,s=i.length;t<s;t++){const e=i[t];e.eAt(e.OE())}}}eAt(t){f.ea(this.u2),f.a=t,this.WEt(f),this.nAt()}hht(t){this.Y4()?this.kE(this.Krt().N2t()+t):this.kE(this.OE()+t)}OE(){return this.Y4()?this.v4().OE()*this.Krt().N2t():this.u2.a}h4(t){this.u2.fa(t)||(f.ea(t),f.a=this.OE(),this.WEt(f))}Nrt(t,s,i){f.Xo(t,s,i),this.h4(f)}rAt(t,s,i){0===t&&0===s&&0===i||(f.ea(this.u2),f.r+=t,f.Ua+=s,f.b+=i,this.h4(f))}r4(){return this.u2}sz(){return this.EEt}t6(){return 0!=(512&this.Ivt)}hAt(t){this.oAt(512,t)}L4(){return 0!=(1024&this.Ivt)}aAt(t){this.oAt(1024,t)}N4(){return 0!=(2048&this.Ivt)}$Et(){return 0!=(3072&this.Ivt)}lAt(t){this.oAt(2048,t)}j4(){return 0!=(4096&this.Ivt)}uAt(t){this.oAt(4096,t)}U4(){return 0!=(8192&this.Ivt)}cAt(t){this.oAt(8192,t)}z4(){return 0!=(16384&this.Ivt)}fAt(t){this.oAt(16384,t)}q4(){return 0!=(32768&this.Ivt)}dAt(t){this.oAt(32768,t)}Y4(){return 0!=(this.Ivt&1<<22)}pAt(t){this.oAt(1<<22,t)}K4(){return 0!=(this.Ivt&1<<23)}mAt(t){this.oAt(1<<23,t)}gAt(){this.Ivt&=-12647937}E4(t,s){if(t===this)return!1;if(t.F4())return!1;if(this.yAt(t))return!1;if(this.wAt(t))return!1;const i=t.I2(),e=t.E2(),n=t.um(),r=t.Mm(),h=t.iB(),o=t.R2(),a=t.OE(),l=(t.SAt(this),t.aAt(s.O4),t.lAt(s.B4),t.uAt(s.W4),t.cAt(s.V4),t.fAt(s.H4),t.dAt(s.J4),t.pAt(s.X4),t.mAt(s.Z4),t.hAt(s.Q4),i-this.I2()),u=e-this.E2(),c=-this.iB(),f=Math.cos(c),d=Math.sin(c);if(s.O4&&(s.H4?t.tl=l*f-u*d:t.tl=l,s.W4)){const p=this.um()/this.DEt.Zrt();0!=p&&(t.tl/=p)}if(s.B4&&(s.H4?t.sl=l*d+u*f:t.sl=u,s.V4)){const m=this.Mm()/this.DEt.tht();0!=m&&(t.sl/=m)}if(s.W4){const g=this.um();0===g||g===Number.EPSILON?(t.yEt=1,t.DEt.UPt(1)):(t.yEt=n/this.um(),t.DEt.UPt(t.yEt))}if(s.V4){const y=this.Mm();0===y||y===Number.EPSILON?(t.wEt=1,t.DEt.HPt(1)):(t.wEt=r/this.Mm(),t.DEt.HPt(t.wEt))}return s.H4&&(t.qo=h-this.iB()),s.J4&&(t.c2=o-this.R2()),s.X4&&t.DEt.zPt(a),s.Z4&&t.NB(this.jB()),this.vAt(t),this.zN(),this.nAt(),!0}A4(t){if(t.v4()===this){const s=t.I2(),i=t.E2(),e=t.um(),n=t.Mm(),r=t.iB(),h=t.R2(),o=t.OE();t.SAt(null),t.gAt(),t.JN(s,i),t.hC(e,n),t.sB(r),t.F2(h),t.kE(o),this.bAt(t),this.zN()}}xAt(){return this.OEt}MAt(){this.TAt();const t=[...this.children()];for(const i of t)this.A4(i);const s=this.v4();s&&s.A4(this),this.gAt()}TAt(){if(this._At(),!this.OPt){const s=[...this.children()];s.length&&(this.OPt=[],this.LPt=new WeakMap);let t=0;for(const i of s){const e=i.JW();this.OPt.push(e),this.LPt.set(e,t),t++}}const t=this.v4();t&&t.TAt()}_At(){if(-1===this.OEt){const t=[...this.M4()];this.OEt=t.length;for(const i of t)i._At();const s=[...this.children()];for(const e of s)e._At()}}NEt(){this.OPt&&(this.OPt.length=0),this.OPt=null,this.LPt=null;const t=this.v4();t&&t.NEt(),this.OEt=-1}F4(){return null!==this.v4()}v4(){const t=this.DEt;return null!==t?t.v4():null}x4(){let t=this;for(;t.F4();)t=t.v4();return t}*M4(){let t=this.v4();for(;t;)yield t,t=t.v4()}iPt(t){return this.bX().includes(t)}Sq(){const t=this.DEt;return null!==t&&t.Sq()}bX(){const t=this.DEt;return null!==t?t.bX():e}children(){return this.bX()}*C4(){for(const t of this.children())yield t,yield*t.C4()}_4(){return this.bX().length}mbt(){return[...this.C4()].length}I4(t){const s=this.bX();return(t=Math.floor(+t))<0||t>=s.length?null:s[t]}hPt(s){if(s){const i=this.bX();if(i)for(let t=0;t<i.length;t++)if(s===i[t])return t}return NaN}GAt(t){this.DEt||(this.DEt=d.lr(d.MX,this)),t&&this.DEt.WPt(t)}Krt(){return this.DEt}BEt(){this.DEt&&(this.DEt.ur(),this.DEt=null)}SAt(t){t?(t.GAt(null),this.GAt(t)):(this.DEt&&this.DEt.WPt(null),this.Sq()||this.BEt())}wAt(t){if(!this.F4())return!1;const s=this.v4();return s===t||s.wAt(t)}yAt(t){if(this.iPt(t))return!0;for(const s of this.bX())if(s.yAt(t))return!0;return!1}vAt(t){this.DEt.bX().push(t)}bAt(t){const s=this.DEt.bX(),i=s.indexOf(t);-1!==i&&s.splice(i,1),0!==s.length||this.F4()||this.BEt(),t.Sq()||t.BEt()}aPt(){const t=g.get(this);return t?t.VEt:null}IAt(){const t=g.get(this);return t?t.UEt:NaN}wq(){const t=a.get(this);return d.ge(t)?t:NaN}CAt(t){a.set(this,t)}PAt(){this.oAt(1<<19,!0),this.HEt()}HEt(){if(m){const s=this.lf.Jv();this.AEt&&s.hS(this.AEt);let t;t=0!=(this.Ivt&1<<19)?s.Vw()||"<point>":s.Nw()||"<default>",this.AEt=s.iS(t,this.c5(),this.EEt,this.R2())}}tq(){return this.AEt}s9(){return this.u2===i}d2(t){if((t|=0)<0||31<t)throw new RangeError("invalid blend mode");this.c5()!==t&&(this.Ivt=this.Ivt&~(31<<26)|t<<26,this.HEt())}c5(){return(this.Ivt&31<<26)>>26}CO(t,s){const i=s&&this.pEt!==t;i&&this.Fz(),this.yft.aCt(this,this.pEt,t),this.pEt=t,i&&this.EAt(),0!==this.R2()&&this.pEt.Oz()}TO(){return this.pEt}rO(){return this.TO().rO()}kz(t){this.mEt=0|t}_O(){return this.pEt.q9(),this.mEt}K9(t){this.gEt=0|t}Hj(){return this.pEt.Y9(),this.gEt}DH(){return this.mEt}oAt(t,s){s?this.Ivt|=t:this.Ivt&=~t}jB(){return 0!=(1&this.Ivt)}NB(t){if(this.oAt(1,t),this.Sq())for(const s of this.bX())s.K4()&&s.NB(t)}y4(){return 0!=(8&this.Ivt)}w4(t){t=!!t,this.y4()!==t&&(this.oAt(8,t),t?this.zN():this.AAt())}RAt(t,s){if(this.oAt(32,t),this.PEt&&this.PEt.clear(),s.trim()){this.PEt||(this.PEt=new Set);for(const i of s.split(" "))i&&this.PEt.add(i.toLowerCase())}else this.PEt=null}FAt(t){const s=0!=(32&this.Ivt),i=this.PEt;if(t&&i)for(const e of i)if(t.has(e))return s;return!s}zN(){if(this.Ivt|=65554,this.yft.rCt(!0),this.lf.EO(),this.pEt.pz()&&(this.DAt(this.MEt,this.TEt,!0),this.Ivt&=-3,this.EAt()),0!=(4&this.Ivt)&&this._i.Vf().dispatchEvent(s),null!==this.DEt){const i=this.DEt.bX();for(let t=0,s=i.length;t<s;++t)i[t].zN()}}DAt(t,s,i){const e=this.I2(),n=this.E2(),r=this.um(),h=this.Mm(),o=this.iB();t.ml(e-this.bEt*r,n-this.xEt*h,r,h),i&&this.a6()&&this.OAt(t),0===o?s.vu(t):(t.offset(-e,-n),s.xu(t,this.v2t(),this.S2t()),s.offset(e,n),s.Mu(t)),t.normalize()}LAt(){const t=this.Ivt;0!=(2&t)&&(this.DAt(this.MEt,this.TEt,!0),this.Ivt=-3&t)}QN(){return this.LAt(),this.MEt}s4(){return this.LAt(),this.TEt}kAt(t){const s=this.I2(),i=this.E2(),e=Math.round(s)-s,n=Math.round(i)-i;return 0==e&&0==n?t:(h.G(t),h.offset(e,n),h)}BAt(t){this.MEt.G(t),this.TEt.vu(this.MEt),this.Ivt&=-3,this.oCt(),this.EAt()}NAt(t){this.oAt(4,t)}WAt(){return 0!=(4&this.Ivt)}VJ(t,s,i){return s&&0!==this.qJ()?this.zJ(this.TO().HJ()):0===this.R2()||i?t.ql(this.QN()):this.jAt()}jAt(){const t=this.TO(),s=this.ZN();return!(s>=t.S9())&&(t.y9(s,r),r.ql(this.QN()))}zJ(t){const s=this.QN(),i=s.Ml(),e=s._l(),n=s.Tl(),r=s.Gl(),h=this.ZN(),o=h+this.qJ();return t.by(i,n,h,e,r,o)}e4(){const t=this.TO();if(t.A9())return this.zJ(t.HJ());{const s=t.rO();return this.VJ(t.m5(),s.jJ(),s.PB())}}ZJ(t){this.oAt(1<<20,t)}YJ(t){this.oAt(1<<21,t)}VAt(){return 0!=(this.Ivt&1<<20)}UAt(){return 0!=(this.Ivt&1<<21)}HAt(t){this.IEt=t,this.zAt(),this.a6()&&(this.LEt.JAt=null)}qAt(){return this.IEt}$At(){return null!==this.IEt||this.a6()}XAt(){return this.YAt(this.um(),this.Mm(),this.iB(),this.v2t(),this.S2t())}ZAt(t,s,i){let e=0,n=1;return 0!==i&&(e=Math.sin(i),n=Math.cos(i)),this.YAt(t,s,i,e,n)}YAt(n,r,t,h,o){let s=this.CEt;null===s&&(s={kEt:d.lr(d.Fu),width:NaN,height:NaN,angle:NaN},this.CEt=s);const a=s.kEt;if(s.width!==n||s.height!==r||s.angle!==t){const l=this.IEt;if(this.a6()){let t=this.eW(),s=this.rW(),i=this.l6(),e=this.LEt.JAt;e||(l?(u.G(l),u.offset(t,s)):u.ju(),e=i.vb(u),this.LEt.JAt=e),i.bb(e,a),a.offset(-t,-s),a.zu(n,r,h,o)}else l?(a.G(l),a.zu(n,r,h,o)):a.Hu(this.s4(),-this.I2(),-this.E2());s.width=n,s.height=r,s.angle=t}return a}zAt(){this.KAt(!0);const t=this.CEt;null!==t&&(t.width=NaN)}i6(t,s){if(t=Math.floor(t),s=Math.floor(s),!this.JW()._k().pk())throw new Error("object does not support mesh");this.n6(),this.LEt={QAt:d.lr(d.ey.J2,t,s),t3t:d.lr(d.ey.J2,t,s),JAt:null}}a6(){return null!==this.LEt}l6(){if(this.a6())return this.LEt.QAt;throw new Error("no mesh")}s3t(){if(this.a6())return this.LEt.t3t;throw new Error("no mesh")}i3t(t){this.oAt(65536,t)}e3t(){return 0!=(65536&this.Ivt)}KAt(t){this.oAt(1<<17,t)}n3t(){return 0!=(this.Ivt&1<<17)}OAt(t){const s=this.LEt.QAt,i=Math.min(s.lb(),0),e=Math.min(s.ub(),0),n=Math.max(s.cb(),1),r=Math.max(s.fb(),1),h=t.width(),o=t.height();t.offsetLeft(i*h),t.offsetTop(e*o),t.Fl((n-1)*h),t.Dl((r-1)*o),this.Ax=s.pb()}n6(){this.LEt&&(this.LEt.QAt.ur(),this.LEt.t3t.ur(),this.LEt=null,this.zAt())}h6(t,s,i){t=Math.floor(t),s=Math.floor(s);const e=i.mode||"absolute";if(!p.has(e))throw new Error("invalid mode");let n="relative"===e,r=i.x,h=i.y,o=i.n5,a="number"==typeof i.u?i.u:n?0:-1,l="number"==typeof i.v?i.v:n?0:-1;if(!this.a6())return!1;const u=this.l6(),c=u.gb(t,s);if(null===c)return!1;let f=!1;return"number"==typeof o&&c.R2()!==o&&(c.F2(o),f=!0),n&&(r+=t/(u.nb()-1),h+=s/(u.rb()-1)),a=-1!==a||n?(n&&(a+=t/(u.nb()-1)),d.gr(a,0,1)):c.D2(),l=-1!==l||n?(n&&(l+=s/(u.rb()-1)),d.gr(l,0,1)):c.L2(),c.I2()===r&&c.E2()===h&&c.D2()===a&&c.L2()===l?f:(c.C2(r),c.A2(h),c.O2(a),c.B2(l),this.zAt(),!0)}UCt(){return this._i.UCt()}S4(t,s){return!!this.QN().Xl(t,s)&&!!this.s4().Xl(t,s)&&(this.UCt()?this._i.g6().PTt(t,s):!this.$At()||this.XAt().Xl(t-this.I2(),s-this.E2()))}r3t(){return 0!=(16&this.Ivt)}oCt(){if(this.r3t()&&this.y4()&&0==(256&this.Ivt)){const t=this.QN(),s=this.yft.nCt(),i=this._Et;if(r.set(s.ZH(t.Ml()),s.KH(t.Tl()),s.ZH(t._l()),s.KH(t.Gl())),!i.equals(r)){const e=this._i;i===n?(s.QH(e,null,r),this._Et=d.lr(d.Rect,r)):(s.QH(e,i,r),i.G(r)),this.Ivt&=-17}}}h3t(){this.Ivt|=16}AAt(){const t=this._Et;t!==n&&(this.yft.nCt().QH(this._i,t,null),this._Et=n)}EAt(){const t=this.TO();if(t.pz()&&0==(256&this.Ivt)){const s=t.e9(),i=this.QN(),e=this.GEt;if(r.set(s.ZH(i.Ml()),s.KH(i.Tl()),s.ZH(i._l()),s.KH(i.Gl())),!e.equals(r)){const n=this._i;e===o?(s.QH(n,null,r),this.GEt=d.lr(d.Rect,r)):(s.QH(n,e,r),e.G(r)),t.n9()}}}Fz(){const t=this.GEt;t!==o&&(this.TO().e9().QH(this._i,t,null),this.GEt=o)}X9(){return this.GEt}a4(){const t=this._i,s=this.pEt,i=s.IO();i.length&&i.at(-1)===t||(s.Rz(t,!1),s.Pz(t,!1),this.lf.EO())}u4(){const t=this._i,s=this.pEt,i=s.IO();i.length&&i[0]===t||(s.Rz(t,!1),s.Az(t,!1),this.lf.EO())}f4(t){const s=this._i,i=this.pEt;if(i.rO()!==t.rO())throw new Error("layer from different layout");t!==i&&(i.Rz(s,!0),this.CO(t),t.Pz(s,!0),this.lf.EO())}m4(t,s){let i=this._i,e=!1,n=this.pEt;if(t.H5()!==i.H5()){const r=t.MO();if(!r)throw new Error("expected world instance");const h=r.TO(),o=(n.RF()!==h.RF()&&(n.Rz(i,!0),this.CO(h),h.Pz(i,!0),e=!0),h.sJ(i,t,!!s));(e||o)&&this.lf.EO()}}UN(){return this.REt}o3t(t){this.oAt(64,t)}aJ(){return 0!=(64&this.Ivt)}mq(t,s=null){const i={x:this.I2(),y:this.E2(),w:this.um(),h:this.Mm(),l:this.TO().Zz(),zi:this._O()},e=(0!==this.R2()&&(i.ze=this.R2()),0!==this.iB()&&(i.a=this.qEt()),this.s9()||(i.c=this.u2.toJSON()),.5!==this.eW()&&(i.oX=this.eW()),.5!==this.rW()&&(i.oY=this.rW()),0!==this.c5()&&(i.bm=this.c5()),this.jB()||(i.v=this.jB()),this.y4()||(i.ce=this.y4()),this.WAt()&&(i.be=this.WAt()),this.REt&&(i.fx=this.REt.mq()),0!=(32&this.Ivt));return e&&(i.sfi=e),this.PEt&&(i.sft=[...this.PEt].join(" ")),this.DEt&&"visual-state"!==t&&(i.sgi=this.DEt.mq(t,s),g.has(this))&&(i.sgcd=g.get(this).VEt,i.sgzid=g.get(this).UEt),this.a6()&&(i.mesh=this.l6().j2()),i}tEt(){return{x:this.tl,y:this.sl,z:this.c2,w:this.yEt,h:this.wEt,a:this.qo,sgi:this.Krt()?this.Krt().XPt():null}}nEt(t){t&&(this.tl=t.x,this.sl=t.y,this.c2=t.z,this.yEt=t.w,this.wEt=t.h,this.qo=t.a,t.sgi&&this.Krt()&&this.Krt().gq(t.sgi),this.ZEt(),this.zN())}mCt(){this.NEt(),this.MAt(),this.GAt(null),this.DEt&&this.DEt.iEt(this.OPt,this.LPt)}RY(t){"visual-state"!==t&&this.MAt()}DY(t,s="full",i=null){t.hasOwnProperty("sgi")&&"visual-state"!==s&&0==(256&this.Ivt)&&this.DEt.DY(t.sgi,i)}_Pt(t,s="full",i){t.hasOwnProperty("sgi")&&"visual-state"!==s&&0==(256&this.Ivt)&&(this.DEt.iEt(null,null),this.NEt(),this.zN())}gq(t,s){if(m=!1,this.C2(t.x),this.A2(t.y),this.Sm(t.w),this.fm(t.h),this.kz(t.zi),this.F2(t.hasOwnProperty("ze")?t.ze:0),this.sB(t.hasOwnProperty("a")?t.a:0),t.hasOwnProperty("c")?f.Va(t.c):t.hasOwnProperty("o")?(f.ea(this.u2),f.a=t.o):f.$o(1,1,1,1),this.WEt(f),this.cht(t.hasOwnProperty("oX")?t.oX:.5),this.dht(t.hasOwnProperty("oY")?t.oY:.5),this.d2(t.hasOwnProperty("bm")?t.bm:0),this.NB(!t.hasOwnProperty("v")||t.v),this.w4(!t.hasOwnProperty("ce")||t.ce),this.NAt(!!t.hasOwnProperty("be")&&t.be),this.RAt(!!t.hasOwnProperty("sfi")&&t.sfi,t.hasOwnProperty("sft")?t.sft:""),this.REt&&t.hasOwnProperty("fx")&&this.REt.gq(t.fx),!t.hasOwnProperty("sgi")&&"visual-state"!==s&&this.OPt)for(const i of this.OPt)i.Yj()||this.lf.k5(i);if(t.hasOwnProperty("sgi")&&"visual-state"!==s){this.GAt(null);const e=this.DEt,n=t.sgi;e.gq(n),e.iEt(this.OPt,this.LPt),t.sgcd&&d.ge(t.sgzid)&&g.set(this,{VEt:t.sgcd,UEt:t.sgzid})}if(t.hasOwnProperty("mesh")){const r=t.mesh;this.i6(r.cols,r.rows),this.l6().V2(r)}else this.n6();this.zN(),m=!0,this.HEt(),"visual-state"!==s&&this.lf.a3t(this.JW(),t)}}}{const ba=self.Bs;ba.XGt=class extends ba.rr{constructor(t,s){super();const i=t.HO(),e=i.Cyt(s[1]),n=(i.l3t().M_t(e),this.lf=i,this.yft=t,this.e_t=ba.YL.A6(e),this.VMt=null,this.u3t=null,this.GGt=e.Instance,this.m7=s[2],this.pr=s[0],this.cwt=this.lf.Jdt(s[3]),this.e_t.hvt());if(n<2&&(this.VMt=ba.lr(e.fIt,this),!(this.VMt instanceof ba.i_t)))throw new Error("v1 sdk type must derive from SDKBehaviorBase");if(ba.YL.TMt(this,n),2<=n){const r=e.fIt??globalThis.oV;if(this.u3t=new r,!(this.u3t instanceof globalThis.oV))throw new Error("script interface class must derive from ISDKBehaviorTypeBase")}else this.u3t=new globalThis.P6;ba.YL._Mt(n),this.vMt()}static gM(t,s){return ba.lr(ba.XGt,t,s)}ur(){this.lf=null,this.e_t=null,this.VMt&&(this.VMt.ur(),this.VMt=null),this.GGt=null}i2t(){return this.VMt}vMt(){this.VMt?this.VMt.vMt():this.u3t&&this.u3t.uj()}HO(){return this.lf}E5(){return this.yft}M6(){return this.e_t}DIt(){return this.GGt}Kc(){return this.pr}Zz(){return this.m7}_6(){return this.u3t}Jdt(){return this.cwt}}}{const xa=self.Bs,Ma=self.b6;xa.CCt=class extends xa.rr{constructor(t){super(),this.lf=t.runtime,this.Hwt=t.T6,this.e_t=this.Hwt.M6(),this._i=t.I6,this.Xg=t.index,this.vCt=null,this.bCt=null,this.e_t.Pz(this._i)}ur(){this.bCt&&(this.bCt.O5(),this.bCt=null),this.e_t.Rz(this._i),this.vCt&&(this.vCt.ur(),this.vCt=null),this.lf=null,this.Hwt=null,this.e_t=null,this._i=null}PIt(t){if(this.vCt)throw new Error("already got sdk instance");const s=this.M6().hvt();if(s<2){if(this.vCt=xa.lr(this.Hwt.DIt(),this,t),!(this.vCt instanceof xa.n_t))throw new Error("v1 sdk type must derive from SDKBehaviorInstanceBase")}else{const i=this.M6().bMt();this.MMt(i.Instance,t)}}g6(){return this.vCt??this.bCt}C6(){return this._i}HO(){return this.lf}G6(){return this.Hwt}M6(){return this.e_t}_rt(){return this.Xg}a_t(){this.vCt?this.vCt.a_t():this.bCt.cV()}f_t(t,s){this.vCt&&this.vCt.f_t(t,s)}TPt(){return this.vCt?this.vCt.lTt():this.bCt.PN()}j2(t="full"){return this.vCt?this.vCt.j2(t):this.bCt.EN(t)}V2(t,s="full"){if(this.vCt)return this.vCt.V2(t,s);this.bCt.AN(t,s)}static c3t(t,s,i){let e=globalThis.aV,n,r;n=s instanceof e?t.mB(s):s.o_t(),r=i instanceof e?t.mB(i):i.o_t();const h=n.C6(),o=r.C6(),a=h.E5().RF(),l=o.E5().RF();if(a!==l)return a-l;const u=h.fPt(),c=o.fPt();return u!==c?u-c:n._rt()-r._rt()}MMt(t,s){const i=Ma,e=t??this.vCt.bMt(),n=e||i,r=this.M6().hvt();if(xa.YL.TMt(this,r),xa.YL.T_t(s),this.bCt=new n,xa.YL.__t(),xa.YL._Mt(r),!e||this.bCt instanceof i)return this.bCt;throw new TypeError(`script interface class '${e.name}' does not extend the right base class '${i.name}'`)}zMt(){return this.bCt||this.MMt()}dTt(){return!!this.bCt}}}{const Ta=self.Bs;Ta.K7=class extends Ta.rr{constructor(t,s){super(),this.Y2=t,this.f3t=[],this.d3t=[],this.p3t=new Map,this.m3t=[],this.g3t=[],this.y3t=new Set,this.Dv=!0;for(const i of s){const e=Ta.lr(Ta.w3t,this,i,this.f3t.length);this.f3t.push(e),this.p3t.set(e.Kc().toLowerCase(),e),3<=i.length&&this.m3t.push(this.S3t(e,i[2]))}this.HO().v3t(this)}ur(){this.HO().b3t(this);for(const t of this.g3t)t.ur();Ta.Bh(this.g3t),Ta.Bh(this.f3t),Ta.Bh(this.d3t),this.p3t.clear(),Ta.Bh(this.m3t),this.Y2=null}x3t(t){this.y3t.add(t)}M3t(t){this.y3t.delete(t)}T3t(t){t.Rw()&&(this.g3t=this.f3t.map(t=>{const s=t.mT();return 0<s.GetCustomParametersByteSize()?Ta.lr(Ta.ey.WebGPUEffectCustomParamsBuffer,s):null}),this._3t());for(const s of this.y3t)s.T3t(t)}IIt(t){if(t.length){this.f3t=t.concat(this.f3t);for(const s of t)this.p3t.set(s.Kc().toLowerCase(),s);for(let t=0,s=this.f3t.length;t<s;++t)this.f3t[t].Jz(t)}}S3t(t,s){t.G3t(s[0]);const i=s.slice(1);for(let t=0,s=i.length;t<s;++t){const e=i[t];if(Array.isArray(e)){const n=Ta.lr(Ta.Uo);n.Va(e),i[t]=n}}return i}hb(){return this.Y2}HO(){return this.Y2.HO()}D6(){Ta.Bh(this.d3t);let t=!0;for(const s of this.f3t)s.pmt()&&(this.d3t.push(s),s.mT().Kv()||(t=!1));this.Dv=t}Yk(){return this.f3t}VIt(){return 0<this.f3t.length}Cnt(t){return this.p3t.get(t.toLowerCase())||null}I3t(t){if((t=Math.floor(+t))<0||t>=this.f3t.length)throw new RangeError("invalid effect type index");return this.f3t[t]}R6(t){return this.I3t(t).pmt()}F6(t,s){this.I3t(t).G3t(s)}i9(){return this.d3t}aJ(){return 0<this.d3t.length}Kv(){return this.Dv}Int(t){return this.m3t[t]}ez(t){return(t<this.g3t.length?this.g3t:this.m3t)[t]}O6(t,s){if(t<0||t>=this.m3t.length)return null;const i=this.m3t[t];return s<0||s>=i.length?null:i[s]}L6(t,s,i){if(t<0||t>=this.m3t.length)return!1;const e=this.m3t[t];if(s<0||s>=e.length)return!1;const n=e[s];if(n instanceof Ta.Uo){if(n.fa(i))return!1;n.ea(i)}else{if(n===i)return!1;e[s]=i}return t<this.g3t.length&&this.g3t[t].SetParameterValue(s,i),!0}_3t(){const i=this.m3t,e=this.g3t;for(let t=0,s=Math.min(i.length,e.length);t<s;++t){const n=e[t],r=i[t];for(let t=0,s=r.length;t<s;++t)n.SetParameterValue(t,r[t])}}static C3t(t){return t&&t instanceof Ta.Uo?{t:"color",v:t.toJSON()}:t}static P3t(t){if(null===t)return NaN;if("object"!=typeof t)return t;{const s=t.t;if("color"!==s)throw new Error("invalid effect parameter type");{const i=Ta.lr(Ta.Uo);return i.Va(t.v),i}}}static E3t(t){return t.map(Ta.K7.C3t)}static A3t(t){return t.map(Ta.K7.P3t)}j2(){return this.f3t.map(t=>({name:t.Kc(),active:t.pmt(),params:Ta.K7.E3t(this.m3t[t.RF()])}))}V2(t){for(const s of t){const i=this.Cnt(s.name);i&&(i.G3t(s.active),this.m3t[i.RF()]=Ta.K7.A3t(s.params))}this.D6(),this._3t()}}}{const _a=self.Bs;_a.w3t=class extends _a.rr{constructor(t,s,i){super(),this.Z7=t,this.cf=s[0],this.pr=s[1],this.Xg=i,this.o2=null,this.a0=!0}ur(){this.Z7=null,this.o2=null}GIt(t){const s=_a.lr(_a.w3t,t,[this.cf,this.pr],-1);return s.o2=this.o2,s.a0=this.a0,s}T3t(t){const s=t.Bw(this.cf);if(!s)throw new Error("failed to find shader program '"+this.cf+"'");this.o2=s}Xk(){return this.Z7}Kc(){return this.pr}Jz(t){this.Xg=t}RF(){return this.Xg}hb(){return this.Z7.hb()}HO(){return this.Z7.HO()}G3t(t){this.a0=!!t}pmt(){return this.a0}mT(){return this.o2}R3t(){const i=[];for(let t=0,s=this.o2.gT();t<s;++t){const e=this.o2.yT(t);if("float"===e||"percent"===e)i.push(0);else{if("color"!==e)throw new TypeError("unknown effect parameter type");i.push(_a.lr(_a.Uo,1,1,1,1))}}return i}}}{const Ga=self.Bs;Ga.FEt=class extends Ga.rr{constructor(t,s){super(),this._i=t,this.F3t=s,this.Z7=t.E5().Xk(),this.D3t=!0,this.rz=!0,this.O3t=!1,this.L3t=!1,this.k3t=!1,this.B3t=!1,this.CF=Ga.lr(Ga.ey._3,t.HO().FL().Q7(),{d3:(t,s)=>{const i=s.vF(),e=i.MO();t.m2(e.sz()),t.vS(e.ZN()),i.wb(t),t.vS(0)},m3:t=>{const s=t.TTt(),[i,e]=t.MTt();return{dF:s,pF:i,mF:e}},g3:t=>this.ez(t)}),this.N3t=[],this.d3t=[],this.Dv=!0,this.m3t=[],this.g3t=[],this.T3t(t.HO().Jv());for(let t=0,s=this.Z7.Yk().length;t<s;++t)this.N3t.push(!0);this.D6(),this.Z7.x3t(this)}ur(){this.Z7.M3t(this);for(const t of this.g3t)t&&t.ur();Ga.Bh(this.g3t),this.CF.ur(),this.CF=null,Ga.Bh(this.N3t),Ga.Bh(this.d3t),Ga.Bh(this.m3t),this._i=null,this.Z7=null}T3t(t){t.Rw()&&(this.g3t=this.Z7.Yk().map(t=>{const s=t.mT();return 0<s.GetCustomParametersByteSize()?Ga.lr(Ga.ey.WebGPUEffectCustomParamsBuffer,s):null}))}jEt(t){let s=0;for(const i of t)this.m3t.push(this.S3t(s,i)),++s;this._3t(),this.D6()}S3t(t,s){this.N3t[t]=s[0];const i=s.slice(1);for(let t=0,s=i.length;t<s;++t){const e=i[t];if(Array.isArray(e)){const n=Ga.lr(Ga.Uo);n.Va(e),i[t]=n}}return i}OCt(){for(const t of this.Z7.Yk())this.m3t.push(t.R3t());this._3t()}hb(){return this.Y2}Xk(){return this.Z7}AF(){return this.t9(),this.CF}HO(){return this._i.HO()}D6(){Ga.Bh(this.d3t);let t=this.F3t,i=this.Z7.Yk(),e=this.d3t,n=this.N3t,r=!0;for(let t=0,s=i.length;t<s;++t)if(n[t]){const h=i[t];e.push(h),h.mT().Kv()||(r=!1)}this.Dv=r,t.o3t(!!e.length),this.D3t=!0}t9(){const t=this._i,s=this.F3t,i=s.s9(),e=t._k().uk(),n=0!==s.iB()||0!==s.TO().iB()||s.um()<0||s.Mm()<0,r=t.ITt(),h=t.Zv();(this.D3t||i!==this.rz||e!==this.O3t||n!==this.L3t||r!==this.k3t||h!==this.B3t||this.CF.yR())&&(this.CF.wR(this.d3t.map(t=>t.mT()),{w3:this.d3t.map(t=>t.RF()),S3:!i||h,b3:e,x3:r,M3:n}),this.D3t=!1,this.rz=i,this.O3t=e,this.L3t=n,this.k3t=r,this.B3t=h)}i9(){return this.d3t}Int(t){return this.m3t[t]}ez(t){return(t<this.g3t.length?this.g3t:this.m3t)[t]}O6(t,s){if(t<0||t>=this.m3t.length)return null;const i=this.m3t[t];return s<0||s>=i.length?null:i[s]}L6(t,s,i){if(t<0||t>=this.m3t.length)return!1;const e=this.m3t[t];if(s<0||s>=e.length)return!1;const n=e[s];if(n instanceof Ga.Uo){if(n.fa(i))return!1;n.ea(i)}else{if(n===i)return!1;e[s]=i}return t<this.g3t.length&&this.g3t[t].SetParameterValue(s,i),!0}_3t(){const i=this.m3t,e=this.g3t;for(let t=0,s=e.length;t<s;++t){const n=e[t],r=i[t];for(let t=0,s=r.length;t<s;++t)n.SetParameterValue(t,r[t])}}Kv(){return this.Dv}W3t(){return this.d3t.some(t=>t.mT().s2())}R6(t){return this.N3t[t]}F6(t,s){this.N3t[t]=!!s}Yk(){return this.Z7.Yk()}mq(){return this.Z7.Yk().map(t=>({name:t.Kc(),active:this.N3t[t.RF()],params:Ga.K7.E3t(this.m3t[t.RF()])}))}gq(t){for(const s of t){const i=this.Z7.Cnt(s.name);i&&(this.N3t[i.RF()]=s.active,this.m3t[i.RF()]=Ga.K7.A3t(s.params))}this.D6(),this._3t()}}}{let G=self.Bs,r=[],v=[],h=[],b=G.lr(G.Fu),w=G.lr(G.Fu),x=G.lr(G.Ql),d=G.lr(G.Rect),p=G.lr(G.Rect),m=null,g=null,y=null;G.j3t=class extends G.rr{constructor(t){super(),this.lf=t,this.V3t=0,this.U3t=0,this.H3t=[],this.z3t=0,this.J3t=0,this.q3t=0,this.$3t=0,this.X3t=new self.uL(this)}ur(){this.lf=null}HO(){return this.lf}BF(){return this.X3t}Y3t(){this.J3t=this.z3t,this.z3t=0,this.$3t=this.q3t,this.q3t=0}Z3t(){return this.J3t}K3t(){return this.$3t}Q3t(t,s){const i=t.MO(),e=s.MO();i&&e&&i.y4()&&e.y4()&&this.H3t.push([t,s])}rbt(s,i,e){for(const[n,r]of this.H3t){let t=null;if(s===n)t=r;else{if(s!==r)continue;t=n}t.cbt(i)&&!e.includes(t)&&e.push(t)}}hbt(t,s){if(this.H3t.length)for(const[i,e]of this.H3t)if(t===i&&s===e||t===e&&s===i)return!0;return!1}tRt(){G.Bh(this.H3t)}fL(t,s){if(!t||!s||t===s)return!1;const i=t.MO(),e=s.MO();if(!i.y4()||!e.y4())return!1;this.z3t++;const n=i.TO(),r=e.TO(),h=n.U9(r);return h?this.sRt(i,e):this.iRt(i,e)}sRt(t,s){if(!t.QN().ql(s.QN()))return!1;if(this.q3t++,!t.s4()._u(s.s4()))return!1;if(t.UCt()&&s.UCt())return!1;if(t.UCt())return this.eRt(t,s);if(s.UCt())return this.eRt(s,t);if(!t.$At()&&!s.$At())return!0;const i=t.XAt(),e=s.XAt();return i.Ju(e,s.I2()-t.I2(),s.E2()-t.E2())}iRt(i,e){const t=i.UCt(),s=e.UCt();if(t&&!s)return this.nRt(i,e);if(s&&!t)return this.nRt(e,i);if(s||t)return!1;{const n=i.TO(),r=e.TO(),h=(b.G(i.XAt()),w.G(e.XAt()),b.Bu());for(let t=0,s=h.length;t<s;t+=2){const a=t+1,l=h[t],u=h[a],[c,f]=n.b5(l+i.I2(),u+i.E2());h[t]=c,h[a]=f}const o=w.Bu();for(let t=0,s=o.length;t<s;t+=2){const d=t+1,p=o[t],m=o[d],[g,y]=r.b5(p+e.I2(),m+e.E2());o[t]=g,o[d]=y}return b.Vu(),w.Vu(),this.q3t++,b.Ju(w,0,0)}}nRt(t,s){const i=t.TO(),e=s.TO(),n=(m=m||G.lr(G.Fu),g=g||G.lr(G.Rect),y=y||G.lr(G.Ql),s.I2()),r=s.E2(),[h,o]=e.b5(n,r),[a,l]=i.y5(h,o),u=a-n,c=l-r;if(g.G(s.QN()),g.offset(u,c),!t.QN().ql(g))return!1;if(y.G(s.s4()),y.offset(u,c),this.q3t++,!t.s4()._u(y))return!1;m.G(s.XAt());const f=m.Bu();for(let t=0,s=f.length;t<s;t+=2){const d=t+1;f[t]+=u,f[d]+=c}return m.Vu(),this.eRt(t,s,a,l,m,g,y)}eRt(t,e,s,i,n,r,h){const o=void 0!==r?r:e.QN(),a=t.I2(),l=t.E2(),u=t.JW().g6(),c=void 0!==s?s:e.I2(),f=void 0!==i?i:e.E2(),d=e.$At(),p=void 0!==h?h:e.s4(),m=v;u.GetCollisionRectCandidates(o,m);for(let t=0,s=m.length;t<s;++t){const g=m[t],y=g.GetRect();if(this.z3t++,o.$l(y,a,l)&&(x.vu(y),x.offset(a,l),x._u(p)))if(d){let t=void 0!==n?n:e.XAt(),s=c,i=f;void 0!==n&&(s=e.I2(),i=e.E2());const w=g.GetPoly();if(w){if(this.q3t++,w.Ju(t,s-(a+y.Ml()),i-(l+y.Tl())))return G.Bh(m),!0}else if(b.Hu(x,0,0),b.Ju(t,s,i))return G.Bh(m),!0}else{const S=g.GetPoly();if(!S)return G.Bh(m),!0;if(b.Hu(p,0,0),S.Ju(b,-(a+y.Ml()),-(l+y.Tl())))return G.Bh(m),!0}}return G.Bh(m),!1}rRt(t,o,a){const l=t.kk(),s=this.lf.mD();if(!s)throw new Error("cannot call outside event");const u=s.Jft(),i=new Map,c=t=>{let s=i.get(t);return void 0===s&&(s=t.$B(),i.set(t,s)),s};if(l.Pft()){a||(l.Lft(!1),G.Bh(l.kft())),u&&G.Bh(l.Bft());for(const e of t.Lk()){let n=e.MO(),r=n.TO();if(!(!c(r)||!n.e4())&&o.some(([t,s])=>{const[i,e]=r.y5(t,s,n.ZN());return n.S4(i,e)})){if(a)return!1;l.Dft(e)}else u&&l.Oft(e)}}else{let i,e=!1,h=(!u||s.Bgt(this.lf.kdt())||this.lf.h2t()&&!l.Bft().length&&l.kft().length?i=l.kft():(i=l.Bft(),e=!0),0);for(let s=0,t=i.length;s<t;++s){let t=i[s],n=t.MO(),r=n.TO();if(!(!c(r)||!n.e4())&&o.some(([t,s])=>{const[i,e]=r.y5(t,s,n.ZN());return n.S4(i,e)})){if(a)return!1;e?l.Dft(t):i[h++]=t}else e?i[h++]=t:u&&l.Oft(t)}a||(i.length=h)}return t.Syt(),i.clear(),!!a||l.Eft()}hRt(t,s){if(t)for(const i of s.lCt())if(!t.U9(i))return!1;return!0}r2t(t,s,i,e){if(s.Vz())for(const n of s.cgt())this.hRt(t,n)?(n.hCt(),n.nCt().t7(i,e)):G.Xn(e,n.Lk());else this.hRt(t,s)?(s.hCt(),s.nCt().t7(i,e)):G.Xn(e,s.Lk())}xL(t,s,i,e){for(const n of s)this.r2t(t,n,i,e)}oRt(t,s,i){const e=this.lf.I_t();e&&this.xL(t,e.eZ(),s,i)}aRt(t,s,i){const e=this.lf.C_t();e&&this.xL(t,e.eZ(),s,i)}FAt(t,s){return t.JCt()&&(!s||s.MO().FAt(t.fvt().get("solidTags")))}mL(t){const s=t.MO();this.oRt(s.TO(),s.QN(),r);for(const i of r)if(this.FAt(i,t)&&this.fL(t,i))return G.Bh(r),i;return G.Bh(r),null}lRt(t,s){this.oRt(null,t,r);for(const i of r)if(this.FAt(i,s)&&this.uRt(t,i))return G.Bh(r),i;return G.Bh(r),null}cRt(t,s){let i=null;s&&(i=h,G.Bh(i));const e=t.MO();this.aRt(e.TO(),e.QN(),r);for(const n of r)if(n.$Ct()&&this.fL(t,n)){if(!s)return G.Bh(r),n;i.push(n)}return G.Bh(r),i}fRt(s,i,e,n,r){n=n||50;const h=s.MO(),o=h.I2(),a=h.E2();for(let t=0;t<n;++t)if(h.JN(o+i*t,a+e*t),h.zN(),!this.fL(s,r))return!0;return h.JN(o,a),h.zN(),!1}dRt(s,i,e,n,r,h){n=n||50;let o=s.MO(),a=o.I2(),l=o.E2(),u=null,c=null;for(let t=0;t<n;++t)if(o.JN(a+i*t,l+e*t),o.zN(),!this.fL(s,u))if(u=this.mL(s))c=u;else if(r&&(u=h?this.fL(s,h)?h:null:this.cRt(s))&&(c=u),!u)return c&&this.pRt(s,i,e,c,16,!0),!0;return o.JN(a,l),o.zN(),!1}mRt(i,e,n,t){t=t||50;let r=i.MO(),h=r.I2(),o=r.E2(),a=null,l=null;for(let s=0;s<t;++s)for(let t=0;t<2;++t){const u=2*t-1;if(r.JN(h+e*s*u,o+n*s*u),r.zN(),!this.fL(i,a)){if(!(a=this.mL(i)))return l&&this.pRt(i,e*u,n*u,l,16,!0),!0;l=a}}return r.JN(h,o),r.zN(),!1}pRt(t,s,i,e,n,r){let h=2,o=!1,a=!1,l=t.MO(),u=l.I2(),c=l.E2();for(;h<=n;){const f=1/h;h*=2,l.XN(s*f*(o?1:-1),i*f*(o?1:-1)),l.zN(),this.fL(t,e)||r&&this.mL(t)?(o=!0,a=!0):(o=!1,a=!1,u=l.I2(),c=l.E2())}a&&(l.JN(u,c),l.zN())}gRt(i,t=100){let e=0,n=i.MO(),r=n.I2(),h=n.E2(),o=0,a=this.mL(i);if(!a)return!0;for(;e<=t;){let t=0,s=0;switch(o){case 0:t=0,s=-1,e++;break;case 1:t=1,s=-1;break;case 2:t=1,s=0;break;case 3:t=1,s=1;break;case 4:t=0,s=1;break;case 5:t=-1,s=1;break;case 6:t=-1,s=0;break;case 7:t=-1,s=-1}if(o=(o+1)%8,n.JN(Math.floor(r+t*e),Math.floor(h+s*e)),n.zN(),!this.fL(i,a)&&!(a=this.mL(i)))return!0}return n.JN(r,h),n.zN(),!1}yRt(t,s,i,e){const n=t.MO(),r=n.I2(),h=n.E2(),o=Math.max(10,G.br(s,i,r,h)),a=G.Tr(s,i,r,h),l=e||this.mL(t);if(!l)return G.yr(a+Math.PI);let u=l,c=0,f=0,d=G.Sr(5),p;for(p=1;p<36;++p){const T=a-p*d;if(n.JN(s+Math.cos(T)*o,i+Math.sin(T)*o),n.zN(),!this.fL(t,u)&&!(u=e?null:this.mL(t))){c=T;break}}for(36===p&&(c=G.yr(a+Math.PI)),u=l,p=1;p<36;++p){const _=a+p*d;if(n.JN(s+Math.cos(_)*o,i+Math.sin(_)*o),n.zN(),!this.fL(t,u)&&!(u=e?null:this.mL(t))){f=_;break}}if(36===p&&(f=G.yr(a+Math.PI)),n.JN(r,h),n.zN(),f===c)return f;let m=G._r(f,c)/2,g;g=G.Ir(f,c)?G.yr(c+m+Math.PI):G.yr(f+m);const y=Math.cos(a),w=Math.sin(a),S=Math.cos(g),v=Math.sin(g),b=y*S+w*v,x=y-2*b*S,M=w-2*b*v;return G.Tr(0,0,x,M)}wRt(t,s,i,e,n){if(!n)return!1;const r=n.MO();if(!r.y4())return!1;if(this.z3t++,d.set(Math.min(t,i),Math.min(s,e),Math.max(t,i),Math.max(s,e)),!r.QN().ql(d))return!1;if(n.UCt())return this.SRt(t,s,i,e,n,r);if(this.q3t++,!r.s4().Tu(t,s,i,e))return!1;if(!r.$At())return!0;const h=r.XAt();return h.Tu(r.I2(),r.E2(),t,s,i,e)}SRt(i,e,n,r,t,s){const h=s.I2(),o=s.E2(),a=t.g6(),l=v;p.set(i,e,n,r),p.normalize(),a.GetCollisionRectCandidates(p,l);for(let t=0,s=l.length;t<s;++t){const u=l[t],c=u.GetRect();if(this.z3t++,d.$l(c,h,o)&&(x.vu(c),x.offset(h,o),x.Tu(i,e,n,r))){const f=u.GetPoly();if(!f)return G.Bh(l),!0;if(this.q3t++,f.Tu(h+c.Ml(),o+c.Tl(),i,e,n,r))return G.Bh(l),!0}}return G.Bh(l),!1}uRt(t,s){if(!s)return!1;const i=s.MO();if(!i.y4())return!1;if(this.z3t++,!i.QN().ql(t))return!1;if(s.UCt())return this.vRt(t,s,i);if(this.q3t++,x.vu(t),!i.s4()._u(x))return!1;if(!i.$At())return!0;const e=b,n=(e.vu(t,i.I2(),i.E2()),i.XAt());return e.Ju(n,0,0)}vRt(i,t,s){const e=s.I2(),n=s.E2(),r=t.g6(),h=v;r.GetCollisionRectCandidates(i,h);for(let t=0,s=h.length;t<s;++t){const o=h[t],a=o.GetRect();if(this.z3t++,i.$l(a,e,n)){const l=o.GetPoly();if(!l)return G.Bh(h),!0;if(this.q3t++,b.vu(i,0,0),l.Ju(b,-(e+a.Ml()),-(n+a.Tl())))return G.Bh(h),!0}}return G.Bh(h),!1}bRt(t,s){if(t){const i=t.MO();i.y4()&&(this.z3t++,i.QN().ql(s.rect))&&(t.UCt()?this.xRt(t,i,s):(this.q3t++,i.$At()?s.MRt(t,i.I2(),i.E2(),i.XAt()):s.TRt(t,i.s4())))}}xRt(i,e,n){const r=e.I2(),h=e.E2(),o=v;i.g6().GetCollisionRectCandidates(n.rect,o);for(let t=0,s=o.length;t<s;t++){const a=o[t],l=a.GetRect();if(this.z3t++,n.rect.$l(l,r,h)){const u=a.GetPoly();this.q3t++,u?n.MRt(i,r+l.Ml(),h+l.Tl(),u):n._Rt(i,e.I2(),e.E2(),l)}}G.Bh(o)}yL(t,s){if(t!==this.V3t||s!==this.U3t){this.V3t=t,this.U3t=s;const i=this.lf.jz();for(const e of i)if(e.sk()){for(const n of e.Ok())n.MO().AAt();e.nCt().GRt(t,s),e.rCt();for(const r of e.Ok()){const h=r.MO();h.h3t(),h.oCt()}}}}SL(){return[this.V3t,this.U3t]}IRt(t,s){this.V3t=t,this.U3t=s}}}{const Ia=self.Bs;Ia.LGt=class extends Ia.rr{constructor(t,s){super(),this.qH=t,this.$H=s,this.XH=Ia.lr(Ia.Ku)}ur(){this.XH.ur(),this.XH=null}GRt(t,s){if(!this.XH.sc())throw new Error("grid not empty");this.qH=t,this.$H=s}YH(t,s,i){let e=this.XH.ei(t,s);return e||(i?(e=Ia.lr(Ia.CRt,this,t,s),this.XH.Set(t,s,e),e):null)}ZH(t){const s=Math.floor(t/this.qH);return isFinite(s)?s:0}KH(t){const s=Math.floor(t/this.$H);return isFinite(s)?s:0}QH(e,n,r){if(n)for(let i=n.Ml(),t=n._l();i<=t;++i)for(let t=n.Tl(),s=n.Gl();t<=s;++t)if(!r||!r.Xl(i,t)){const h=this.YH(i,t,!1);h&&(h.b0(e),h.sc())&&this.XH.ic(i,t)}if(r)for(let i=r.Ml(),t=r._l();i<=t;++i)for(let t=r.Tl(),s=r.Gl();t<=s;++t)n&&n.Xl(i,t)||this.YH(i,t,!0).UH(e)}t7(t,s){let i=this.ZH(t.Ml()),e=this.KH(t.Tl()),n=this.ZH(t._l()),r=this.KH(t.Gl());if(isFinite(n)&&isFinite(r))for(;i<=n;++i)for(let t=e;t<=r;++t){const h=this.YH(i,t,!1);h&&h.zH(s)}}}}{const Ca=self.Bs;Ca.CRt=class extends Ca.rr{constructor(t,s,i){super(),this.LH=t,this.tl=s,this.sl=i,this.kH=Ca.lr(Ca.hc)}ur(){this.kH.ur(),this.kH=null,this.LH=null}sc(){return this.kH.sc()}UH(t){this.kH.uc(t)}b0(t){this.kH.ic(t)}zH(t){Ca.Xn(t,this.kH.cc())}}}{const Pa=self.Bs;Pa.PRt=class{constructor(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.dx=0,this.dy=0,this.rect=new Pa.Rect,this.ERt=2,this.ARt=null,this.RRt=0,this.FRt=0,this.DRt=0,this.ORt=0,this.LRt=0,this.Et=0,this.kRt=1,this.BRt=0,this.NRt=1,this.WRt=0}jRt(){return this.ERt<1+1e-6}l0(){this.ERt=2}Set(t,s,i,e){return this.x1=t,this.y1=s,this.x2=i,this.y2=e,this.dx=i-t,this.dy=e-s,this.rect.set(t,s,i,e),this.rect.normalize(),this.ERt=2,this.ARt=null,this.RRt=0,this.FRt=0,this.DRt=0,this.ORt=0,this.LRt=0,this.Et=0,this.kRt=1,this.BRt=0,this.NRt=1,this.WRt=0,this}VRt(){if(!1!==this.jRt()){const t=this.dx*this.ERt,s=this.dy*this.ERt,i=Math.hypot(t,s),e=t/i,n=s/i,r=(this.Et=i-1e-6,this.ORt=this.x1+e*this.Et,this.LRt=this.y1+n*this.Et,this.RRt=Math.atan2(this.DRt,this.FRt)+Math.PI/2,this.kRt=Math.cos(this.RRt),this.BRt=Math.sin(this.RRt),e*this.kRt+n*this.BRt);if(this.NRt=e-2*this.kRt*r,this.WRt=n-2*this.BRt*r,0<r){const h=Math.PI;this.RRt=Pa.yr(this.RRt+h),this.kRt=-this.kRt,this.BRt=-this.BRt}}}URt(t,s,i,e,n){const r=Pa.fh(this.x1,this.y1,this.x2,this.y2,s,i,e,n);0<=r&&r<this.ERt&&(this.ERt=r,this.ARt=t.H5(),this.FRt=s-e,this.DRt=i-n)}_Rt(t,s,i,e){const n=s+e.Ml(),r=s+e._l(),h=i+e.Tl(),o=i+e.Gl();this.URt(t,n,h,r,h),this.URt(t,r,h,r,o),this.URt(t,r,o,n,o),this.URt(t,n,o,n,h)}TRt(t,s){const i=s.ih(),e=s.eh(),n=s.nh(),r=s.rh(),h=s.hh(),o=s.oh(),a=s.ah(),l=s.lh();this.URt(t,i,e,n,r),this.URt(t,n,r,h,o),this.URt(t,h,o,a,l),this.URt(t,a,l,i,e)}MRt(i,e,n,t){const r=t.Bu();for(let t=0,s=r.length;t<s;t+=2){const h=(t+2)%s,o=r[t]+e,a=r[t+1]+n,l=r[h]+e,u=r[1+h]+n;this.URt(i,o,a,l,u)}}}}{const M=self.Bs,Ea=new Set(["off","crop","scale-inner","scale-outer","letterbox-scale","letterbox-integer-scale"]),Aa=new Set(["high","low"]),Ra=self.bs,Tn=Ra._s,_n=Ra.Ps,Fa=Tn.create(),Da=M.lr(M.Ql),T=M.lr(M.Rect);M.HRt=class extends M.rr{constructor(t){super(),this.lf=t,this.zRt=[],this.JRt=!1,this.qRt=null,this.$Rt=null,this.XRt=null,this.YRt="high-performance",this.ZRt=!1,this.KRt=0,this.QRt=0,this.tFt="",this.sFt=0,this.iFt=0,this.eFt=0,this.nFt=0,this.rFt=0,this.hFt=0,this.Ey="normalized",this.oFt=0,this.aFt=1,this.lFt=1e4,this.lw=!0,this.uFt=0,this.K3=0,this.Q3=0,this.cFt="letterbox-scale",this.fFt="letterbox-scale",this.dFt=0,this.pFt=0,this.mFt=Tn.create(),this.gFt="high",this.yFt=this.gFt,this.wFt=!1,this.SFt=[],this.vFt=new Set,this.bFt=self.C3_Shaders,this.xFt=M.lr(M.ey.KA,{$A:()=>[this.TJ(),this._J()],XA:()=>this.MFt(),YA:t=>this.TFt(t),getTime:()=>this.HO().FD(),ZA:()=>this.HO().EO()}),this._Ft=0,this.GFt=0,this.IFt=NaN,this.CFt=null,this.PFt=new Map,this.EFt=NaN,this.AFt=new Map,this.RFt="",this.FFt=1,this.DFt=M.lr(M.Rect),this.OFt="",this.LFt=null,this.kFt=null,this.BFt=0,this.NFt=0,this.WFt=-1,this.jFt=0,this.VFt=t=>this.jFt=t.progress,this.UFt=null,this.HFt={zFt:null,JFt:null,qFt:null},this.$Ft=0,this.XFt=0,this.YFt=0,this.ZFt="fade-in",this.KFt=null,this.QFt=new Promise(t=>this.KFt=t)}tDt(t){this.YRt=t}sDt(t){this.JRt=!!t}iDt(t){this.Ey=t}eDt(){return this.Ey}nDt(t){this.oFt=t}rDt(t,s){this.aFt=t,this.lFt=s}hDt(t){this.ZRt=!!t}async Ao(t){let s=t.canvas,i=(this.zRt.push({canvas:s,oDt:null}),this.lf.vN("runtime","window-resize",t=>this.aDt(t)),this.lf.vN("runtime","fullscreenchange",t=>this.lDt(t)),this.lf.vN("runtime","fullscreenerror",t=>this.uDt(t)),s.addEventListener("webglcontextlost",t=>this.cDt(t)),s.addEventListener("webglcontextrestored",t=>this.fDt(t)),this.wFt=!!t.isFullscreen,this.tFt=t.cssDisplayMode,navigator.gpu&&this.JRt),e=!1;if(i)try{await this.dDt(!0)}catch(t){this.pDt("WebGPU",t),this.$Rt=null}if(!this.Jv())try{await this.mDt(!0)}catch(t){this.pDt("WebGL",t),this.qRt=null}if(this.Jv()||(e=!0),!this.Jv()&&i)try{await this.dDt(!1)}catch(t){this.pDt("WebGPU",t),this.$Rt=null}if(!this.Jv())try{await this.mDt(!1)}catch(t){this.pDt("WebGL",t),this.qRt=null}const n=this.Jv();if(!n)throw new Error("failed to acquire a renderer - check WebGL or WebGPU is supported");n.mv(e),this.$Rt&&(this.$Rt.gDt=()=>this.yDt(),this.$Rt.wDt=()=>this.SDt()),"normalized"===this.Ey?n.Cw():(n.Pw(),n.Gw(this.oFt)),this.hC(t.windowInnerWidth,t.windowInnerHeight,!0),await this.T3t()}pDt(t,s){s&&"string"==typeof s.message&&s.message.startsWith("renderer-unavailable")||console.error(`Error creating ${t} renderer: `,s)}async dDt(t){const s={My:this.aFt,Ty:this.lFt},i={powerPreference:this.YRt,depth:this.lf.E9(),failIfMajorPerformanceCaveat:t,vDt:this.lf.FJ(),bDt:this.lf.xDt(),mP:this.lf.MDt()};this.$Rt=M.lr(M.ey.WebGPURenderer,s),await this.$Rt.gM(this.zRt[0].canvas,i)}async mDt(t){const s={alpha:!0,powerPreference:this.YRt,pP:"xbox-uwp-webview2"!==this.lf.PL(),depth:this.lf.E9(),mP:this.lf.MDt(),failIfMajorPerformanceCaveat:t,My:this.aFt,Ty:this.lFt};this.ZRt&&(s.gP=1),this.qRt=M.lr(M.ey.SP,this.zRt[0].canvas,s),await this.qRt.mw()}async TDt(){if(this.bFt){const t=[];for(const[s,i]of Object.entries(this.bFt)){i.src=i._Dt;const e=M.ey.WebGPUShaderProgram.OT();t.push(this.$Rt.bE(Object.assign({dM:e,name:s},i)))}await Promise.all(t)}}async GDt(){if(this.bFt){const s=[];for(const[i,e]of Object.entries(this.bFt)){let t;if(e.IDt&&2<=this.qRt.$b())e.src=e.IDt,t=M.ey.cM.LT();else{if(!e.CDt)throw new Error(`shader '${i}' does not support WebGL 1`);e.src=e.CDt,t=M.ey.cM.OT()}s.push(this.qRt.bE(Object.assign({dM:t,name:i},e)))}await Promise.all(s),this.qRt.xE(),this.qRt.Ww()}this.qRt.OA()&&(this.CFt=M.lr(M.ey.nP,this.qRt))}async T3t(){this.$Rt?await this.TDt():this.qRt&&await this.GDt();const t=this.Jv();t.dv(this.lw),t.OA()&&(this.IFt=0);for(const s of this.lf.PDt()){for(const i of s.Yk())i.T3t(t);s.T3t(t),s.D6()}this.XRt=new self.ZV(this.lf,t)}ur(){this.lf=null,this.qRt=null,this.zRt.length=0}qF(){return this.lf.qF()}aDt(t){const s=this.lf;if(!s.EDt()){const i=t.devicePixelRatio,e=(this.qF()&&(self.devicePixelRatio=i),s.ADt(i),this.wFt=!!t.isFullscreen,this.tFt=t.cssDisplayMode,this.hC(t.innerWidth,t.innerHeight),s.EO(),new M.Event("window-resize")),n=(e.data=t,s.Vf().Kf(e),new M.Event("resize"));n.RDt=this.kL(),n.FDt=this.NL(),n.DDt=this.jL(),n.ODt=this.UL(),s.OX(n),s.LX()&&(s._1t()||self.C3Debugger.IsDebuggerPaused())&&s.CR()}}lDt(t){this.wFt=!!t.isFullscreen,this.hC(t.innerWidth,t.innerHeight,!0),this.lf.EO()}uDt(t){this.wFt=!!t.isFullscreen,this.hC(t.innerWidth,t.innerHeight,!0),this.lf.EO()}hC(t,s,i=!1){if(t=Math.floor(t),s=Math.floor(s),t<=0||s<=0)throw new Error("invalid size");if(this.KRt!==t||this.QRt!==s||i){this.KRt=t,this.QRt=s;const e=this.LDt();"letterbox-scale"===e?this.kDt(t,s):"letterbox-integer-scale"===e?this.BDt(t,s):"off"===e?this.NDt(t,s):this.WDt(t,s),this.jDt(e);for(const{canvas:h}of this.zRt)h.width=this.eFt,h.height=this.nFt;this.lf.ff("canvas","update-size",{marginLeft:this.rFt,marginTop:this.hFt,styleWidth:this.sFt,styleHeight:this.iFt,displayScale:this.Zj()});const n=this.Jv();n.hC(this.eFt,this.nFt,!0);for(const o of this.SFt)n.PA(o);M.Bh(this.SFt),this.VDt();const r=this.lf.nO();r.nY(),r.rY()}}VDt(){this.Jv().Aw(this.mFt,this.TJ()/this._J())}GJ(){return this.mFt}kDt(t,s){const i=this.lf.HL(),e=this.lf.XF(),n=this.lf.ZF(),r=e/n,h=t/s;if(r<h){const o=s*r;this.sFt=Math.round(o),this.iFt=s,this.rFt=Math.floor((t-this.sFt)/2),this.hFt=0}else{const a=t/r;this.sFt=t,this.iFt=Math.round(a),this.rFt=0,this.hFt=Math.floor((s-this.iFt)/2)}this.eFt=Math.round(this.sFt*i),this.nFt=Math.round(this.iFt*i),this.lf.UDt(e,n)}BDt(t,s){let i=this.lf.HL(),e=(1!==i&&(t+=1,s+=1),this.lf.XF()),n=this.lf.ZF(),r=e/n,h=t/s,o;if(r<h){const a=s*r;o=a*i/e}else{const l=t/r;o=l*i/n}1<o?o=Math.floor(o):o<1&&(o=1/Math.ceil(1/o)),this.eFt=Math.round(e*o),this.nFt=Math.round(n*o),this.sFt=this.eFt/i,this.iFt=this.nFt/i,this.rFt=Math.max(Math.floor((t-this.sFt)/2),0),this.hFt=Math.max(Math.floor((s-this.iFt)/2),0),this.lf.UDt(e,n)}WDt(t,s){const i=this.lf.HL(),e=(this.sFt=t,this.iFt=s,this.eFt=Math.round(this.sFt*i),this.nFt=Math.round(this.iFt*i),this.rFt=0,this.hFt=0,this.Zj());this.lf.UDt(this.sFt/e,this.iFt/e)}NDt(t,s){const i=this.lf.HL();this.sFt=this.lf.v9(),this.iFt=this.lf.b9(),this.eFt=Math.round(this.sFt*i),this.nFt=Math.round(this.iFt*i),this.HDt()?(this.rFt=Math.floor((t-this.sFt)/2),this.hFt=Math.floor((s-this.iFt)/2)):(this.rFt=0,this.hFt=0),this.lf.UDt(this.lf.v9(),this.lf.b9())}jDt(i){if("high"===this.gFt)this.K3=this.eFt,this.Q3=this.nFt,this.yFt="high";else{let t,s;if(s="off"===this.LDt()?(t=this.lf.v9(),this.lf.b9()):(t=this.lf.XF(),this.lf.ZF()),this.eFt<t||this.nFt<s)this.K3=this.eFt,this.Q3=this.nFt,this.yFt="high";else if(this.K3=t,this.Q3=s,this.yFt="low","scale-inner"===i){const e=t/s,n=this.KRt/this.QRt;n<e?this.K3=this.Q3*n:e<n&&(this.Q3=this.K3/n)}else if("scale-outer"===i){const r=t/s,h=this.KRt/this.QRt;r<h?this.K3=this.Q3*h:h<r&&(this.Q3=this.K3/h)}}}HO(){return this.lf}zDt(){return this.zRt[0].canvas}Q7(){return this.xFt}HDt(){return this.wFt}JDt(){return this.tFt}qDt(t){if(!Ea.has(t))throw new Error("invalid fullscreen mode");this.cFt=t;const s=this.lf.nO();s.nY(),s.rY()}Xj(){return this.cFt}$Dt(t){if(!Ea.has(t))throw new Error("invalid fullscreen mode");this.fFt=t;const s=this.lf.nO();s.nY(),s.rY()}XDt(){return this.fFt}LDt(){return this.HDt()?this.XDt():this.Xj()}YDt(t){if(!Aa.has(t))throw new Error("invalid fullscreen scaling quality");this.gFt=t,this.lf.nO().nY()}ZDt(){return this.gFt}DJ(){return this.yFt}static KDt(t){switch(t){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw new Error("invalid fullscreen mode")}}Lj(){return this.KRt}kj(){return this.QRt}TJ(){return this.K3}_J(){return this.Q3}dv(t){this.lw=!!t}QDt(t){this.uFt=t}EH(){return this.uFt}tOt(){return this.Jv().OC()}cDt(t){console.log("[Construct] WebGL context lost"),t.preventDefault(),this.SFt=[],this.vFt.clear(),this.xFt.g2(),this.qRt.g2(),this.lf.D$()}yDt(){console.log("[Construct] WebGPU device lost"),this.SFt=[],this.vFt.clear(),this.xFt.g2(),this.lf.D$()}async fDt(t){await this.qRt.w2(),await this.T3t(),await this.lf.sOt(),console.log("[Construct] WebGL context restored")}async SDt(){await this.T3t(),await this.lf.sOt(),console.log("[Construct] WebGPU device restored")}iOt(){return this.qRt}eOt(){return this.$Rt}Jv(){return this.$Rt||this.qRt}FIt(){return this.XRt}RL(){let t="";return t=this.lf.eOt()?"webgpu":"webgl"+this.lf.iOt().$b(),this.lf.Jv().gv()&&(t+="-software"),t}OL(){return this.lf.eOt()?this.lf.eOt().GetAdapterInfoString():this.lf.iOt().HA()}I5(){return"low"===this.yFt?1/this.lf.HL():this.Zj()}Zj(){const t=this.LDt();if("off"===t||"crop"===t)return 1;const s=this.lf.XF(),i=this.lf.ZF(),e=s/i,n=this.eFt/this.nFt;return"scale-inner"!==t&&e<n||"scale-inner"===t&&n<e?this.iFt/i:this.sFt/s}nq(){return"low"===this.DJ()?1:this.Zj()}iq(){return"low"===this.DJ()?1:this.lf.HL()}nOt(t,s){this.dFt=t,this.pFt=s}k8(s,i,e,t=!0){i=i||this.K3,e=e||this.Q3;const n=i/2+this.dFt,r=e/2+this.pFt;if(t){let t=this.GJ();i===this.K3&&e===this.Q3||(s.Aw(Fa,i/e),t=Fa),s.TE(t)}const h=s.Ow(n,r,s.yw(e),n,r,0,e);s.EE(h)}rOt(t,s=!0){const i=this.kL(),e=this.NL(),n=i/2,r=e/2,h=(s&&t.TE(this.GJ()),t.Ow(n,r,t.yw(e),n,r,0,e));t.EE(h)}jL(){return this.eFt}UL(){return this.nFt}kL(){return this.sFt}NL(){return this.iFt}w5(){return this.rFt}S5(){return this.hFt}y$(){return this.zRt.length}hOt(){return"undefined"!=typeof OffscreenCanvas&&this.zDt()instanceof OffscreenCanvas&&("Chromium"!==M.li.yi||124<=M.li.gi)}async N$(e,n=!1){if(e<1)throw new Error("invalid HTML layer count");if(this.zRt.length!==e){let t=this.lf.nO().sO(),s={count:e,layersDomState:t.Yz().filter(t=>t.zB()).map(t=>t.tJ()),immediate:n,marginLeft:this.rFt,marginTop:this.hFt,styleWidth:this.sFt,styleHeight:this.iFt},i;if(i=this.qF()?await this.lf.RO("canvas","set-html-layer-count",s):self.c3_runtimeInterface._OnSetHTMLLayerCount(s),e<this.zRt.length)this.zRt.length=e;else for(const r of i.addedCanvases){r.width=this.eFt,r.height=this.nFt;const h=this.hOt()?"bitmaprenderer":"2d",o=r.getContext(h);if(!o)throw new Error(`failed to acquire '${h}' canvas context`);this.zRt.push({canvas:r,oDt:o})}this.lf.EO()}}RX(t){if(!(t>=this.zRt.length)){const s=this.zDt(),i=this.zRt[t].oDt;this.hOt()?i.transferFromImageBitmap(s.transferToImageBitmap()):(i.globalCompositeOperation="copy",i.drawImage(s,0,0))}}OJ(s){s.depth=this.lf.E9();let t=this.SFt,i=t.findIndex(t=>t.rM(s)),e;return-1!==i?(e=t[i],t.splice(i,1)):e=this.Jv().TA(s),this.vFt.add(e),e}iz(t){if(!this.vFt.has(t))throw new Error("render target not in use");this.vFt.delete(t),this.SFt.push(t)}MFt(){const t={Pb:this.lf.KF()};return"low"===this.DJ()&&(t.width=this.TJ(),t.height=this._J()),this.OJ(t)}TFt(t){this.iz(t)}*oOt(){for(const t of this.lf.nO().sY())for(const s of t.cB()){const i=this.PFt.get(s);i&&(yield i)}}EJ(t){if(!this.Jv().OA())return null;let s=this.PFt.get(t);return s||(s={HN:t,name:t.Kc(),aOt:M.lr(M.ey.nP,this.qRt),lOt:0,uOt:0,cOt:0},this.PFt.set(t,s)),s.aOt}fOt(){const t=this.Jv();if(t.OA()&&0===this.GFt){this.GFt=t.uv(),this.EFt=NaN;for(const s of this.oOt())s.lOt=NaN}}dOt(){this.qRt&&this.qRt.OA()&&this.pOt(),this.$Rt&&this.$Rt.OA()&&this.mOt()}pOt(){if(isNaN(this.EFt)&&(this.EFt=this.CFt.cP(this._Ft,this.GFt),!isNaN(this.EFt))){if(this.lf.LX())for(const t of this.oOt())if(t.lOt=t.aOt.cP(this._Ft,this.GFt),isNaN(t.lOt))return;if(this.CFt.fP(this.GFt),this.IFt=Math.min(this.EFt,1),this.lf.LX()){const i=new Map;for(const n of this.oOt())n.aOt.fP(this.GFt),n.uOt=Math.min(n.lOt,1),i.set(n.HN,n.uOt);for(const r of this.oOt()){const h=r.HN,o=i.get(h)||0,a=o-h.OB().reduce((t,s)=>t+(i.get(s)||0),0);r.cOt=M.gr(a,0,1)}const s=this.lf.sO(),e=this.IFt-s.Yz().reduce((t,s)=>t+(i.get(s)||0),0);self.C3Debugger.UpdateGPUProfile(M.gr(e,0,1),this.IFt,[...this.oOt()])}this._Ft=this.GFt,this.GFt=0}}gOt(){return this.CFt}mOt(){if(0!==this.GFt){for(let t=this._Ft;t<this.GFt;++t){const i=this.AFt.get(t);if(i&&!i.qC())return}let t=this.lf.sO(),h=M.Vo(t.c$()+1,0),s=0;for(let t=this._Ft;t<this.GFt;++t){const o=this.AFt.get(t);if(o){let i=o.$C(),e=BigInt(0),n=BigInt(0),r=BigInt(0);for(let t=0,s=Math.min(h.length,i.length/2);t<s;++t){const u=i[2*t],c=i[2*t+1],f=(u!==r&&(e===r||u<e)&&(e=u),c>n&&(n=c),c-u),d=Number(f)/1e9;h[t]+=d}const a=n-e,l=Number(a)/1e9;s+=l}}if(this.IFt=M.gr(s,0,1),this.lf.LX()){const e=t.cB(),n=new Map;for(let t=0,s=Math.min(e.length,h.length-1);t<s;++t){const g=h[t+1];n.set(e[t],g)}const r=[],p=new Map;for(const[y,w]of n){const S=[...y.kB()].reduce((t,s)=>t+(n.get(s)||0),0);p.set(y,S),r.push({name:y.Kc(),cOt:M.gr(w,0,1),uOt:M.gr(S,0,1)})}const m=this.IFt-t.Yz().reduce((t,s)=>t+(p.get(s)||0),0);self.C3Debugger.UpdateGPUProfile(M.gr(m,0,1),this.IFt,r)}for(let t=this._Ft;t<this.GFt;++t)this.AFt.delete(t);this._Ft=this.GFt,this.GFt=0}}yOt(t){this.AFt.set(this.$Rt.uv(),t)}HD(){return this.IFt}wOt(t,s,i,e,n,r){return this.RFt=t,this.FFt=s,this.DFt.ml(i,e,n,r),this.LFt||(this.LFt=new Promise(t=>{this.kFt=t})),this.LFt}SOt(){if(this.RFt){let t=this.zDt(),s=this.DFt,i=M.gr(Math.floor(s.Ml()),0,t.width),e=M.gr(Math.floor(s.Tl()),0,t.height),n=s.width(),r=(n=0===n?t.width-i:M.gr(Math.floor(n),0,t.width-i),s.height());if(r=0===r?t.height-e:M.gr(Math.floor(r),0,t.height-e),(0!==i||0!==e||n!==t.width||r!==t.height)&&0<n&&0<r){const h=M.Ao(n,r),o=h.getContext("2d");o.drawImage(t,i,e,n,r,0,0,n,r),t=h}M.Ro(t,this.RFt,this.FFt).then(t=>{this.OFt&&URL.revokeObjectURL(this.OFt),this.OFt=URL.createObjectURL(t),this.LFt=null,this.kFt(this.OFt)}),this.RFt="",this.FFt=1}}vOt(){return this.OFt}bOt(t){t?this.BFt++:this.BFt--}xOt(){return 0<this.BFt}MOt(t){const s=this.Jv();if(2===t)this.UFt=M.lr(M.ey.Mv,this.Jv()),this.UFt.LI("Arial"),this.UFt.kI(16),this.UFt.ZI("center"),this.UFt.QI("center"),this.UFt.hC(300,200);else if(0===t){const i=this.lf.TOt();i&&i.C8(s).catch(t=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",t))}else 4===t&&(this._Ot("splash-images/splash-logo.svg").then(t=>{"done"===this.ZFt?s.Hx(t):this.HFt.zFt=t}).catch(t=>console.warn("Failed to load splash image: ",t)),this.GOt("splash-images/splash-poweredby-512.png").then(t=>{"done"===this.ZFt?s.Hx(t):this.HFt.JFt=t}).catch(t=>console.warn("Failed to load splash image: ",t)),this.GOt("splash-images/splash-website-512.png").then(t=>{"done"===this.ZFt?s.Hx(t):this.HFt.qFt=t}).catch(t=>console.warn("Failed to load splash image: ",t)))}async _Ot(t){t=new URL(t,this.lf.IOt()).toString();const s=await M.To(t),i=await this.lf.COt(s,2048,2048);return this.Jv().MA(i,{Fb:"high"})}async GOt(t){t=new URL(t,this.lf.IOt()).toString();const s=await M.To(t);return this.Jv().MA(s,{Fb:"high"})}POt(){this.lf.ff("runtime","hide-cordova-splash")}EOt(){this.NFt=Date.now(),this.lf.Vf().addEventListener("loadingprogress",this.VFt),this.WFt=requestAnimationFrame(()=>this.AOt());const t=this.lf.ROt();3!==t&&this.POt()}async FOt(){const t=this.Jv(),s=(this.jFt=1,this.lf.ROt());4===s&&await this.QFt,this.KFt=null,this.QFt=null,-1!==this.WFt&&(cancelAnimationFrame(this.WFt),this.WFt=-1),this.lf.Vf().removeEventListener("loadingprogress",this.VFt),this.VFt=null,this.UFt&&(this.UFt.ur(),this.UFt=null),this.lf.DOt(),t.dA(),this.HFt.zFt&&(t.Hx(this.HFt.zFt),this.HFt.zFt=null),this.HFt.JFt&&(t.Hx(this.HFt.JFt),this.HFt.JFt=null),this.HFt.qFt&&(t.Hx(this.HFt.qFt),this.HFt.qFt=null),t.fA(0,0,0,0),t.av(),this.ZFt="done",this._Ft=t.uv(),3===s&&this.POt()}AOt(){if(-1!==this.WFt){const t=this.Jv(),s=(t.dA(),this.WFt=-1,this.lf.LF().eH()),i=this.lf.ROt();if(3!==i&&(this.rOt(t),t.fA(0,0,0,0),t.BE(),t.Ww(),t.WE(null)),0===i)this.OOt(s);else if(1===i)this.LOt(s,120,0);else if(2===i)this.kOt(s);else if(3===i)M.Dh();else{if(4!==i)throw new Error("invalid loader style");this.BOt(s)}t.av(),this.WFt=requestAnimationFrame(()=>this.AOt())}}kOt(t){t?this.UFt.YI(1,0,0):this.UFt.YI(.6,.6,.6),this.UFt.df(Math.round(100*this.jFt)+"%");const s=this.sFt/2,i=this.iFt/2,e=(Da.au(s-150,i-100,150+s,100+i),this.Jv());e.WE(this.UFt.Yx()),e.AS(Da,this.UFt.kC())}LOt(t,s,i){const e=this.Jv(),n=(e.Jw(),t?e.LE(1,0,0,1):e.LE(.118,.565,1,1),this.sFt/2),r=this.iFt/2,h=s/2;T.ml(n-h,r-4+i,Math.floor(s*this.jFt),8),e.Rect(T),T.ml(n-h,r-4+i,s,8),T.offset(-.5,-.5),T.Ll(.5,.5),e.LE(0,0,0,1),e.LS(T),T.Ll(1,1),e.LE(1,1,1,1),e.LS(T)}OOt(t){const s=this.Jv(),i=this.lf.TOt();if(i){const e=i.Yx();if(e){const n=e.um(),r=e.Mm(),h=this.sFt/2,o=this.iFt/2,a=n/2,l=r/2;Da.au(h-a,o-l,h+a,o+l),s.WE(e),s.Ql(Da),this.LOt(t,n,16+l)}else this.LOt(t,120,0)}else this.LOt(t,120,0)}BOt(t){let s=this.Jv(),i=this.HFt.zFt,e=this.HFt.JFt,n=this.HFt.qFt,r=Date.now(),h=(0===this.$Ft&&(this.NFt=r),this.lf.NOt()||this.lf.WOt()&&!this.lf.jOt()),o=h?0:200,a=h?0:3e3,l=1,u=("fade-in"===this.ZFt?l=Math.min((r-this.NFt)/300,1):"fade-out"===this.ZFt&&(l=Math.max(1-(r-this.YFt)/300,0)),s.Jw(),s.LE(.231*l,.251*l,.271*l,l),T.set(0,0,this.sFt,this.iFt),s.Rect(T),Math.ceil(this.sFt)),c=Math.ceil(this.iFt),f,d;256<this.iFt?(s.LE(.302*l,.334*l,.365*l,l),f=u,d=Math.max(.005*c,2),T.ml(0,.8*c-d/2,f,d),s.Rect(T),t?s.LE(l,0,0,l):s.LE(.161*l,.953*l,.816*l,l),f=u*this.jFt,T.ml(.5*u-f/2,.8*c-d/2,f,d),s.Rect(T),s.LE(l,l,l,l),s.Ww(),e&&(f=1.5*M.gr(.22*c,105,.6*u),d=f/8,T.ml(.5*u-f/2,.2*c-d/2,f,d),s.WE(e),s.Rect(T)),i&&(f=Math.min(.395*c,.95*u),d=f,T.ml(.5*u-f/2,.485*c-d/2,f,d),s.WE(i),s.Rect(T)),n&&(f=1.5*M.gr(.22*c,105,.6*u),d=f/8,T.ml(.5*u-f/2,.868*c-d/2,f,d),s.WE(n),s.Rect(T))):(s.LE(.302*l,.334*l,.365*l,l),f=u,d=Math.max(.005*c,2),T.ml(0,.85*c-d/2,f,d),s.Rect(T),t?s.LE(l,0,0,l):s.LE(.161*l,.953*l,.816*l,l),f=u*this.jFt,T.ml(.5*u-f/2,.85*c-d/2,f,d),s.Rect(T),s.LE(l,l,l,l),s.Ww(),i&&(f=.55*c,d=f,T.ml(.5*u-f/2,.45*c-d/2,f,d),s.WE(i),s.Rect(T))),this.$Ft++,"fade-in"===this.ZFt&&300<=r-this.NFt&&2<=this.$Ft&&(this.ZFt="wait",this.XFt=r),"wait"===this.ZFt&&r-this.XFt>=a&&1<=this.jFt&&(this.ZFt="fade-out",this.YFt=r),("fade-out"===this.ZFt&&r-this.YFt>=300+o||h&&1<=this.jFt&&r-this.NFt<500)&&this.KFt()}}}{let V=self.Bs,U=self.C3Debugger,i={messagePort:null,runtimeBaseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,exportType:""},h=!0;V.VOt=class extends V.rr{constructor(t){t=Object.assign({},i,t),super(),this.UOt=t.messagePort,this.HOt=t.runtimeBaseUrl,this.zOt=t.previewUrl,this.JOt=!!t.headless,this.qOt=!!t.hasDom,this.$Ot=!!t.isInWorker,h=t.ife,this.XOt=!!t.useAudio,this.YOt=t.exportType,this.ZOt=t.isNWjs,this.hU=!!t.isiOSCordova,this.KOt=!!t.isiOSWebView,this.QOt=!!t.isWindowsWebView2,this.tLt=!!t.isAnyWebView2Wrapper,this.sLt=!!t.isFBInstantAvailable,this.iLt=!("preview"!==this.YOt||!t.isDebug),this.eLt=this.iLt,this.nLt=this.iLt,this.rLt=0,this.hLt=[],this.oLt=[],this.aLt=!1,this.lLt="",this.uLt="",this.cLt="",this.fLt="",this.dLt=0,this.pLt=0,this.oR=self.devicePixelRatio,this.mLt=0,this.gLt=0,this.yLt=0,this.wLt=0,this.SLt=0,this.vLt=!1,this.Bg=!0,this.bLt=!1,this.xLt=!1,this.MLt=!1,this.TLt=null,this.yH=V.lr(V.iU,this,t),this.bq=V.lr(V.NX,this),this.$ft=V.lr(V.z0t,this),this._Lt=V.lr(V.YL,this,t.wrapperComponentIds),this.GLt=V.lr(V.j3t,this),this.wQ=V.lr(V.hY,this),this.ILt=V.lr(V.Llt,this),this.CLt=V.lr(V.Blt,this),this.Klt=V.lr(V.Jlt,this),this.Fg=V.lr(V.bg,{Tg:t=>this.PLt(t),Gg:t=>this.ELt(t)}),this.ALt=new Map,this.RLt=[],this.FLt=new Map,this.DLt=new Map,this.OLt=0,this.LLt=[],this.kLt=new Set,this.BLt=[],this.NLt=[],this.WLt=new Map,this.jLt=!1,this.VLt=!1,this.ULt=0,this.HLt=0,this.zLt=new Map,this.JLt=new Set,this.qLt=new Set,this.$Lt=[],this.XLt=[],this.YLt=null,this.ZLt=!1,this.KLt="vsync",this.Wb="trilinear",this.QLt=!1,this.tkt=!0,this.skt=!1,this.ikt=!1,this.ekt=null,this.nkt={rkt:t=>{this.WFt=-1,this.hkt=-1,this.EZ(t)},okt:t=>{this.hkt=-1,this.EZ(t,!1,"skip-render")},akt:()=>{this.WFt=-1,this.CR()}},this.WFt=-1,this.hkt=-1,this.lkt=0,this.ukt=0,this.ckt=!1,this.fkt=!1,this.dkt=!1,this.pkt=!0,this.mkt=!0,this.gkt=!1,this.ykt=0,this.wkt=new V.md(1),this.Skt=()=>Math.random(),this.vkt=0,this.bkt=0,this.xkt=0,this.Mkt=0,this.Tkt=0,this.ECt=1,this._kt=1/30,this.Gkt=0,this.Ikt=V.lr(V.M0),this.Ckt=V.lr(V.M0),this.Pkt=V.lr(V.M0),this.Ekt=new Map,this.Akt=-1,this.Rkt=0,this.Fkt=0,this.Dkt=-1,this.Okt=0,this.Lkt=0,this.kkt=0,this.Bkt=!1,this.Nkt="",this.Wkt=!1,this.jkt="",this.AN=null,this.Vkt="",this.Ukt=null,this.Hkt=null,this.DGt=V.lr(V.Event.Vf),this.zkt=new Map,this.Jkt=new Map,this.qkt=0,this.$kt=!1,this.Xkt=!1,this.Ykt=!1,this.Zkt=[],this.Kkt={pretick:V.lr(V.Event,"pretick",!1),tick:V.lr(V.Event,"tick",!1),tick2:V.lr(V.Event,"tick2",!1),instancecreate:V.lr(V.Event,"instancecreate",!1),instancedestroy:V.lr(V.Event,"instancedestroy",!1),beforelayoutchange:V.lr(V.Event,"beforelayoutchange",!1),layoutchange:V.lr(V.Event,"layoutchange",!1)},this.Kkt.instancecreate.I6=null,this.Kkt.instancedestroy.I6=null,this.Kq=V.lr(V.Event.Vf),this.Qkt=null;const s=(t,s)=>V.CCt.c3t(this,t,s);this.tBt=V.lr(V.R0,s),this.sBt=V.lr(V.R0,s),this.iBt=V.lr(V.R0,s),this.eBt=V.lr(V.nBt,this,t.jobScheduler),t.canvas&&(this.YLt=V.lr(V.HRt,this)),this.UOt.onmessage=t=>this._OnMessageFromDOM(t.data),this.vN("runtime","visibilitychange",t=>this.rBt(t)),this.vN("runtime","wrapper-extension-message",t=>this.hBt(t)),this.vN("runtime","opus-decode",t=>this.eL(t.arrayBuffer)),this.vN("runtime","get-remote-preview-status-info",()=>this.oBt()),this.vN("runtime","js-invoke-function",t=>this.Sdt(t)),this.vN("runtime","go-to-last-error-script",self.goToLastErrorScript),this.vN("runtime","offline-audio-render-completed",t=>this.aBt(t)),this.DGt.addEventListener("window-blur",t=>this.lBt(t)),this.DGt.addEventListener("window-focus",()=>this.uBt()),this.wQ.WY(),this.CLt.WY(),this.cBt=null,this.fBt=new WeakMap,this.dBt={keyboard:null,fO:null,dO:null,pO:null},this.pBt=new WeakMap,this.mBt=[]}static gM(t){return V.lr(V.VOt,t)}ur(){V.Bh(this.RLt),this.FLt.clear(),this.DLt.clear(),this.bq.ur(),this.bq=null,this.$ft.ur(),this.$ft=null,this._Lt.ur(),this._Lt=null,this.yH.ur(),this.yH=null,this.GLt.ur(),this.GLt=null,this.wQ.ur(),this.wQ=null,this.ILt.ur(),this.ILt=null,this.CLt.ur(),this.CLt=null,this.Klt.ur(),this.Klt=null,this.Fg.ur(),this.Fg=null,this.YLt&&(this.YLt.ur(),this.YLt=null),this.DGt.ur(),this.DGt=null,this.gBt=null}["_OnMessageFromDOM"](t){const s=t.type;if("event"===s)this.yBt(t);else{if("result"!==s)throw new Error(`unknown message '${s}'`);this.wBt(t)}}yBt(t){if(this.Ykt){const s=t.component,i=t.handler,e=t.data,n=t.dispatchOpts,r=!(!n||!n.dispatchRuntimeEvent),h=!(!n||!n.dispatchUserScriptEvent),o=t.responseId;if("runtime"===s){if(r){const l=new V.Event(i);l.data=e,this.DGt.Kf(l)}if(h){const u=new V.Event(i,!0);for(const[c,f]of Object.entries(e))u[c]=f;this.OX(u)}}const a=this.zkt.get(s);if(a){const d=a.get(i);if(d){let t=null;try{t=d(e)}catch(t){return console.error(`Exception in '${s}' handler '${i}':`,t),void(null!==o&&this.SBt(o,!1,""+t))}null!==o&&(t&&t.then?t.then(t=>this.SBt(o,!0,t)).catch(t=>{console.error(`Rejection from '${s}' handler '${i}':`,t),this.SBt(o,!1,""+t)}):this.SBt(o,!0,t))}else r||h||console.warn(`[Runtime] No DOM handler '${i}' for component '${s}'`)}else r||h||console.warn(`[Runtime] No DOM event handlers for component '${s}'`)}else this.Zkt.push(t)}SBt(t,s,i){this.UOt.postMessage({type:"result",responseId:t,isOk:s,result:i})}wBt(t){const s=t.responseId,i=t.isOk,e=t.result,n=this.Jkt.get(s);i?n.resolve(e):n.reject(e),this.Jkt.delete(s)}vN(t,s,i){let e=this.zkt.get(t);if(e||(e=new Map,this.zkt.set(t,e)),e.has(s))throw new Error(`[Runtime] Component '${t}' already has handler '${s}'`);e.set(s,i)}ff(t,s,i,e){this.UOt.postMessage({type:"event",component:t,handler:s,data:i,responseId:null},e)}RO(t,s,i,e){const n=this.qkt++,r=new Promise((t,s)=>{this.Jkt.set(n,{resolve:t,reject:s})});return this.UOt.postMessage({type:"event",component:t,handler:s,data:i,responseId:n},e),r}vV(t,s,i,e=-1){this.ff("runtime","send-wrapper-extension-message",{componentId:t,messageId:s,params:i,asyncId:e})}bV(t,s,i){const e=this.qkt++,n=new Promise((t,s)=>{this.Jkt.set(e,{resolve:t,reject:s})});return this.vV(t,s,i,e),n}hBt(t){if(-1!==t.asyncId){const s=t.asyncId,i=this.Jkt.get(s);i.resolve(t.params),this.Jkt.delete(s)}else this.yBt({component:"wrapper-extension:"+t.componentId,handler:t.messageId,data:t.params,responseId:null})}ON(t,s,i){this.vN("wrapper-extension:"+t,s,i)}FN(t){return this._Lt.FN(t)}vBt(t){if(!this.LX())throw new Error("not in debug mode");this.ff("runtime","post-to-debugger",t)}async FCt(t){V.a2t(this),this.LX()?await U.FCt(this):self.C3Debugger&&self.C3Debugger.InitPreview(this);const[s]=await Promise.all([this.yH.Mo("data.json"),this.bBt(),this.eBt.FCt()]);if(await this.xBt(s),await this.MBt(t),this.NOt()||console.info("%cMade with Construct, the game and animation creation tool. Visit: https://www.construct.net","font-weight: bold"),this.iOt()){const i=this.iOt();console.info(`[C3 runtime] Hosted in ${this.qF()?"worker":"DOM"}, rendering with WebGL ${i.$b()} [${i.HA()}]`)}else this.eOt()&&console.info(`[C3 runtime] Hosted in ${this.qF()?"worker":"DOM"}, rendering with WebGPU [${this.eOt().GetAdapterInfoString()}]`);this.Jv().gv()&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance."),this.Ykt=!0;for(const e of this.Zkt)this.yBt(e);V.Bh(this.Zkt),this.YLt&&this.YLt.EOt();for(const n of t.runOnStartupFunctions)this.hLt.push(this.TBt(n));if(await Promise.all([this.yH.sH(),...this.hLt]),V.Bh(this.hLt),!this.yH.eH())return this.YLt&&await this.YLt.FOt(),await this.DGt.Yf(new V.Event("beforeruntimestart")),await this.dA(),this.UOt.postMessage({type:"runtime-ready"}),this;this.YLt&&this.YLt.POt()}async TBt(t){try{await t(this.cBt)}catch(t){console.error("[C3 runtime] Error in runOnStartup function: ",t)}}async xBt(t){const s=t.project,i=(this.lLt=s[0],this.uLt=s[16],this.cLt=s[31],this.fLt=s[38],s[39]||"loading-logo.png"),e=(this.QLt=!!s[9],this.dLt=this.yLt=s[10],this.pLt=this.wLt=s[11],this.GLt.IRt(this.dLt,this.pLt),this.mLt=this.dLt/2,this.gLt=this.pLt/2,this.KLt=s[37],this.ZLt=!!s[40],this.Wb=s[14],this.bLt=s[15],this.xLt=s[42],this.MLt=s[17],this.vLt=!!s[18],this.SLt=s[19],this.HLt=s[21],this.skt=s[22],this.yH);if(e.RU(s[45]),e.aH(s[7],s[25]),e.DU(s[8]),e.OU(s[32]),e.kU(s[28]),e.rH(s[29]),0===this.SLt){let t;(t="flat"===e.KO()?e.BU()+i:i)&&(this.TLt=e.$U({url:t}))}this.YLt&&(this.YLt.qDt(V.HRt.KDt(s[12])),this.YLt.YDt(s[23]?"high":"low"),this.YLt.dv(0!==s[24]),this.YLt.tDt(s[34]),this.YLt.QDt(s[41]),this.YLt.sDt(s[13]),this.YLt.iDt(s[30]),this.YLt.rDt(s[46],s[47]),this.YLt.nDt(s[26]),this.YLt.hDt(s[48]));const n=s[43],r=(n&&await this._Bt(n),this.GBt(),this._Lt.b_t(),this.$Lt=self.IBt(),s[2]);for(const l of r[1])this._Lt.x_t(l);for(const u of r[0])this._Lt.v_t(u);this.$Lt=self.IBt(),this.CBt(),this._Lt.G_t();for(const c of s[3]){const f=V.Ult.gM(this,this.RLt.length,c);this.RLt.push(f),this.FLt.set(f.Kc().toLowerCase(),f),this.DLt.set(f.Zz(),f)}for(const d of s[4]){const p=this.RLt[d[0]];p.wIt(d)}for(const m of s[27]){const g=m.map(t=>this.RLt[t]);this.LLt.push(V.lr(V.yCt,this,g))}this.PBt();for(const y of this.RLt)y.vIt();for(const w of s[5])this.bq.gM(w);const h=s[1];if(h){const S=this.bq.YX(h);S&&this.bq.$X(S)}for(const v of s[35])this.ILt.gM(v);for(const b of s[33])this.wQ.gM(b);for(const x of s[44])this.CLt.gM(x);this.CLt.jlt()||(this.CLt.ur(),this.CLt=null);for(const M of s[49])this.Klt.gM(M);this.Klt.Ylt()||(this.Klt.ur(),this.Klt=null);for(const T of s[6])this.$ft.gM(T);this.$ft.xdt(),this.EBt(),V.Bh(this.$Lt),this.qk();let o="any",a=s[20];1===a?o="portrait":2===a&&(o="landscape"),this.ff("runtime","set-target-orientation",{targetOrientation:o})}async _Bt(t){const s=t.format;"image-sequence"===s?this.ekt=new self.C3ExportToImageSequence(this,t):"image-sequence-gif"===s?this.ekt=new self.C3ExportToGIF(this,t):"webm"===s?this.ekt=new self.C3ExportToWebMVideo(this,t):"mp4"===s&&(this.ekt=new self.C3ExportToMP4Video(this,t)),this.KLt="unlimited-frame",this.YLt.qDt("off"),this.oR=1,self.devicePixelRatio=1,await this.RO("runtime","set-exporting-to-video",{message:this.ekt.GetExportingMessageForPercent(0),duration:this.ekt.sW()})}ROt(){return this.SLt}EDt(){return null!==this.ekt}ABt(){return this.ekt.sW()}RBt(){return this.ekt.GetFramerate()}FBt(){return this.ekt.FCt({width:this.YLt.jL(),height:this.YLt.UL()})}DBt(){const t=this.lkt/this.RBt();return this.ekt.AddFrame(this.YLt.zDt(),t)}OBt(){this.ekt&&this.ekt.Cit()}aBt(t){this.ekt.OnOfflineAudioRenderCompleted(t)}LBt(){return this.ekt.av()}WOt(){return this.sLt}Ug(){return this.Bg}LO(t){this.hLt.push(t)}j$(t){this.aLt=!!t}kBt(t){this.aLt&&this.oLt.push(t)}q$(){return this.oLt}cIt(){return this.OLt++}xIt(){return this.OLt}v3t(t){this.kLt.add(t)}b3t(t){this.kLt.delete(t)}PDt(){return this.kLt}async MBt(t){this.YLt&&(await this.YLt.Ao(t),this.YLt.MOt(this.SLt))}async bBt(){const n=this.yH;if(!n.NO("audio/webm; codecs=opus")){let t=null,s=n.FU(),i=s+"opus.wasm.js",e=s+"opus.wasm.wasm";try{t=this.BBt()&&n.NU()?await n.jU(e):await n._o(e)}catch(t){return void console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",t)}this.NBt(t,"opus-decoder-wasm"),await this.WBt([i])}}async eL(t){const s=await this.jBt("OpusDecode",{arrayBuffer:t},[t]);return s}async dA(){this.ckt=!0,this.vkt=Date.now();let s=null,t=new Promise(t=>s=t);if(this.vLt){for(const n of this.RLt)n.Vz()||n.AIt()||!n.sk()||n.vMt();(async()=>{await this.yH.sH(),await t,this.Bg=!1,this.VBt()})()}else this.Bg=!1;this.yH.iH(),this.LX()&&U.RuntimeInit(h);for(const r of this.bq.oO())r.fX();this.EDt()&&await this.FBt();const i=this.bq.XX(),e=(await i._$(null,this.Jv()),await i.O$(!0),this.Rkt=performance.now(),s(),this.vLt||this.VBt(),await this.RO("runtime","before-start-ticking"));e.isSuspended&&!this.EDt()?(this.ykt++,this.gkt=!0):this.EZ()}VBt(){this.gN(V.nX.eX.iX.UBt,null,null),this.ff("runtime","register-sw")}Cyt(t){t=Math.floor(t);const s=this.$Lt;if(t<0||t>=s.length)throw new Error("invalid object reference");return s[t]}CBt(){for(const t of self.HBt){const s=V.first(Object.keys(t));this.XLt.push(s)}}Jdt(t){t=Math.floor(t);const s=this.XLt;if(t<0||t>=s.length)throw new Error("invalid prop reference");return s[t]}zBt(){return this.qOt}JBt(){return this.JOt}qF(){return this.$Ot}IOt(){return this.HOt}qBt(){return this.zOt}lD(){return this.$ft}xD(){return this.$ft.xD()}Ldt(){return this.$ft.Ldt()}mD(){return this.$ft.mD()}kdt(){return this.$ft.kdt()}h2t(){return 0===this.Ldt().d0t()}Ndt(){return this.$ft.Ndt()}l3t(){return this._Lt}_wt(){return this._Lt._wt()}wz(t){if((t=Math.floor(t))<0||t>=this.RLt.length)throw new RangeError("invalid index");return this.RLt[t]}$Bt(t){return this.FLt.get(t.toLowerCase())||null}EV(t){return this.DLt.get(t)||null}qnt(t){const s=V.YL.gk(t);return s?s.vk():null}jz(){return this.RLt}*XBt(){for(const t of this.RLt)t.Vz()||(yield*t.instances())}Vf(){return this.DGt}rD(){return this.Kq}OX(t){t.runtime=this.ZL();const s=this.LX()&&!this.$ft.zk();s&&U.StartMeasuringScriptTime(),this.Kq.dispatchEvent(t),s&&U.AddScriptTime()}Q$(t){return t.runtime=this.ZL(),this.Kq.Yf(t)}XF(){return this.dLt}ZF(){return this.pLt}YBt(t,s){if(this.dLt!==t||this.pLt!==s){this.dLt=t,this.pLt=s;const i=this.nO();i.nY(),i.rY()}}v9(){return this.yLt}b9(){return this.wLt}UDt(t,s){if(this.yLt!==t||this.wLt!==s){this.yLt=t,this.wLt=s;const i=this.nO();i.nY(),i.rY()}}ADt(t){this.EDt()||(this.oR=t)}HL(){return this.oR}yJ(){return this.mLt}wJ(){return this.gLt}FL(){return this.YLt}TJ(){return this.YLt?this.YLt.TJ():this.yLt}_J(){return this.YLt?this.YLt._J():this.wLt}I5(){return this.YLt?this.YLt.I5():1}Zj(){return this.YLt?this.YLt.Zj():1}nq(){return this.YLt?this.YLt.nq():1}iq(){return this.YLt?this.YLt.iq():1}w5(){return this.YLt?this.YLt.w5():0}S5(){return this.YLt?this.YLt.S5():0}ZBt(){return this.YLt?this.YLt.kL():0}KBt(){return this.YLt?this.YLt.NL():0}Xj(){return this.YLt?this.YLt.Xj():"off"}OJ(t){return this.YLt?this.YLt.OJ(t):null}iz(t){this.YLt&&this.YLt.iz(t)}FJ(){return this.bLt}xDt(){return this.xLt}MDt(){return this.MLt}HD(){return this.YLt?this.YLt.HD():NaN}Kx(){return"nearest"!==this.KF()}JD(){return this.KLt}qD(t){this.KLt!==t&&(this.KLt=t,-1!==this.WFt||-1!==this.hkt)&&(this.QBt(),this.t5t())}KF(){return this.Wb}mIt(){return this.vLt}TOt(){return this.TLt}DOt(){this.TLt&&(this.TLt.II(),this.TLt.ur(),this.TLt=null)}nO(){return this.bq}sO(){return this.bq.sO()}itt(){return this.wQ}s5t(){return this.ILt}lPt(){return this.CLt}vut(){return this.Klt}LF(){return this.yH}$U(t){return this.yH.$U(t)}jk(t,s,i,e,n,r){if(r&&this.CLt){if(t instanceof V.Ult&&t.Vz()){const o=t.cgt(),a=Math.floor(this.tO()*o.length);return this.jk(o[a],s,i,e,n,r)}const h=this.CLt.Vlt(t,r);if(h){const l=this.Iz(h,s,!1,i,e,!1,n,void 0,n);return this.CLt.Hlt(l,r),l}}return this.Iz(t,s,!1,i,e,!1,n,void 0,n)}Iz(t,s,i,e,n,r,h,o,a){let l=null,u=null;if(t instanceof V.Ult){if((u=t).Vz()){const v=u.cgt(),b=Math.floor(this.tO()*v.length);u=v[b]}l=u.vz()}else l=t,u=this.wz(l[1]);const c=u._k().sk();if(this.Bg&&c&&!u.AIt())return null;const f=s;c||(s=null);let d;d=i&&!r&&l&&!this.zLt.has(l[2])?l[2]:this.HLt++;const p=l?l[0]:null,m=V.lr(V.Instance,{runtime:this,P5:u,HN:s,RCt:p,LCt:l?l[3]:null,uid:d,tags:l?l[6]:null});this.zLt.set(d,m);let g=null,y=(c&&(g=m.MO(),void 0!==e&&void 0!==n&&(g.C2(e),g.A2(n)),u.rCt(!0)),s&&(a||s.Pz(m,!0),s.rO().I$(u)),this.ULt++,!0);if(o){const x=o.E5();if(x.V5()&&u.V5()){const M=u.M$(),T=x.M$();M===T&&(y=!1)}}if(u.V5()&&!i&&!r&&y){const _=new Set;for(const G of u.M$().lX())if(G!==u){const I=this.i5t(G,g,_);if(I){const C=this.Iz(I,f,!1,g?g.I2():e,g?g.E2():n,!0,!1,void 0,a);m.uX(C)}else{const B=this.Iz(G,f,!1,g?g.I2():e,g?g.E2():n,!0,!1,void 0,a);m.uX(B)}}for(const P of m.U5()){P.uX(m);for(const E of m.U5())P!==E&&P.uX(E)}}if(c&&!i&&h&&this.e5t(m,p,g,s,e,n,a),u.V5()&&!i&&!r&&h)for(const A of m.U5()){const R=A.MO();if(R){const N=A._k(),F=A.E5().vz()[0];N.sk()?this.e5t(A,F,R,s,R.I2(),R.E2(),a):this.e5t(A,F,R,s,void 0,void 0,a)}}if(!r&&h){void 0===e&&(e=p[0]),void 0===n&&(n=p[1]);const D=g.x4(),W=e-g.I2()+D.I2(),j=n-g.E2()+D.E2();D.JN(W,j)}u.tCt();const L=l?V.Yh(l[5]):null,k=l?l[4].map(t=>V.Yh(t)):null,w=c&&p&&p[13];if(w&&m.VCt(),m.PIt(L,k),w){const O=p[13];m.g6().kMt(O[2],O[0],O[1])}this.NLt.push(m),this.jLt=!0,this.LX()&&U.InstanceCreated(m);const S=this.Kkt.instancecreate;return S.I6=m,this.DGt.dispatchEvent(S),m}hEt(t){const s=t[0],i=t[1],e=t[2],n=t[6];if(n)return n;const r=this.bq.ZX(s),h=r.TO(i);return h.Mz(e)}i5t(t,s,i){const e=s?.aPt()??[];for(const n of e){const r=this.hEt(n),h=!!n[4],o=this.wz(r[1]);if(!i.has(r)&&t===o&&h)return i.add(r),r}}e5t(a,t,s,l,u,c,f){const i=s.IAt(),e=s.aPt();if(a.MO().CAt(i),e){void 0===u&&(u=t[0]),void 0===c&&(c=t[1]);const d=new Set,p=t[0],m=t[1];for(const g of e){let t=g[0],s=g[1],i=g[2],e=g[3],n=!!g[4],r=g[5],h=g[6],o;if(h)o=h;else{const v=this.bq.ZX(t),b=v.TO(s);o=b.Mz(i)}const y=this.wz(o[1]),w=a.uPt(y),S=d.has(y);if(w&&!S&&n){const x=a.cPt(y),M=(x.MO().FCt(o[0]),u+o[0][0]-p),T=c+o[0][1]-m;x.MO().JN(M,T),x.MO().CAt(r),a.E4(x,{O4:!!(e>>0&1),B4:!!(e>>1&1),W4:!!(e>>2&1),V4:!!(e>>3&1),H4:!!(e>>4&1),Q4:!!(e>>5&1),J4:!!(e>>6&1),X4:!!(e>>7&1),Z4:!!(e>>8&1)}),d.add(y)}else{const _=u+o[0][0]-p,G=c+o[0][1]-m,I=this.Iz(o,l,!1,_,G,!1,!0,a,f);I.MO().CAt(r),a.E4(I,{O4:!!(e>>0&1),B4:!!(e>>1&1),W4:!!(e>>2&1),V4:!!(e>>3&1),H4:!!(e>>4&1),Q4:!!(e>>5&1),J4:!!(e>>6&1),X4:!!(e>>7&1),Z4:!!(e>>8&1)})}}}}k5(i){if(!this.JLt.has(i)){let t=i.E5(),s=this.WLt.get(t);if(s){if(s.has(i))return;s.add(i)}else(s=new Set).add(i),this.WLt.set(t,s);if(this.LX()&&U.InstanceDestroyed(i),i.HCt(),this.jLt=!0,i.V5())for(const e of i.U5())this.k5(e);for(const n of i.children())n.t6()&&this.k5(n);if(!this.bq.Jk()&&!this.Bkt){const r=this.lD();r.Uk(!0),i.bPt(),r.Uk(!1)}i.xPt(this.bq.Jk())}}qk(){this.jLt&&(this.VLt=!0,this.n5t(),this.r5t(),this.VLt=!1,this.jLt=!1,this.EO())}n5t(){for(const t of this.NLt){const s=t.E5();s.Pz(t);for(const i of s.Qdt())i.Pz(t),i.tCt()}V.Bh(this.NLt)}r5t(){this.DGt.Of(!0);for(const[t,s]of this.WLt.entries())this.h5t(t,s),s.clear();this.WLt.clear(),this.DGt.Of(!1)}h5t(t,s){for(const i of s){const e=this.Kkt.instancedestroy,n=(e.I6=i,this.DGt.dispatchEvent(e),this.zLt.delete(i.H5()),this.Ekt.delete(i),i.MO());n&&(n.AAt(),n.Fz(),n.HCt()),this.JLt.add(i),this.ULt--}V.qh(t.Lk(),s),t.tCt(),this.qLt.add(t);for(const r of t.Qdt())V.qh(r.Lk(),s),r.tCt(),this.qLt.add(r);if(t._k().sk()){const h=new Set([...s].map(t=>t.MO().TO()));for(const o of h)o.J9(s)}}iCt(){return this.NLt}*ubt(t){for(const s of this.iCt())t.Vz()?s.E5().o2t(t)&&(yield s):s.E5()===t&&(yield s)}CIt(){return this.HLt++}EIt(t,s){this.zLt.set(t,s)}_V(t){this.mkt!==(t=!!t)&&(this.mkt=!!t,this.mkt)&&this.gkt&&(this.CV(!1),this.gkt=!1)}GV(){return this.mkt}D$(){this.DGt.dispatchEvent(V.lr(V.Event,"renderercontextlost")),this.CV(!0);for(const s of this.RLt)!s.Vz()&&s.RIt()&&s.R$();const t=this.sO();t&&t.D$(),V.P_t.PH(),V.YU.PH()}async sOt(){await this.sO()._$(null,this.Jv()),this.DGt.dispatchEvent(V.lr(V.Event,"renderercontextrestored")),this.CV(!1),this.EO()}rBt(t){if(this.mkt){const s=t.hidden;this.CV(s),(this.gkt=s)||this.EO()}}lBt(t){this.NOt()&&this.skt&&!V.li.vi&&!t.data.parentHasFocus&&(this.CV(!0),this.ikt=!0)}uBt(){this.ikt&&(this.CV(!1),this.ikt=!1)}t5t(){const t=this.nkt;"vsync"===this.KLt?-1===this.WFt&&(this.WFt=self.requestAnimationFrame(t.rkt)):"unlimited-tick"===this.KLt?(-1===this.hkt&&(this.hkt=V.uo(t.okt)),-1===this.WFt&&(this.WFt=self.requestAnimationFrame(t.akt))):-1===this.hkt&&(this.hkt=V.uo(t.rkt))}QBt(){-1!==this.WFt&&(self.cancelAnimationFrame(this.WFt),this.WFt=-1),-1!==this.hkt&&(V.co(this.hkt),this.hkt=-1)}PD(){return 0<this.ykt}CV(t){if(!this.EDt()){const s=this.PD(),i=(this.ykt+=t?1:-1,this.ykt<0&&(this.ykt=0),this.PD());if(!s&&i)console.log("[Construct] Suspending"),this.QBt(),this.DGt.dispatchEvent(V.lr(V.Event,"suspend")),this.gN(V.nX.eX.iX.o5t,null,null);else if(s&&!i){console.log("[Construct] Resuming");const e=performance.now();this.bkt=e,this.Rkt=e,this.Akt=0,this.Fkt=0,this.Dkt=0,this.Okt=0,this.kkt=0,this.Lkt=0,this.DGt.dispatchEvent(V.lr(V.Event,"resume")),this.gN(V.nX.eX.iX.a5t,null,null),this._1t()||this.EZ(e)}}}fV(t){this.tBt.uc(t)}gV(t){this.sBt.uc(t)}pV(t){this.iBt.uc(t)}dV(t){this.tBt.b0(t)}yV(t){this.sBt.b0(t)}mV(t){this.iBt.b0(t)}l5t(){const t=globalThis.aV;this.tBt.fd(!0);for(const s of this.tBt)s instanceof t?s._N():s.EZ();this.tBt.fd(!1)}u5t(){const t=globalThis.aV;this.sBt.fd(!0);for(const s of this.sBt)s instanceof t?s.SV():s.l_t();this.sBt.fd(!1)}c5t(){const t=globalThis.aV;this.iBt.fd(!0);for(const s of this.iBt)s instanceof t?s.IN():s.nTt();this.iBt.fd(!1)}*f5t(){const s=globalThis.aV;this.tBt.fd(!0);for(const i of this.tBt){let t;t=i instanceof s?i._N():i.EZ(),V.jo(t)&&(yield*t)}this.tBt.fd(!1)}*d5t(){const s=globalThis.aV;this.sBt.fd(!0);for(const i of this.sBt){let t;t=i instanceof s?i.SV():i.l_t(),V.jo(t)&&(yield*t)}this.sBt.fd(!1)}*p5t(){const s=globalThis.aV;this.iBt.fd(!0);for(const i of this.iBt){let t;t=i instanceof s?i.IN():i.nTt(),V.jo(t)&&(yield*t)}this.iBt.fd(!1)}async EZ(a,t,s){this.dkt=!0;const l="background-wake"===s,u="background-wake"!==s&&"skip-render"!==s,c=this.nO(),f=this.FL();if(this.ckt&&(!this.PD()||t||l)){let t=performance.now(),s=(this.fkt=!0,this.m5t(a||0),this.Dkt++,this.g5t(),this.y5t()),i=(this.nbt()&&await s,this.DGt.Zf(this.Kkt.pretick)),e=(i instanceof Promise&&await i,this.w5t()),n=(this.nbt()&&await e,this.S5t()&&await this.v5t(),c.lO()&&await this.b5t(),this.x5t()),r=(this.nbt()&&await n,c.sO()),h=r.w$(),o=!1;if(-1!==h&&(r.S$(),f.y$()!==h)){const d=this.FL().N$(h);this.qF()&&(o=!0,await d)}this.ff("canvas","update-html-layer-dom-state",{layersDomState:r.Yz().filter(t=>t.zB()).map(t=>t.tJ())}),u&&this.CR(),o&&this.ff("canvas","cleanup-html-layers"),this.EDt()&&(await this.DBt(),this.FD()>=this.ABt())?this.LBt():(this.PD()||l||this.t5t(),this.lkt++,this.ukt++,this.fkt=!1,this.Lkt+=performance.now()-t)}}async y5t(){const t=this.$ft,s=this.LX();this.qk(),t.Uk(!0),this.d1t(this.sO()),s&&U.StartMeasuringTime(),this.nbt()?await t.J1t():t.j1t(),s&&U.AddEventsTime(),this.p1t(),t.Uk(!1),this.qk(),t.Uk(!0)}async w5t(){const t=this.LX(),s=this.nbt(),i=this.DGt,e=this.Kkt,n=this.Qkt;t&&U.StartMeasuringTime(),s?await this.M5t(this.f5t()):this.l5t(),s?await this.M5t(this.d5t()):this.u5t(),t&&U.AddBehaviorTickTime(),t&&U.StartMeasuringTime(),s?await this.T5t(e.tick):i.dispatchEvent(e.tick),t&&U.AddPluginTickTime(),this.$ft.Uk(!1),this.OX(n.tick)}async x5t(){const t=this.$ft,s=this.DGt,i=this.Kkt,e=this.LX(),n=this.nbt();e&&U.StartMeasuringTime(),n?await t.m1t(this.bq):t.f1t(this.bq),e&&U.AddEventsTime(),this.GLt.tRt(),this.g5t(),this.pkt=!1,t.Uk(!0),e&&U.StartMeasuringTime(),n?await this.M5t(this.p5t()):this.c5t(),e&&U.AddBehaviorTickTime(),e&&U.StartMeasuringTime(),n?await this.T5t(i.tick2):s.dispatchEvent(i.tick2),e&&U.AddPluginTickTime(),t.Uk(!1),n&&await t.G1t()}g5t(){if(0!==this.JLt.size){const t=this.DGt;t.Of(!0);for(const s of this.qLt)s.O1t().Tft(this.JLt);this.qLt.clear(),this.$ft.$1t(this.JLt);for(const i of this.JLt)i.ur();this.JLt.clear(),t.Of(!1)}}async b5t(){let t=this.nO(),s=0;for(;t.lO()&&s++<10;)await this._5t(t.eY())}m5t(t){let s=0;if(this.EDt())s=1/this.RBt(),this.xkt=s,this.Mkt=s;else if(0!==this.bkt){const i=Math.max(t-this.bkt,0);.5<(s=i/1e3)&&(s=0),this.xkt=s,this.Mkt=V.gr(s,this.Gkt,this._kt)}this.bkt=t,this.Tkt=this.Mkt*this.ECt,this.Ikt.uc(this.Tkt),this.Ckt.uc(s*this.ECt),this.Pkt.uc(this.Mkt);for(const[e,n]of this.Ekt)n.uc(this.Mkt*e.LD());this.YLt&&this.YLt.dOt(),1e3<=t-this.Rkt&&(this.Rkt+=1e3,1e3<=t-this.Rkt&&(this.Rkt=t),this.Fkt=this.Akt,this.Akt=0,this.Okt=this.Dkt,this.Dkt=0,this.kkt=Math.min(this.Lkt/1e3,1),this.Lkt=0,this.YLt&&this.YLt.fOt(),this.GLt.Y3t(),this.LX())&&U.Update1sPerfStats()}WCt(t,s){if(s){if(!this.Ekt.has(t)){const i=V.lr(V.M0);i.C0(this.Ikt),this.Ekt.set(t,i)}}else this.Ekt.delete(t)}jCt(t){const s=this.Ekt.get(t);return s?s.ei():this.FD()}async _5t(t){const s=this.DGt,i=this.nO(),e=i.sO();await e.pX(),e.F$(t,this.Jv()),e===t&&this.$ft.yX(),this.GLt.tRt(),this.g5t(),s.dispatchEvent(this.Kkt.beforelayoutchange),V.kf.t0(!0),await t._$(e,this.Jv()),V.kf.t0(!1),await t.O$(!1),s.dispatchEvent(this.Kkt.layoutchange),this.EO(),this.pkt=!0,this.qk(),this.OBt()}EO(){this.tkt=!0}iOt(){return this.YLt?this.YLt.iOt():null}eOt(){return this.YLt?this.YLt.eOt():null}Jv(){return this.YLt?this.YLt.Jv():null}CR(){const i=this.YLt;if(i&&!i.tOt()){const e=this.Jv(),t=e.OA(),n=t&&e.yv(),r=t&&e.Rw();if(n&&e.bA(),this.tkt||this.EDt()){const h=this.bq.sO(),o=(this.Akt++,e.dA(),this.LX());o&&U.StartMeasuringTime(),this.tkt=!1;let t=null,s=(n&&(t=i.gOt().lP(),e.DA(t)),null);r&&(s=e.StartFrameTiming(2*(1+h.c$())),e.StartMeasuringRenderPassTime(0,1)),this.E9()&&"low"===i.DJ()?e.GE(i.TJ(),i._J()):e.IE(),this.G5t(this.Jv(),h),t&&e.LA(t),r&&(e.StopMeasuringRenderPassTime(),this.YLt.yOt(s)),e.av(),o&&(U.AddDrawCallsTime(),U.UpdateInspectHighlight()),i&&i.SOt()}else e.cv()}}IX(t){return"low"===this.FL().DJ()||t.yv()&&(this.FJ()||this.E9())}G5t(s,i){s.Ww(),s.HE(),s.LE(1,1,1,1),s._A(null),s.WE(null),s.mA(this.E9()),this.IX(s)&&i._X(s);const e=i.y$();for(let t=1;t<e;++t)i.AX(s,t),s.Rw()&&s.Restart();this.IX(s)||i._X(s),i.EX(s)}gN(t,s,i){if(!this.ckt)return!1;let e=!this.fkt&&!this.$ft.E1t(),n=0;e&&(n=performance.now());const r=this.LX(),h=(r&&this.VV(!1),this.$ft.S1t(this.bq,t,s,i));if(e){const o=performance.now()-n;this.Lkt+=o,r&&U.AddTriggersTime(o)}return r&&this.VV(!0),h}JMt(t,s,i){if(!this.nbt())return this.gN(t,s,i);if(this._1t())throw new Error("called DebugTrigger() while stopped on breakpoint");if(this.fkt||this.$ft.E1t())return this.$ft.x1t(this.bq,t,s,i);throw new Error("called DebugTrigger() outside of event code - use TriggerAsync() instead")}async wN(t,s,i){if(!this.nbt())return this.gN(t,s,i);if(!this.ckt)return!1;if(this._1t())return this.$ft.M1t(t,s,i);if(!this.sO())return this.$ft.v1t(t,s,i);let e=performance.now(),n=this.$ft.x1t(this.bq,t,s,i),r=n.next();for(;!r.done;)await this.y1t(r.value),r=n.next();return this.PD()||this.$ft.E1t()||(await this.$ft.G1t(),this.dkt&&!this.fkt&&this.t5t()),this.Lkt+=performance.now()-e,r.value}qMt(t,s,i){const e=this.LX(),n=(e&&this.VV(!1),this.$ft.I1t(this.bq,t,s,i));return e&&this.VV(!0),n}$Mt(t,s,i){return this.$ft.C1t(this.bq,t,s,i)}XMt(t){return this.wkt.uc(t)}d1t(t){this.BLt.push(t)}p1t(){if(!this.BLt.length)throw new Error("layout stack empty");this.BLt.pop()}bO(){return this.BLt.length?this.BLt.at(-1):this.sO()}ED(t){return t&&-1!==t.LD()?this.Mkt*t.LD():this.Tkt}CZ(){return this.Tkt}PZ(){return this.Mkt}RD(){return this.xkt}LD(){return this.ECt}kD(t){(isNaN(t)||t<0)&&(t=0),this.ECt=t}YD(t){this.Gkt=Math.max(t,0)}XD(){return this.Gkt}QD(t){this._kt=Math.max(t,0)}KD(){return this._kt}BD(){return this.Fkt}WD(){return this.Okt}VD(){return this.kkt}I5t(){return this.vkt}FD(){return this.Ikt.ei()}C5t(){return this.Ckt.ei()}OD(){return this.Pkt.ei()}_tt(){return this.lkt}P5t(){return this.ukt}E5t(){return this.ULt}UF(){return this.lLt}zF(){return this.uLt}A5t(){return this.cLt}R5t(){return this.fLt}wO(t){if(this.Bkt)throw new Error("cannot call while loading state - wait until afterload event");return this.zLt.get(t)||null}hX(){this.zLt.clear();for(const t of this.RLt)if(!t.Vz())for(const s of t.Lk())this.zLt.set(s.H5(),s)}NOt(){return"preview"===this.YOt}LX(){return this.iLt}PL(){return this.YOt}EL(){return"nwjs"===this.PL()||this.ZOt}jOt(){return"cordova"===this.YOt}F5t(){return"Android"===V.li.ci&&("cordova"===this.YOt||"playable-ad-single-file"===this.YOt||"playable-ad-zip"===this.YOt||"instant-games"===this.YOt)}BBt(){return this.hU}D5t(){return this.KOt}AL(){return this.QOt}O5t(){return this.tLt}NF(){return this.GLt}I_t(){return this._Lt.I_t()}C_t(){return this._Lt.C_t()}E9(){return this.ZLt}L5t(){return this.Jv().bw(this.b9())}yw(t){return this.Jv().yw(t||this.b9())}k5t(){return this.pkt}B5t(t){this.QLt!==(t=!!t)&&(this.QLt=t,this.nO().rY(),this.EO())}tD(){return this.QLt}N5t(t){if(!this.ALt.has(t)){const i=()=>this.W5t(t);this.ALt.set(t,i),t.Vf().addEventListener("animationframeimagechange",i)}const s=this.Fg.Ig(t);return s.Vg()||s.Hg().then(()=>this.EO()),s}W5t(t){this.Fg.Ag(t)}PLt(t){const s=[];for(const i of t.HIt())for(const e of i.q6()){const n=e.tW();s.push({source:e,width:n.um(),height:n.Mm(),tag:e.SW()})}return{Wg:s}}async ELt(t){const s=V.lr(V.md),i=[],n=new Map;for(const h of t.HIt())for(const o of h.q6()){const a=o.tW().X_t();n.has(a)||(n.set(a,null),i.push(s.uc(async()=>{const t=await a.FH();n.set(a,t)})))}await Promise.all(i);const e=[];for(const l of t.HIt())for(const u of l.q6())e.push(s.uc(async()=>{const t=u.tW(),s=n.get(t.X_t()),i=await t.Y_t(s),e=await createImageBitmap(i);return{Jg:e}}));const r=await Promise.all(e);for(const c of n.values())c instanceof ImageBitmap&&c.close&&c.close();return{Wg:r}}j5t(t){this.Nkt=t,this.Wkt=!1}V5t(){this.Nkt="",this.Wkt=!0}U5t(t){this.jkt=t}Zbt(t){this.AN=t}H5t(){return this.Vkt}S5t(){return!!(this.Nkt||this.Wkt||this.jkt||null!==this.AN)}async v5t(){if(this.Nkt&&(this.qk(),await this.z5t(this.Nkt),this.J5t()),this.jkt&&(await this.q5t(this.jkt),this.J5t(),this.LX())&&U.StepIfPausedInDebugger(),this.Wkt){const t=await this.$5t();this.Vkt=t,await this.wN(V.nX.eX.iX.X5t,null),this.Vkt="",this.J5t()}if(null!==this.AN){this.qk();try{await this.Y5t(this.AN),this.Vkt=this.AN,await this.wN(V.nX.eX.iX.Z5t,null),this.Vkt=""}catch(t){console.error("[Construct] Failed to load state from JSON string: ",t),await this.wN(V.nX.eX.iX.K5t,null)}this.J5t()}}J5t(){this.Nkt="",this.Wkt=!1,this.jkt="",this.AN=null}JL(){return this.Ukt||(this.Ukt=localforage.ki({name:"c3-localstorage-"+this.A5t(),description:this.UF()})),this.Ukt}Q5t(){return this.Hkt||(this.Hkt=localforage.ki({name:"c3-savegames-"+this.A5t(),description:this.UF()})),this.Hkt}async z5t(t){const s=await this.$5t();try{await this.Q5t().setItem(t,s),console.log("[Construct] Saved state to storage ("+s.length+" chars)"),this.Vkt=s,await this.wN(V.nX.eX.iX.X5t,null),this.Vkt=""}catch(t){console.error("[Construct] Failed to save state to storage: ",t),await this.wN(V.nX.eX.iX.tNt,null)}}async q5t(t){try{const s=await this.Q5t().getItem(t);if(!s)throw new Error("empty slot");console.log("[Construct] Loaded state from storage ("+s.length+" chars)"),await this.Y5t(s),this.Vkt=s,await this.wN(V.nX.eX.iX.Z5t,null),this.Vkt=""}catch(t){console.error("[Construct] Failed to load state from storage: ",t),await this.wN(V.nX.eX.iX.K5t,null)}}async $5t(){const t={c3save:!0,version:1,rt:{time:this.FD(),timeRaw:this.C5t(),walltime:this.OD(),timescale:this.LD(),tickcount:this._tt(),next_uid:this.HLt,running_layout:this.sO().Zz(),start_time_offset:Date.now()-this.vkt},types:{},layouts:{},events:this.$ft.mq(),timelines:this.wQ.mq(),user_script_data:null};for(const i of this.RLt)i.Vz()||i.fCt()||(t.types[i.Zz().toString()]=i.mq());for(const e of this.bq.oO())t.layouts[e.Zz().toString()]=e.mq();const s=this.sNt("save");return s.saveData=null,await this.Q$(s),t.user_script_data=s.saveData,JSON.stringify(t)}$$(){return this.Bkt}async Y5t(t){const s=this.nO(),i=JSON.parse(t);if(i.c2save)throw new Error("C2 saves are incompatible with C3 runtime");if(!i.c3save)throw new Error("not valid C3 save data");if(1<i.version)throw new Error("C3 save data from future version");this.Kbt(),this.DGt.dispatchEvent(V.lr(V.Event,"beforeload"));for(const a of this.XBt()){const l=a.E5();l.fCt()||a.RY()}let e=i.rt,n=(this.Ikt.Set(e.time),e.hasOwnProperty("timeRaw")&&this.Ckt.Set(e.timeRaw),this.Pkt.Set(e.walltime),this.ECt=e.timescale,this.lkt=e.tickcount,this.vkt=Date.now()-e.start_time_offset,e.running_layout),r=!(this.Bkt=!0);if(n!==this.sO().Zz()){const u=s.ZX(n);if(!u)return;await this._5t(u),r=!0}for(const[c,f]of Object.entries(i.layouts)){const d=parseInt(c,10),p=s.ZX(d);p&&p.gq(f)}const h=new Set;for(const[m,g]of Object.entries(i.types)){const y=parseInt(m,10),w=this.EV(y);!w||w.Vz()||w.fCt()||w.gq(g,h)}for(const S of this.bq.oO())for(const v of S.fB())v.yq();if(this.qk(),this.hX(),this.Bkt=!1,r){for(const b of this.XBt())b.X$();for(const[x,M]of Object.entries(i.types)){const T=parseInt(x,10),_=this.EV(T);!_||_.Vz()||_.fCt()||_.mCt(M)}}this.HLt=e.next_uid,this.$ft.gq(i.events);for(const G of this.RLt)if(!G.Vz()&&G.V5())for(const I of G.Lk()){const C=I.aX();for(const P of G.M$().lX())if(P!==G){const E=P.Lk();if(C<0||C>=E.length)throw new Error("missing sibling instance");I.uX(E[C])}}this.wQ.gq(i.timelines),s.nY(),s.rY();for(const A of h)A.vPt();this.Qbt(),this.DGt.dispatchEvent(V.lr(V.Event,"afterload")),this.OX(this.sNt("afterload"));for(const[R,F]of Object.entries(i.types)){const D=parseInt(R,10),O=this.EV(D);O&&O.pCt()}const o=this.sNt("load");o.saveData=i.user_script_data,await this.Q$(o),this.EO()}iNt(t,s){return t.MO().xAt()-s.MO().xAt()}a3t(t,s){t.MO()&&!this.pBt.has(t)&&(this.pBt.set(t,s),this.mBt.push(t))}Kbt(){this.pBt=new WeakMap,V.Bh(this.mBt)}Qbt(t="full",s=null){this.mBt.sort(this.iNt);for(const i of this.mBt)i.DY(this.pBt.get(i),t,s);for(const e of this.mBt)e._Pt(this.pBt.get(e),t,s);this.Kbt()}async WBt(t){const s=await Promise.all(t.map(async t=>{const s=this.jOt()&&this.yH.NU();if(s||"playable-ad-single-file"===this.PL()){const i=await this.yH.To(t);return URL.createObjectURL(i)}return new URL(t,location.href).toString()}));this.eBt.eNt(s)}nNt(t,s){this.eBt.rNt(t,s)}NBt(t,s){this.eBt.hNt(t,s)}jBt(t,s,i,e){return this.eBt.jBt(t,s,i,null,null,e)}oNt(t,s,i,e){return this.eBt.oNt(t,s,i,e)}aNt(){return this.eBt.lNt()}gO(t,s){this.ff("runtime","invoke-download",{url:t,filename:s})}async COt(t,s,i,e,n,r){if(e=e||s,n=n||i,this.qF()){const h=await this.RO("runtime","raster-svg-image",{blob:t,imageWidth:s,imageHeight:i,surfaceWidth:e,surfaceHeight:n,imageBitmapOpts:r});return h.imageBitmap}{const o=await self.C3_RasterSvgImageBlob(t,s,i,e,n);return r?self.createImageBitmap(o,r):o}}async uNt(t){return this.qF()?this.RO("runtime","get-svg-image-size",{blob:t}):self.C3_GetSvgImageSize(t)}cNt(){this.$kt||(this.$kt=!0,this.ff("runtime","enable-device-orientation"))}fNt(){this.Xkt||(this.Xkt=!0,this.ff("runtime","enable-device-motion"))}tO(){return this.Skt()}dNt(t){this.Skt=t}oBt(){const t=this.Jv();return{fps:this.BD(),tps:this.WD(),cpu:this.VD(),gpu:this.HD(),layout:this.sO()?this.sO().Kc():"",renderer:t.yv()?t.HA():t.GetAdapterInfoString()}}_1t(){return!!this.LX()&&U._1t()}y1t(t){return this.nbt()?U.y1t(t):Promise.resolve()}Qgt(){return!!this.nbt()&&U.BreakNext()}pNt(t){this.eLt=!!t,this.mNt()}gNt(){return this.eLt}nbt(){return this.nLt}VV(t){t?this.rLt--:this.rLt++,this.mNt()}mNt(){this.nLt=this.LX()&&this.eLt&&0===this.rLt}ymt(){return this.LX()&&U.ymt()}PJ(){return this.LX()&&this.Jv().OA()&&U.PJ()}async M5t(t){if(t)for(const s of t)await this.y1t(s)}T5t(t){return this.M5t(this.DGt.Qf(t))}Sdt(t){return this.$ft.Sdt(t.name,t.params)}DO(t){if(this.qF())throw new Error("not supported in worker mode");return self.c3_runtimeInterface._GetHTMLWrapElement(t)}ZL(){return this.cBt}sNt(t){const s=V.lr(V.Event,t,!1);return s.runtime=this.cBt,s}GBt(){this.cBt=new self.FF(this),this.Qkt={tick:this.sNt("tick")}}PBt(){const t={};for(const s of this.RLt)t[s.Jdt()]={value:s.Sk(),enumerable:!0,writable:!1};this.cBt.hD(t)}EBt(){const t={};for(const s of this.lD().t1t())t[s.Jdt()]=s.qdt();this.cBt.oD(t)}cO(){return this.dBt}Gk(t,s){this.fBt.set(t,s)}mB(t){return this.fBt.get(t)}bL(t){if(!(t instanceof self.Mk))throw new TypeError("expected IObjectClass");const s=this.mB(t);if(s&&s instanceof V.Ult)return s;throw new Error("invalid IObjectClass")}Fk(t){if(!(t instanceof self.C5))throw new TypeError("expected IInstance");const s=this.mB(t);if(s&&s instanceof V.Instance)return s;throw new Error("invalid IInstance")}xO(t){if(!(t instanceof self.c6))throw new TypeError("expected IWorldInstance");const s=this.mB(t);if(s&&s instanceof V.Instance)return s;throw new Error("invalid IInstance")}},self.C3_CreateRuntime=V.VOt.gM,self.C3_InitRuntime=(t,s)=>t.FCt(s)}{const Oa=self.Bs;Oa.nBt=class extends Oa.rr{constructor(t,s){super(),this.lf=t,this.yNt=new Map,this.wNt=0,this.SNt=s.inputPort,s.outputPort.onmessage=t=>this.vNt(t),this.bNt=s.maxNumWorkers,this.xNt=1,this.MNt=!1,this.TNt=!1}async FCt(){}lNt(){return this.bNt}eNt(t){this.SNt.postMessage({type:"_import_scripts",scripts:t})}rNt(t,s){this.SNt.postMessage({type:"_send_blob",blob:t,id:s})}hNt(t,s){this.SNt.postMessage({type:"_send_buffer",buffer:t,id:s},[t])}jBt(t,s,i,e,n,r){if(i=i||[],"number"==typeof r&&(r=Math.floor(r))<=0)throw new Error("invalid maxWorkerNum");const h=this.wNt++,o={type:t,isBroadcast:!1,maxWorkerNum:r,jobId:h,params:s,transferables:i},a=new Promise((t,s)=>{this.yNt.set(h,{resolve:t,progress:e,reject:s,_Nt:!1,maxWorkerNum:r})});return n&&n.S0(()=>this.GNt(h)),this.SNt.postMessage(o,i),this.INt(),a}oNt(t,s,i,e){if(i=i||[],"number"==typeof e&&(e=Math.floor(e))<=0)throw new Error("invalid maxWorkerNum");const n=this.wNt++,r={type:t,isBroadcast:!0,maxWorkerNum:e,jobId:n,params:s,transferables:i};this.SNt.postMessage(r,i)}GNt(t){const s=this.yNt.get(t);s&&(s._Nt=!0,s.resolve=null,s.progress=null,s.reject=null,this.SNt.postMessage({type:"_cancel",jobId:t}))}vNt(t){const s=t.data,i=s.type,e=s.jobId;switch(i){case"result":this.CNt(e,s.result);break;case"progress":this.PNt(e,s.progress);break;case"error":this.ENt(e,s.error);break;case"ready":this.ANt();break;default:throw new Error(`unknown message from worker '${i}'`)}}CNt(t,s){const i=this.yNt.get(t);if(!i)throw new Error("invalid job ID");i._Nt||i.resolve(s),this.yNt.delete(t)}PNt(t,s){const i=this.yNt.get(t);if(!i)throw new Error("invalid job ID");!i._Nt&&i.progress&&i.progress(s)}ENt(t,s){const i=this.yNt.get(t);if(!i)throw new Error("invalid job ID");i._Nt||i.reject(s),this.yNt.delete(t)}ANt(){this.MNt&&(this.MNt=!1,this.xNt++,this.xNt<this.bNt?this.INt():this.SNt.postMessage({type:"_no_more_workers"}))}RNt(){let t=0,s=[...this.yNt.values()].sort((t,s)=>{const i=t.maxWorkerNum||1/0,e=s.maxWorkerNum||1/0;return i-e});for(const i of s){const e=i.maxWorkerNum||1/0;t<e&&t++}return t}async INt(){if(!(this.xNt>=this.bNt||this.MNt||this.TNt||this.RNt()<=this.xNt))try{this.MNt=!0;const t=await this.lf.RO("runtime","create-job-worker");t.outputPort.onmessage=t=>this.vNt(t)}catch(t){this.TNt=!0,this.MNt=!1,console.error(`[Construct] Failed to create job worker; stopping creating any more (created ${this.xNt} so far)`,t)}}}}self.C3_Shaders={},self.C3_Shaders.skymen_BetterOutline={CDt:"uniform lowp vec3 outlinecolor;\nuniform lowp float width;\nuniform lowp float precisionStep;\nuniform lowp float samples;\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform mediump vec2 srcOriginStart;\nuniform mediump vec2 srcOriginEnd;\nuniform mediump vec2 layoutStart;\nuniform mediump vec2 layoutEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nuniform mediump float seconds;\nuniform mediump vec2 pixelSize;\nuniform mediump float layerScale;\nuniform mediump float layerAngle;\n#define PI 3.14159265359\n#define SAMPLES 96\n#define PASSES 64\nvoid main(void)\n{\nmediump float outlineAlpha = 0.0;\nmediump vec2 actualWidth;\nmediump float widthCopy = width;\nmediump vec4 color = vec4(outlinecolor.x, outlinecolor.y, outlinecolor.z, 1.0);\nmediump float angle;\nmediump vec2 layoutSize = abs(vec2(layoutEnd.x-layoutStart.x,(layoutEnd.y-layoutStart.y)));\nmediump vec2 texelSize = abs(srcOriginEnd-srcOriginStart)/layoutSize;\nmediump vec4 fragColor;\nmediump vec2 testPoint;\nmediump float sampledAlpha;\nint passes = int(clamp(width / precisionStep, 1.0, float(PASSES)));\nfor (int j=0; j<PASSES; j++) {\nif (j >= passes ) break;\nwidthCopy = mix(0.0, width, float(j)/float(passes));\nactualWidth = widthCopy * texelSize;\nangle = 0.0;\nfor( int i=0; i<SAMPLES; i++ ){\nif (i >= int(samples)) break;\nangle += 1.0/(clamp(samples, 0.0, float(SAMPLES))/2.0) * PI;\ntestPoint = vTex + actualWidth * vec2(cos(angle), sin(angle));\nsampledAlpha = texture2D( samplerFront,  testPoint ).a;\noutlineAlpha = max( outlineAlpha, sampledAlpha );\n}\n}\nfragColor = mix( vec4(0.0), color, outlineAlpha );\nmediump vec4 tex0 = texture2D( samplerFront, vTex );\ngl_FragColor = mix(fragColor, tex0, tex0.a);\n}",IDt:"#version 300 es\nin mediump vec2 vTex;\nout lowp vec4 outColor;\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision lowp float;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform mediump vec2 srcOriginStart;\nuniform mediump vec2 srcOriginEnd;\nuniform mediump vec2 layoutStart;\nuniform mediump vec2 layoutEnd;\nuniform lowp sampler2D samplerBack;\nuniform lowp sampler2D samplerDepth;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nuniform highmedp float seconds;\nuniform mediump vec2 pixelSize;\nuniform mediump float layerScale;\nuniform mediump float layerAngle;\nuniform mediump float devicePixelRatio;\nuniform mediump float zNear;\nuniform mediump float zFar;\nuniform lowp vec3 outlinecolor;\nuniform lowp float width;\nuniform lowp float precisionStep;\nuniform lowp float samples;\n#define PI 3.14159265359\n#define SAMPLES 96\n#define PASSES 64\nvoid main(void)\n{\nmediump float outlineAlpha = 0.0;\nmediump vec2 actualWidth;\nmediump float widthCopy = width;\nmediump vec4 color = vec4(outlinecolor.x, outlinecolor.y, outlinecolor.z, 1.0);\nmediump float angle;\nmediump vec2 layoutSize = abs(vec2(layoutEnd.x-layoutStart.x,(layoutEnd.y-layoutStart.y)));\nmediump vec2 texelSize = abs(srcOriginEnd-srcOriginStart)/layoutSize;\nmediump vec4 fragColor;\nmediump vec2 testPoint;\nmediump float sampledAlpha;\nint passes = int(clamp(width / precisionStep, 1.0, float(PASSES)));\nint sampleCount = int(clamp(samples, 0.0, float(SAMPLES)));\nfor (int j = 0; j <= passes; j++) {\nwidthCopy = mix(0.0, width, float(j)/float(passes));\nactualWidth = widthCopy * texelSize;\nangle = 0.0;\nfor( int i = 0; i < sampleCount; i++ ) {\nangle += 1.0/(float(sampleCount)/2.0) * PI;\ntestPoint = vTex + actualWidth * vec2(cos(angle), sin(angle));\nsampledAlpha = texture( samplerFront,  testPoint ).a;\noutlineAlpha = max( outlineAlpha, sampledAlpha );\n}\n}\nfragColor = mix( vec4(0.0), color, outlineAlpha );\nmediump vec4 tex0 = texture( samplerFront, vTex );\noutColor = mix(fragColor, tex0, tex0.a);\n}",_Dt:"%%FRAGMENTINPUT_STRUCT%%\n/* input struct contains the following fields:\nfragUV : vec2<f32>\nfragPos : vec4<f32>\nfn c3_getBackUV(fragPos : vec2<f32>, texBack : texture_2d<f32>) -> vec2<f32>\nfn c3_getDepthUV(fragPos : vec2<f32>, texDepth : texture_depth_2d) -> vec2<f32>\n*/\n%%FRAGMENTOUTPUT_STRUCT%%\n%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\noutlinecolor : vec3<f32>,\nwidth : f32,\nprecisionStep : f32,\nsamples : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3PARAMS_STRUCT%%\n/* c3Params struct contains the following fields:\nsrcStart : vec2<f32>,\nsrcEnd : vec2<f32>,\nsrcOriginStart : vec2<f32>,\nsrcOriginEnd : vec2<f32>,\nlayoutStart : vec2<f32>,\nlayoutEnd : vec2<f32>,\ndestStart : vec2<f32>,\ndestEnd : vec2<f32>,\ndevicePixelRatio : f32,\nlayerScale : f32,\nlayerAngle : f32,\nseconds : f32,\nzNear : f32,\nzFar : f32,\nisSrcTexRotated : u32\nfn c3_srcToNorm(p : vec2<f32>) -> vec2<f32>\nfn c3_normToSrc(p : vec2<f32>) -> vec2<f32>\nfn c3_srcOriginToNorm(p : vec2<f32>) -> vec2<f32>\nfn c3_normToSrcOrigin(p : vec2<f32>) -> vec2<f32>\nfn c3_clampToSrc(p : vec2<f32>) -> vec2<f32>\nfn c3_clampToSrcOrigin(p : vec2<f32>) -> vec2<f32>\nfn c3_getLayoutPos(p : vec2<f32>) -> vec2<f32>\nfn c3_srcToDest(p : vec2<f32>) -> vec2<f32>\nfn c3_clampToDest(p : vec2<f32>) -> vec2<f32>\nfn c3_linearizeDepth(depthSample : f32) -> f32\n*/\n/*\nfn c3_premultiply(c : vec4<f32>) -> vec4<f32>\nfn c3_unpremultiply(c : vec4<f32>) -> vec4<f32>\nfn c3_grayscale(rgb : vec3<f32>) -> f32\nfn c3_getPixelSize(t : texture_2d<f32>) -> vec2<f32>\nfn c3_RGBtoHSL(color : vec3<f32>) -> vec3<f32>\nfn c3_HSLtoRGB(hsl : vec3<f32>) -> vec3<f32>\n*/\nconst PI:f32 = 3.14159265359;\nconst SAMPLES:i32 = 96;\nconst PASSES:i32 = 64;\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar outlineAlpha: f32 = 0.0;\nvar actualWidth: vec2<f32>;\nvar widthCopy: f32 = shaderParams.width;\nvar color: vec4<f32> = vec4<f32>(shaderParams.outlinecolor.x, shaderParams.outlinecolor.y, shaderParams.outlinecolor.z, 1.0);\nvar angle: f32;\nlet layoutSize: vec2<f32> = abs(vec2<f32>(c3Params.layoutEnd.x - c3Params.layoutStart.x, c3Params.layoutEnd.y - c3Params.layoutStart.y));\nlet texelSize: vec2<f32> = abs(c3Params.srcOriginEnd - c3Params.srcOriginStart) / layoutSize;\nvar fragColor: vec4<f32>;\nvar testPoint: vec2<f32>;\nvar sampledAlpha: f32;\nlet passes: u32 = u32(clamp(shaderParams.width / shaderParams.precisionStep, 1.0, f32(SAMPLES)));\nlet sampleCount: u32 = u32(clamp(shaderParams.samples, 0.0, f32(SAMPLES)));\nfor (var j: u32 = 0u; j <= passes; j = j + 1u) {\nwidthCopy = mix(0.0, shaderParams.width, f32(j) / f32(passes));\nactualWidth = widthCopy * texelSize;\nangle = 0.0;\nfor (var i: u32 = 0u; i < sampleCount; i = i + 1u) {\nangle = angle + 1.0 / (f32(sampleCount) / 2.0) * PI;\ntestPoint = input.fragUV + actualWidth * vec2<f32>(cos(angle), sin(angle));\nsampledAlpha = textureSample(textureFront, samplerFront, testPoint).a; // Assuming 'samplerFrontSampler' is the sampler associated with 'samplerFront'\noutlineAlpha = max(outlineAlpha, sampledAlpha);\n}\n}\nfragColor = mix( vec4(0.0), color, outlineAlpha );\nvar tex0 : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV );\nvar output : FragmentOutput;\noutput.color = mix(fragColor, tex0, tex0.a);\nreturn output;\n}",jv:!1,Uv:!1,Iv:50,Pv:50,Av:!0,Fv:!0,Ov:!1,kv:!1,Nv:!1,parameters:[["outlinecolor",0,"color"],["width",0,"float"],["precisionStep",0,"float"],["samples",0,"float"]]};{let S=function(t,s){const i=t[1],e=s[1];if("number"==typeof i&&"number"==typeof e)return i-e;{const n=""+i,r=""+e;return n<r?-1:r<n?1:0}},v=(S,self.Bs),i=null,e="",n="",r=[],h="",o="",a="",b=v.lr(v.H0t);v.nX.eX=class extends v.Zxt{constructor(t){super(t),this.N0t=this.lf.lD().WV(),this._ft=this.lf.lD().xD(),this.FNt=0,this.DNt=0,this.ONt=new Map}ur(){super.ur()}EO(){this.lf.EO()}gN(t){this.lf.gN(t,null,null)}LNt(t,s){return i&&t===e&&s===n||(i=new RegExp(t,s),e=t,n=s),i.lastIndex=0,i}kNt(t,s,i){if(t!==h||s!==o||i!==a){const e=this.LNt(s,i);r=t.match(e),h=t,o=s,a=i}return r}async BNt(t,s){if(s.length){this.FNt+=s.length;const i=[];for(const e of s)i.push(t.I$(e));await v.ho(i,()=>{this.DNt++}),this.DNt++,this.DNt===this.FNt&&(this.DNt=0,this.FNt=0,this.lf.gN(v.nX.eX.iX.NNt,null,null))}}WNt(t,s){for(const i of s)0===i.Nk()&&t.A$(i)}jNt(){return b}VNt(s){const i=this.lf.lD(),t=i.xD(),e=t.BV(),n=e.mD(),r=n.kV(),h=e._0t(),o=t.NV(n),a=i.WV(),l=a.NV();if(l.V0t(s),h)for(let t=0;t<s&&!l.XV();++t)i.HV(r),l.qV(t),n.zV(e,o),i.JV(r);else for(let t=0;t<s&&!l.XV();++t)l.qV(t),n.zV(e,o);return t.YV(),a.YV(),!1}*UNt(s){const i=this.lf.lD(),t=i.xD(),e=t.BV(),n=e.mD(),r=n.kV(),h=e._0t(),o=t.NV(n),a=i.WV(),l=a.NV();if(l.V0t(s),h)for(let t=0;t<s&&!l.XV();++t)i.HV(r),l.qV(t),yield*n.uyt(e,o),i.JV(r);else for(let t=0;t<s&&!l.XV();++t)l.qV(t),yield*n.uyt(e,o);return t.YV(),a.YV(),!1}HNt(){const s=this.lf.lD(),t=s.xD(),i=t.BV(),e=i.mD(),n=e.kV(),r=i._0t(),h=t.NV(e),o=s.WV(),a=o.NV();if(r)for(let t=0;!a.XV();++t)s.HV(n),a.qV(t),e.zV(i,h)||a.xW(),s.JV(n);else for(let t=0;!a.XV();++t)a.qV(t),e.zV(i,h)||a.xW();return t.YV(),o.YV(),!1}*zNt(){const s=this.lf.lD(),t=s.xD(),i=t.BV(),e=i.mD(),n=e.kV(),r=i._0t(),h=t.NV(e),o=s.WV(),a=o.NV();if(r)for(let t=0;!a.XV();++t){s.HV(n),a.qV(t);const l=yield*e.uyt(i,h);l||a.xW(),s.JV(n)}else for(let t=0;!a.XV();++t){a.qV(t);const u=yield*e.uyt(i,h);u||a.xW()}return t.YV(),o.YV(),!1}JNt(t,s,i){const e=this.lf.lD(),n=e.xD(),r=n.BV(),h=r.mD(),o=h.kV(),a=r._0t(),l=n.NV(h),u=e.WV(),c=u.NV();if(c.jV(t),c.V0t(i),i<s)if(a)for(let t=s;t>=i&&!c.XV();--t)e.HV(o),c.qV(t),h.zV(r,l),e.JV(o);else for(let t=s;t>=i&&!c.XV();--t)c.qV(t),h.zV(r,l);else if(a)for(let t=s;t<=i&&!c.XV();++t)e.HV(o),c.qV(t),h.zV(r,l),e.JV(o);else for(let t=s;t<=i&&!c.XV();++t)c.qV(t),h.zV(r,l);return n.YV(),u.YV(),!1}*qNt(t,s,i){const e=this.lf.lD(),n=e.xD(),r=n.BV(),h=r.mD(),o=h.kV(),a=r._0t(),l=n.NV(h),u=e.WV(),c=u.NV();if(c.jV(t),c.V0t(i),i<s)if(a)for(let t=s;t>=i&&!c.XV();--t)e.HV(o),c.qV(t),yield*h.uyt(r,l),e.JV(o);else for(let t=s;t>=i&&!c.XV();--t)c.qV(t),yield*h.uyt(r,l);else if(a)for(let t=s;t<=i&&!c.XV();++t)e.HV(o),c.qV(t),yield*h.uyt(r,l),e.JV(o);else for(let t=s;t<=i&&!c.XV();++t)c.qV(t),yield*h.uyt(r,l);return n.YV(),u.YV(),!1}$Nt(i){const t=i.kk(),s=t.Lk();if(0!==s.length){const e=this.lf.lD(),n=e.xD(),r=n.BV(),h=r.mD(),o=h.kV(),a=r._0t(),l=n.NV(h),u=e.WV(),c=u.NV(),f=i.V5(),d=b.NV();if(v.Vh(d,s),c.V0t(d.length),a)for(let t=0,s=d.length;t<s&&!c.XV();++t){e.HV(o);const p=d[t];i.kk().Nft(p),f&&p.Mmt(),c.qV(t),h.zV(r,l),e.JV(o)}else{t.Lft(!1);const m=t.kft();v.Bh(m),m.push(null);for(let t=0,s=d.length;t<s&&!c.XV();++t){const g=d[t];m[0]=g,f&&g.Mmt(),c.qV(t),h.zV(r,l)}}n.YV(),u.YV(),v.Bh(d),b.YV()}return!1}*XNt(i){const t=i.kk(),s=t.Lk();if(0!==s.length){const e=this.lf.lD(),n=e.xD(),r=n.BV(),h=r.mD(),o=h.kV(),a=r._0t(),l=n.NV(h),u=e.WV(),c=u.NV(),f=i.V5(),d=b.NV();if(v.Vh(d,s),c.V0t(d.length),a)for(let t=0,s=d.length;t<s&&!c.XV();++t){e.HV(o);const p=d[t];i.kk().Nft(p),f&&p.Mmt(),c.qV(t),yield*h.uyt(r,l),e.JV(o)}else{t.Lft(!1);const m=t.kft();v.Bh(m),m.push(null);for(let t=0,s=d.length;t<s&&!c.XV();++t){const g=d[t];m[0]=g,f&&g.Mmt(),c.qV(t),yield*h.uyt(r,l)}}n.YV(),u.YV(),v.Bh(d),b.YV()}return!1}YNt(i,t){const s=i.kk(),e=s.Lk();if(0!==e.length){const n=this.lf.lD(),r=n.xD(),h=n.kdt(),o=r.BV(),a=o.mD(),l=a.kV(),u=o._0t(),c=r.NV(a),f=n.WV(),d=f.NV(),p=i.V5(),m=b.NV();v.Bh(m),d.V0t(e.length);for(let t=0,s=e.length;t<s;++t)m.push([e[t],h._vt(1,t)]);if(m.sort(S),1===t&&m.reverse(),u)for(let t=0,s=m.length;t<s&&!d.XV();++t){n.HV(l);const g=m[t][0];i.kk().Nft(g),p&&g.Mmt(),d.qV(t),a.zV(o,c),n.JV(l)}else{s.Lft(!1);const y=s.kft();v.Bh(y),y.push(null);for(let t=0,s=m.length;t<s&&!d.XV();++t){const w=m[t][0];y[0]=w,p&&w.Mmt(),d.qV(t),a.zV(o,c)}}r.YV(),f.YV(),v.Bh(m),b.YV()}return!1}*ZNt(i,t){const s=i.kk(),e=s.Lk();if(0!==e.length){const n=this.lf.lD(),r=n.xD(),h=n.kdt(),o=r.BV(),a=o.mD(),l=a.kV(),u=o._0t(),c=r.NV(a),f=n.WV(),d=f.NV(),p=i.V5(),m=b.NV();v.Bh(m),d.V0t(e.length);for(let t=0,s=e.length;t<s;++t)m.push([e[t],h._vt(1,t)]);if(m.sort(S),1===t&&m.reverse(),u)for(let t=0,s=m.length;t<s&&!d.XV();++t){n.HV(l);const g=m[t][0];i.kk().Nft(g),p&&g.Mmt(),d.qV(t),yield*a.uyt(o,c),n.JV(l)}else{s.Lft(!1);const y=s.kft();v.Bh(y),y.push(null);for(let t=0,s=m.length;t<s&&!d.XV();++t){const w=m[t][0];y[0]=w,p&&w.Mmt(),d.qV(t),yield*a.uyt(o,c)}}r.YV(),f.YV(),v.Bh(m),b.YV()}return!1}KNt(t,s){let i=this.ONt.get(t);if(!i){if(!s)return null;i={QNt:null,t4t:new Map},this.ONt.set(t,i)}return i}s4t(t,s,i,e,n){s.dD().Gyt(i,s.wD()),e&&t.JV(n)}*i4t(t,s,i,e,n){yield*s.dD().Iyt(i,s.wD()),e&&t.JV(n)}}}{const La=self.Bs;La.nX.eX.fIt=class extends La.rr{constructor(t){super(),this.yft=t,this.lf=t.HO(),this.LMt=t._k()}vMt(){}ur(){this.yft=null,this.lf=null,this.LMt=null}}}{const ka=self.Bs;ka.nX.eX.Instance=class extends ka.rr{constructor(t,s){super(),this._i=t,this.yft=this._i.E5(),this.VMt=this.yft.i2t(),this.lf=this._i.HO()}ur(){this._i=null,this.yft=null,this.VMt=null,this.lf=null}}}{const _=self.Bs,Ba=[];_.nX.eX.iX={e4t(){return!0},sX(){return!0},mX(){return!0},o5t(){return!0},a5t(){return!0},PD(){return this.lf.PD()},ogt(){const t=this.lf.Ldt();return!t.v0t()&&!t.w0t()},n4t(){let t=this.lf.kdt(),s=t.fvt(),i=s.get("TriggerOnce_lastTick");void 0===i&&(i=-1,s.set("TriggerOnce_lastTick",-1));const e=this.lf._tt();return s.set("TriggerOnce_lastTick",e),this.lf.k5t()||i!==e-1},r4t(t){const s=this.lf.kdt(),i=s.fvt(),e=i.get("Every_lastTime")||0,n=this.lf.FD(),r=(i.has("Every_seconds")||i.set("Every_seconds",t),i.get("Every_seconds"));return e+r<=n?(i.set("Every_lastTime",e+r),n>=i.get("Every_lastTime")+.04&&i.set("Every_lastTime",n),i.set("Every_seconds",t),!0):(n<e-.1&&i.set("Every_lastTime",n),!1)},Mpt(t){const s=this.lf.lD().n1t(t);return s&&s.Mpt()},NOt(){return this.lf.NOt()},vi(){return _.li.vi},UBt(){return!0},h4t(){return!0},o4t(){return!0},X5t(){return!0},tNt(){return!0},Z5t(){return!0},K5t(){return!0},a4t(t){return!!this.lf.wO(t)},l4t(t){switch(t){case 0:return"browser"===_.li.wi;case 1:return"iOS"===_.li.ci;case 2:return"Android"===_.li.ci;case 8:return"cordova"===_.li.wi;case 9:return"scirra-arcade"===this.lf.PL();case 10:return"nwjs"===_.li.wi;case 13:return"windows-uwp"===this.lf.PL();default:return!1}},u4t(t,s,i){const e=this.LNt(s,i);return e.test(t)},c4t(t,s,i){return _.compare(t,s,i)},f4t(t,s,i){return s<=t&&t<=i},d4t(t,s,i){return _.compare(t.vet(),s,i)},p4t(t){return!!t.vet()},m4t(t,s){const i=this.lf.FD();if(0!==t)return _.compare(i,t,s);{const e=this.lf.kdt(),n=e.fvt();return!n.get("CompareTime_executed")&&s<=i&&(n.set("CompareTime_executed",!0),!0)}},g4t(t){return isNaN(t)},vxt(t,s,i){return _._r(_.Sr(t),_.Sr(i))<=_.Sr(s)},bxt(t,s){return _.Ir(_.Sr(t),_.Sr(s))},R2t(t,s,i){let e=_.Sr(t),n=_.Sr(s),r=_.Sr(i),h=!_.Ir(r,n);return h?!(!_.Ir(e,n)&&_.Ir(e,r)):_.Ir(e,n)&&!_.Ir(e,r)},y4t(t,s){return"number"==typeof t?0===s:1===s},w4t(t){return!!t},spt(t){return t.toLowerCase()===this.lf.lD().rpt()},S4t(t,i,e,n){if(!t)return!1;let s=this.jNt(),r=s.NV(),h=t.kk(),o=(_.Vh(r,h.Lk()),h.Pft()&&_.Bh(h.Bft()),this.lf.kdt()),a=0;for(let t=0,s=r.length;t<s;++t){const u=r[t];r[a]=u,i=o._vt(1,t),n=o._vt(3,t),_.compare(i,e,n)?++a:h.Oft(u)}_.kh(r,a),h.Wft(r);const l=!!r.length;return _.Bh(r),s.YV(),t.Syt(),l},v4t(t,s){if(!t)return!1;let i=this.jNt(),e=i.NV(),n=t.kk(),r=(_.Vh(e,n.Lk()),n.Pft()&&_.Bh(n.Bft()),this.lf.kdt()),h=0;for(let t=0,s=e.length;t<s;++t){const a=e[t];e[h]=a,r._vt(1,t)?++h:n.Oft(a)}_.kh(e,h),n.Wft(e);const o=!!e.length;return _.Bh(e),i.YV(),t.Syt(),o},b4t(t,i,e){if(!t)return!1;const s=t.kk(),n=s.Lk();if(0===n.length)return!1;let r=this.lf.kdt(),h=null,o=0;for(let t=0,s=n.length;t<s;++t){const a=n[t];e=r._vt(2,t),(null===h||0===i&&e<o||1===i&&e>o)&&(o=e,h=a)}return s.zft(h),t.Syt(),!0},x4t(t,s){if(!t)return!1;const i=t.kk(),e=i.Lk();if((s=Math.floor(s))>=e.length)return!1;const n=e[s];return i.zft(n),t.Syt(),!0},M4t(t){if(!t)return!1;const s=t.kk(),i=s.Lk(),e=Math.floor(this.lf.tO()*i.length);if(e>=i.length)return!1;const n=i[e];return s.zft(n),t.Syt(),!0},T4t(t){if(!t)return!1;if(!t.Nk())return!1;const s=t.kk();return s.Lft(!0),t.Syt(),!0},_4t(t,i,e){if(!t)return!1;const n=t.kk(),s=n.Lk(),r=this.lf.mD(),h=r.Jft(),o=this.lf.kdt().ovt();n.Pft()?(_.Vh(Ba,s),n.Cft(),n.Lft(!1)):h?(_.Vh(Ba,n.Bft()),_.Bh(n.Bft())):(_.Vh(Ba,n.kft()),_.Bh(n.kft()));for(let t=0,s=Ba.length;t<s;++t){const a=Ba[t];_.xor(a.MO().S4(i,e),o)?n.Dft(a):n.Oft(a)}return t.Syt(),_.xor(!!n.kft().length,o)},G4t(s){if(!s)return!1;let i=s.Vz(),e=null,n=this.lf.iCt();for(let t=n.length-1;0<=t;--t){const r=n[t];if(i){if(r.E5().o2t(s)){e=r;break}}else if(r.E5()===s){e=r;break}}if(!e){const h=s.Lk();h.length&&(e=h.at(-1))}if(!e)return!1;const t=s.kk();return t.zft(e),s.Syt(),!0},I4t(t){return this.lf.nbt()?this.UNt(t):this.VNt(t)},C4t(){return this.lf.nbt()?this.zNt():this.HNt()},P4t(t,s,i){return this.lf.nbt()?this.qNt(t,s,i):this.JNt(t,s,i)},dd(t){return this.lf.nbt()?this.XNt(t):this.$Nt(t)},E4t(t,s,i){return this.lf.nbt()?this.ZNt(t,i):this.YNt(t,i)},A4t(t){return!!t&&t.jB()},R4t(t){return!!t&&t.$B()},F4t(t){return!!t&&t.zB()},D4t(t){return!!t&&!t.Nk()},O4t(t,s,i){return!!t&&_.compare(100*t.OE(),s,i)},L4t(t){const s=this.lf.sO();return!!s&&s.f$(t)},NNt(){return!0},k4t(){return 0<this.FNt},B4t(t,s){const i=this.lf.lPt();return!!i&&!!s&&!!i.Vlt(t,s)}}}{let m=function(t,s){const i=t[0],e=s[0],n=i-e;if(0!=n)return n;const r=t[1],h=s[1];return r-h},g=function(t,s){return t[1]-s[1]};m,g;const Na=self.Bs,Wa=[],ja=[],Va=Na.lr(Na.Rect),Ua=Na.lr(Na.Uo),Ha=[];Na.nX.eX.$nt={N4t(t,s){t.int(s)},W4t(t,s){t.me()&&"number"!=typeof s&&(s=parseFloat(s)),t.int(t.vet()+s)},j4t(t,s){t.me()&&t.int(t.vet()-s)},V4t(t,s){t.int(!!s)},U4t(t){t.int(!t.vet())},H4t(t){t.int(t.Odt())},z4t(t){this.lf.lD().i1t(t)},J4t(t,s,i,e,n,r){if(t&&s){const h=this.lf.jk(t,s,i,e,n,r);if(h){n&&s.Vk(h);const o=this.lf.lD(),a=(o.Uk(!0),h.Hk(),o.Uk(!1),new Map);h.tPt(a,t,n);for(const[l,u]of a)l.kk().jft(u)}}},q4t(t,s,i,e,n,r){if(t&&s){const h=this.lf.$Bt(t);h&&Na.nX.eX.$nt.J4t.call(this,h,s,i,e,n,r)}},Wz(n,r,h,o,a,t,l,u,c,f,d){if(n){let s=this.lf.bO(),i=s;if(t){const p=this.lf.nO().YX(t);if(!p)return;i=p}let e=null;if(!("number"!=typeof l||0<=l)||(e=i.TO(l))){let t=null;if(!("number"!=typeof u||0<=u)||(t=s.TO(u))){Va.set(r,h,o,a);const m=i.Wz(n,Va,e,t,c,f,d);n.kk().Wft(m),n.Syt()}}}},$4t(){const t=this.N0t;t.O0t()&&t.F0t().xW()},Tpt(t,s){const i=this.lf.lD().n1t(t);i&&(0===s?i.Tpt(!1):1===s?i.Tpt(!0):i.Tpt(!i.Mpt()))},X4t(t){this.lf.kD(t)},Y4t(t,s){if(s<0&&(s=0),t){const i=t.kk(),e=i.Lk();for(const n of e)n.kD(s)}},Z4t(t){if(t){const s=t.kk(),i=s.Lk();for(const e of i)e.Y5()}},Rh(t){if(!(t<0))return this.lf.lD().B1t().Hxt(t),!0},ID(t){return this.lf.lD().B1t().zxt(t),!0},K4t(){const t=this.lf.lD();return t.B1t().Jxt(t.tpt()),!0},_D(t){this.lf.lD()._D(t)},async wOt(t,s,i,e,n,r){const h=this.lf.FL();h&&(this.EO(),await h.wOt(0===t?"image/png":"image/jpeg",s/100,i,e,n,r),await this.lf.wN(Na.nX.eX.iX.h4t,null))},Q4t(t,s){if(!(t<=0||s<=0)){this.lf.UDt(t,s),this.lf.bO().hq();const i=this.lf.FL();i&&("off"!==i.LDt()&&this.lf.YBt(t,s),i.hC(i.Lj(),i.kj(),!0),this.lf.EO())}},t6t(t){const s=this.lf.FL();s&&"off"!==s.LDt()&&(s.YDt(0!==t?"high":"low"),s.hC(s.Lj(),s.kj(),!0))},Oit(t){this.lf.j5t(t)},s6t(){this.lf.V5t()},i6t(t){this.lf.U5t(t)},e6t(t){this.lf.Zbt(t)},n6t(t){},r6t(){for(const t of this.lf.nO().oO())t.TX()},h6t(t){this.lf.B5t(0!==t)},o6t(t,s){this.lf.QD(1/t),this.lf.YD(1/s)},a6t(t,s){this.lf.YD(t),this.lf.QD(s)},l6t(t){this.lf.qD(["vsync","unlimited-tick","unlimited-frame"][t])},u6t(t,i){if(t){const s=t.kk(),e=s.Lk(),n=Wa,r=ja,h=this.lf.bO(),o=t.Vz(),a=t.Vwt();for(let t=0,s=e.length;t<s;++t){const l=e[t],u=l.MO();if(u){let t;t=o?l.jrt(i+l.E5().jwt(a)):l.jrt(i),n.push([u.TO().RF(),u._O()]),r.push([l,t])}}if(n.length){n.sort(m),r.sort(g);let i=!1;for(let t=0,s=n.length;t<s;++t){const c=r[t][0],f=h.GO(n[t][0]),d=n[t][1],p=f.IO();p[d]!==c&&((p[d]=c).MO().CO(f,!0),f.PO(c),i=!0)}i&&this.lf.EO(),Na.Bh(Wa),Na.Bh(ja)}}},yL(t,s){t=Math.floor(t),s=Math.floor(s),t<=0||s<=0||!Number.isFinite(t)||!Number.isFinite(s)||this.lf.NF().yL(t,s)},c6t(t){if(!this.lf.Ug()){const s=this.lf.nO();s.lO()||s.uO(t)}},f6t(t){if(!this.lf.Ug()){const s=this.lf.nO();if(!s.lO()){const i=s.YX(t);i&&s.uO(i)}}},d6t(t){if(!this.lf.Ug()){const s=this.lf.nO();if(!s.lO()){const i=s.oO(),e=i.indexOf(s.sO());if((!t||0!==e)&&(t||e!==i.length-1)){const n=i[e+(t?-1:1)];s.uO(n)}}}},p6t(){if(!this.lf.Ug()){const t=this.lf.nO();t.lO()||(t.uO(t.sO()),this.lf.lD().a1t())}},m6t(t,s){t&&t.NB(s)},g6t(t,s){t&&t.UB(s)},y6t(t,s){t&&t.JB(s)},w6t(t,s){t&&t.kE(s/100)},S6t(t,s){t&&t.XB(s)},v6t(t,s){t&&t.ZB(s)},b6t(t,s){t&&t.sB(Na.Sr(+s))},x6t(t,s,i){t&&(t.d5(!0),t.eB(s),t.rB(i))},M6t(t){t&&t.d5(!1)},T6t(t,s,i){t&&t.x9(s/100,i/100)},_6t(t,s){t&&t.F2(+s)},G6t(t,s){if(t){Ua.Ma(s),Ua.gr();const i=t.f5();i.fa(Ua)||(i.ea(Ua),this.EO())}},I6t(t,s){t&&t.h5(s)},C6t(t,s){t&&t.d2(s)},P6t(t,s,i){if(t){const e=t.Xk(),n=e.Cnt(i);if(n){const r=1===s;n.pmt()!==r&&(n.G3t(r),t.D6(),this.lf.EO())}}},E6t(t,s,i,e){if(t){const n=t.Xk(),r=n.Cnt(s);if(r){i=Math.floor(i);const h=r.mT().yT(i);if(h){"color"===h?(Ua.Ma(e),e=Ua):"percent"===h&&(e/=100);const o=n.L6(r.RF(),i,e);o&&r.pmt()&&this.lf.EO()}}}},A6t(t,s){t&&t.l5(s)},R6t(t){this.lf.bO().Qk(+t)},F6t(t){this.lf.bO().sB(Na.Sr(+t))},D6t(t,s){const i=this.lf.bO(),e=i.Xk(),n=e.Cnt(s);if(n){const r=1===t;n.pmt()!==r&&(n.G3t(r),i.D6(),this.lf.EO())}},O6t(t,s,i){const e=this.lf.bO(),n=e.Xk(),r=n.Cnt(t);if(r){s=Math.floor(s);const h=r.mT().yT(s);if(h){"color"===h?(Ua.Ma(i),i=Ua):"percent"===h&&(i/=100);const o=n.L6(r.RF(),s,i);o&&r.pmt()&&this.lf.EO()}}},L6t(t,s){const i=this.lf.bO();i.TB(t/100,s/100)},k6t(t){const s=this.lf.bO();0===t?s.IB():s.CB()},B6t(t){const s=this.lf.bO();s.eB(t)},N6t(t){const s=this.lf.bO();s.rB(t)},W6t(t,s){const i=this.lf.bO();i.eB(t),i.rB(s)},j6t(t){if(t){const s=t.$2t();if(s){const i=s.MO();if(i){const e=this.lf.bO();e.eB(i.I2()),e.rB(i.E2())}}}},gB(t,s,i){const e=this.lf.bO();try{e.gB(t,s,i)}catch(t){console.warn("[Construct] Cannot add layer: ",t)}},wB(t,s,i){if(t){const e=this.lf.bO();try{e.wB(t,s,i)}catch(t){console.warn("[Construct] Cannot move layer: ",t)}}},vB(t){if(t){const s=this.lf.bO();s.vB(t)}},xB(){this.lf.bO().xB()},async V6t(t){const s=this.lf.sO();if(s&&t&&!this.lf.Ug()){const i=t.Vz()?t.cgt():[t];await this.BNt(s,i)}},async U6t(t){await Na.nX.eX.$nt.V6t.call(this,this.lf.$Bt(t))},H6t(t){const s=this.lf.sO();if(s&&t){const i=t.Vz()?t.cgt():[t];this.WNt(s,i)}},z6t(t){Na.nX.eX.$nt.H6t.call(this,this.lf.$Bt(t))},J6t(){const t=this.lf.sO();if(t){const s=t.T$();this.WNt(t,s)}},async q6t(t){const s=this.lf.sO();t&&s&&!this.lf.Ug()&&await this.BNt(s,t.b$())},async $6t(t){const s=this.lf.sO(),i=this.lf.nO().YX(t);i&&s&&!this.lf.Ug()&&await this.BNt(s,i.b$())},TD(t){const s=this._ft.bD();if(s)switch(s.MD()){case 1:"number"==typeof t&&s.TD(t);break;case 2:"string"==typeof t&&s.TD(t);break;case 3:s.TD(t)}},X6t(t,s,i){const e=this.KNt(t.toLowerCase(),!0),n=e.t4t,r=s.toLowerCase(),h=(n.has(r)&&console.warn(`[Construct] Function map '${t}' string '${s}' already in map; overwriting entry`),Na.first(n.values())||e.QNt);if(h){const o=0!==h.SD(),a=0!==i.SD();if(o!=a)return void console.error(`[Construct] Function map '${t}' string '${s}' function return type not compatible with other functions in the map; entry ignored`)}n.set(r,i)},Y6t(t,s){const i=this.KNt(t.toLowerCase(),!0),e=(i.QNt&&console.warn(`[Construct] Function map '${t}' already has a default; overwriting entry`),Na.first(i.t4t.values())||i.QNt);if(e){const n=0!==e.SD(),r=0!==s.SD();if(n!=r)return void console.error(`[Construct] Function map '${t}' default: function return type not compatible with other functions in the map; entry ignored`)}i.QNt=s},Z6t(t,s,i){const e=this.lf,n=e.nbt()?Ha:null,r=(i=Math.floor(i),this.KNt(t.toLowerCase(),!1));if(!r)return console.warn(`[Construct] Call mapped function: map name '${t}' not found; call ignored`),n;let h=r.t4t.get(s.toLowerCase());if(!h){if(!r.QNt)return console.warn(`[Construct] Call mapped function: no function associated with map '${t}' string '${s}'; call ignored (consider setting a default)`),n;h=r.QNt,i=0}if(!h.Zu())return n;if(0!==h.SD())return console.warn(`[Construct] Call mapped function: map '${t}' string '${s}' has a return type so cannot be called`),n;const o=e.lD(),a=o.mD(),l=a.pD(),u=0<l.length,c=(u&&(h.wD()?o.HV(l):o.L1t(l)),[]),f=o.Ept(a);if(f){const p=f.Rpt();for(let t=i,s=p.length;t<s;++t)c.push(p[t].vet())}const d=h.Rpt();for(let t=c.length,s=d.length;t<s;++t)c.push(d[t].Odt());return e.nbt()?this.i4t(o,h,c,u,l):this.s4t(o,h,c,u,l)}}}{const I=self.Bs;I.nX.eX.Xnt={K6t:function(t){return"string"==typeof t&&(t=parseInt(t,10),isNaN(t))&&(t=0),Math.floor(t)},float:function(t){return"string"==typeof t&&(t=parseFloat(t),isNaN(t))?0:t},O(t){return t.toString()},Jt(t){return"string"==typeof t?t.length:0},random(t,s){return void 0===s?this.lf.tO()*t:this.lf.tO()*(s-t)+t},Gwt(...t){const s=Math.floor(this.lf.tO()*t.length);return t[s]},Q6t(t,...s){return"number"!=typeof t&&(t=0),s[t=I.gr(Math.floor(t),0,s.length-1)]},pi(){return Math.PI},tWt(){return 1/0},sqrt(t){return Math.sqrt(t)},abs(t){return Math.abs(t)},round(t){return Math.round(t)},sWt(t,s){s=Math.max(Math.floor(s),0);const i=Math.pow(10,s);return Math.round((t+Number.EPSILON)*i)/i},floor(t){return Math.floor(t)},ceil(t){return Math.ceil(t)},sign(t){return Math.sign(t)},sin(t){return Math.sin(I.Sr(t))},cos(t){return Math.cos(I.Sr(t))},tan(t){return Math.tan(I.Sr(t))},asin(t){return I.vr(Math.asin(t))},acos(t){return I.vr(Math.acos(t))},atan(t){return I.vr(Math.atan(t))},exp(t){return Math.exp(t)},Kt(t){return Math.log(t)},log10(t){return Math.log10(t)},max(...i){let e=i[0];"number"!=typeof e&&(e=0);for(let s=1,t=i.length;s<t;++s){let t=i[s];"number"==typeof t&&e<t&&(e=t)}return e},min(...i){let e=i[0];"number"!=typeof e&&(e=0);for(let s=1,t=i.length;s<t;++s){let t=i[s];"number"==typeof t&&e>t&&(e=t)}return e},gr(t,s,i){return I.gr(t,s,i)},Et(t,s,i,e){return I.br(t,s,i,e)},angle(t,s,i,e){return I.vr(I.Tr(t,s,i,e))},Lt(t,s,i){return I.Lt(t,s,i)},Rr(t,s,i){return I.Rr(t,s,i)},Dr(t,s,i,e){return I.Dr(t,s,i,e)},Or(t,s,i,e,n){return I.Or(t,s,i,e,n)},Lr(t,s,i){return I.Lr(t,s,i)},iWt(t,s){return I.vr(I._r(I.Sr(t),I.Sr(s)))},eWt(t,s,i){return I.vr(I.Cr(I.Sr(t),I.Sr(s),i))},nWt(t,s,i){return I.vr(I.Gr(I.Sr(t),I.Sr(s),I.Sr(i)))},rWt(t,s,i){return(t|=0)&~(1<<(s|=0))|(i=0!==i?1:0)<<s},hWt(t,s){return(t|=0)^1<<(0|s)},oWt(t,s){return(t|=0)&1<<(0|s)?1:0},aWt(){return"\n"},lWt(t){return"string"==typeof t?t.toUpperCase():""},uWt(t){return"string"==typeof t?t.toLowerCase():""},left(t,s){return"string"==typeof t?t.substr(0,s):""},mid(t,s,i){return"string"!=typeof t?"":i<0?t.substr(s):t.substr(s,i)},right(t,s){return"string"==typeof t?t.substr(Math.max(t.length-s,0)):""},trim(t){return"string"==typeof t?t.trim():""},cWt(t,s,i){if("string"!=typeof t||"string"!=typeof i)return"";let e=t.split(i);return(s=Math.floor(s))<0||s>=e.length?"":e[s]},fWt(t,s){return"string"==typeof t&&"string"==typeof s&&t.length?t.split(s).length:0},find(t,s){return"string"==typeof t&&"string"==typeof s?t.search(new RegExp(I.fe(s),"i")):-1},dWt(t,s){return"string"==typeof t&&"string"==typeof s?t.search(new RegExp(I.fe(s),"")):-1},replace(t,s,i){return"string"==typeof t&&"string"==typeof s&&"string"==typeof i?t.replace(new RegExp(I.fe(s),"gi"),i):"string"==typeof t?t:""},pWt(t,...i){let e=t;for(let t=0,s=i.length;t<s;++t)e=e.replaceAll(`{${t}}`,i[t].toString());return e},mWt(t,s,i){const e=this.LNt(s,i);return t?t.search(e):-1},gWt(t,s,i,e){const n=this.LNt(s,i);return t?t.replace(n,e):""},yWt(t,s,i){const e=this.kNt(t.toString(),s,i);return e?e.length:0},wWt(t,s,i,e){e=Math.floor(e);const n=this.kNt(t.toString(),s,i);return!n||e<0||e>=n.length?"":n[e]},SWt(t,s){let i=t<0?"-":"",e=s-(t=t<0?-t:t).toString().length;return(i+="0".repeat(Math.max(e,0)))+t.toString()},vWt(t){return encodeURIComponent(t)},bWt(t){return decodeURIComponent(t)},dt(){return this.lf.CZ()},timescale(){return this.lf.LD()},xWt(){return(Date.now()-this.lf.I5t())/1e3},MWt(){return Date.now()},time(){return this.lf.FD()},tickcount(){return this.lf._tt()},TWt(){return this.lf.E5t()},fps(){return this.lf.BD()},_Wt(){return this.lf.VD()},GWt(){return this.lf.HD()},IWt(){return this.lf.FL().jL()},CWt(){return this.lf.FL().UL()},PWt(){return this.lf.XF()},EWt(){return this.lf.ZF()},AWt(){return this.lf.XF()},RWt(){return this.lf.ZF()},FWt(){return this.lf.bO().nB()},DWt(){return this.lf.bO().hB()},OWt(){return this.lf.bO().Kc()},LWt(){return this.lf.bO().tB()},kWt(){return I.vr(this.lf.bO().iB())},BWt(){return this.lf.bO().um()},NWt(){return this.lf.bO().Mm()},WWt(){return 100*this.lf.bO().m9()},jWt(){return 100*this.lf.bO().g9()},VWt(t){const s=this.lf.bO().TO(t);return s?s.p9().Ml():0},UWt(t){const s=this.lf.bO().TO(t);return s?s.p9().Tl():0},HWt(t){const s=this.lf.bO().TO(t);return s?s.p9()._l():0},zWt(t){const s=this.lf.bO().TO(t);return s?s.p9().Gl():0},JWt(t){const s=this.lf.bO().TO(t);return s?s.p9().width():0},qWt(t){const s=this.lf.bO().TO(t);return s?s.p9().height():0},$Wt(t){const s=this.lf.bO().TO(t);if(s){const i=s.p9();return(i.Ml()+i._l())/2}return 0},XWt(t){const s=this.lf.bO().TO(t);if(s){const i=s.p9();return(i.Tl()+i.Gl())/2}return 0},YWt(t,s,i){const e=this.lf.bO().TO(t);return e?e.y5(s,i)[0]:0},ZWt(t,s,i){const e=this.lf.bO().TO(t);return e?e.y5(s,i)[1]:0},KWt(t,s,i){const e=this.lf.bO().TO(t);return e?e.b5(s,i)[0]:0},QWt(t,s,i){const e=this.lf.bO().TO(t);return e?e.b5(s,i)[1]:0},tjt(t,s,i,e){const n=this.lf.bO(),r=n.TO(t),h=n.TO(s);if(!r||!h||r===h)return i;const[o,a]=r.b5(i,e);return h.y5(o,a)[0]},sjt(t,s,i,e){const n=this.lf.bO(),r=n.TO(t),h=n.TO(s);if(!r||!h||r===h)return e;const[o,a]=r.b5(i,e);return h.y5(o,a)[1]},ijt(t){const s=this.lf.bO().TO(t);return s?s.YB():0},ejt(t){const s=this.lf.bO().TO(t);return s?I.vr(s.QB()):0},njt(t){const s=this.lf.bO().TO(t);return s?100*s.OE():0},rjt(t){const s=this.lf.bO().TO(t);return s?s.KB():0},hjt(t){const s=this.lf.bO().TO(t);return s?s.nB():0},ojt(t){const s=this.lf.bO().TO(t);return s?s.hB():0},ajt(t){const s=this.lf.bO().TO(t);return s?100*s.s5():0},ljt(t){const s=this.lf.bO().TO(t);return s?100*s.e5():0},ujt(t){const s=this.lf.bO().TO(t);return s?s.R2():0},cjt(t){const s=this.lf.bO().TO(t);return s?s.RF():-1},fjt(){const t=this.lf.FL();return t?t.vOt():""},djt(t){const s=this.N0t;if(!s.O0t())return 0;if(t){const i=s.k0t(t);return i?i.RF():0}return s.F0t().RF()},pjt(){return this.lf.H5t()},mjt(t,s,...i){const e=this.KNt(t.toLowerCase(),!1);if(!e)return console.warn(`[Construct] Call mapped function: map name '${t}' not found; returning 0`),0;let n=e.t4t.get(s.toLowerCase());if(!n){if(!e.QNt)return console.warn(`[Construct] Call mapped function: no function associated with map '${t}' string '${s}'; returning 0 (consider setting a default)`),0;n=e.QNt}const r=n.SD(),h=n.cD();if(0===r)return console.warn(`[Construct] Call mapped function: map '${t}' string '${s}' has no return type so cannot be called from an expression; returning 0`),0;if(!n.Zu())return h;const o=this.lf,a=o.lD(),l=a.mD(),u=l.pD(),c=0<u.length,f=(c&&(n.wD()?a.HV(u):a.L1t(u)),n.Rpt());for(let t=i.length,s=f.length;t<s;++t)i.push(f[t].Odt());const d=n.dD(),p=d.yD(d.pD(),n.wD(),r,h,...i);return c&&a.JV(u),p},gjt(){return this.lf.LF().nH()},yjt(){return 0===this.FNt?1:this.DNt/this.FNt},renderer(){return this.lf.eOt()?"webgpu":"webgl"},wjt(){return this.lf.eOt()?this.lf.eOt().GetAdapterInfoString():this.lf.iOt().HA()},Sjt(){let t=this.lf.Jv().vv();return Math.round(100*t/1048576)/100},vjt(t,s,i){return I.Ur(t,s,i)},bjt(t,s,i){return I.zr(t/100,s/100,i/100)},xjt(t,s,i,e){return I.Hr(t/100,s/100,i/100,e/100)},Mjt(t,s,i){return I.zr(t/255,s/255,i/255)},Tjt(t,s,i,e){return I.Hr(t/255,s/255,i/255,e/255)},_jt(){return this.lf.UF()},Gjt(){return this.lf.zF()},Ijt(){return this.lf.mD().u$().Kc()},Cjt(){return this.lf.mD().Pgt()}}}{const za=self.Bs;za.nX.Touch=class extends za.Zxt{constructor(t){super(t)}ur(){super.ur()}}}{let i=function(){return s.xk().g6()};i;const Ja=self.Bs,qa=self.$s;Ja.nX.Touch.fIt=class extends Ja.OMt{constructor(t){super(t)}ur(){super.ur()}vMt(){}bMt(){return self.Pjt}};let s=null;self.Pjt=class extends self.Mk{constructor(t){super(t),(s=t).HO().cO().dO=this}requestPermission(t){qa.Ie(t);const s=i();if("orientation"===t)return s.Ejt(0);if("motion"===t)return s.Ejt(1);throw new Error("invalid type")}}}{const C=self.Bs;C.nX.Touch.Instance=class extends C.WMt{constructor(t,s){super(t,"touch"),this.Ajt=new Map,this.Rjt=!1,this.Fjt=!1,this.Djt=0,this.Ojt=0,this.Ljt=0,this.kjt=0,this.Bjt=0,this.Njt=0,this.Wjt=0,this.jjt=0,this.Vjt=0,this.Ujt=0,this.Hjt=0,this.zjt=0,this.Jjt=0,this.qjt=0,this.$jt=0,this.Xjt=0,this.Yjt=0,this.Zjt=[],s&&(this.Rjt=s[0]),this.YMt("permission-result",t=>this.Kjt(t));const i=this.HO().Vf();this.v0=new C.y0(C.c0.g0(i,"pointerdown",t=>this.Qjt(t.data)),C.c0.g0(i,"pointermove",t=>this.tVt(t.data)),C.c0.g0(i,"pointerup",t=>this.sVt(t.data,!1)),C.c0.g0(i,"pointercancel",t=>this.sVt(t.data,!0)),C.c0.g0(i,"deviceorientation",t=>this.iVt(t.data)),C.c0.g0(i,"deviceorientationabsolute",t=>this.eVt(t.data)),C.c0.g0(i,"devicemotion",t=>this.nVt(t.data)),C.c0.g0(i,"tick2",t=>this.TY()))}ur(){this.Ajt.clear(),super.ur()}Qjt(t){if("mouse"===t.pointerType){if(!this.Rjt)return;this.Fjt=!0}const s=t.pointerId;if(!this.Ajt.has(s)){const i=t.pageX-this.lf.w5(),e=t.pageY-this.lf.S5(),n=performance.now(),r=this.Ajt.size,h=(this.Hjt=r,this.zjt=s,C.lr(C.nX.Touch.rVt));h.FCt(n,i,e,s,r),this.Ajt.set(s,h),this.gN(C.nX.Touch.iX.hVt),this.gN(C.nX.Touch.iX.oVt),this.qjt=i,this.$jt=e,this.Yjt=0,this.gN(C.nX.Touch.iX.aVt)}}tVt(t){if("mouse"!==t.pointerType||this.Fjt){const s=this.Ajt.get(t.pointerId);if(s){const i=performance.now();if(!(i-s.u3()<2)){const e=t.pageX-this.lf.w5(),n=t.pageY-this.lf.S5();s.QH(i,e,n,t.width,t.height,t.pressure)}}}}sVt(t,s){if("mouse"===t.pointerType){if(!this.Fjt)return;this.Fjt=!1}const i=performance.now(),e=t.pointerId,n=this.Ajt.get(e);if(n){if(this.Hjt=n.lVt(),this.zjt=n.YW(),!s){const r=t.pageX-this.lf.w5(),h=t.pageY-this.lf.S5();this.qjt=r,this.$jt=h,this.Yjt=1,this.gN(C.nX.Touch.iX.aVt)}if(this.gN(C.nX.Touch.iX.uVt),this.gN(C.nX.Touch.iX.cVt),!s){const o=n.fVt(i);"single-tap"===o?(this.gN(C.nX.Touch.iX.dVt),this.qjt=n.I2(),this.$jt=n.E2(),this.gN(C.nX.Touch.iX.pVt)):"double-tap"===o&&(this.gN(C.nX.Touch.iX.mVt),this.qjt=n.I2(),this.$jt=n.E2(),this.gN(C.nX.Touch.iX.gVt))}n.ur(),this.Ajt.delete(e)}}Ejt(i){return this.tTt("request-permission",{type:i}),new Promise((t,s)=>{this.Zjt.push({type:i,resolve:t,reject:s})})}Kjt(t){const s=t.result,i=t.type,e=(this.Jjt=i,this.Zjt.filter(t=>t.type===i));for(const n of e)n.resolve(s?"granted":"denied");this.Zjt=this.Zjt.filter(t=>t.type!==i),s?(this.gN(C.nX.Touch.iX.yVt),0===i?this.lf.cNt():this.lf.fNt()):this.gN(C.nX.Touch.iX.wVt)}iVt(t){"number"==typeof t.webkitCompassHeading?this.Djt=t.webkitCompassHeading:t.absolute&&(this.Djt=t.alpha),this.Ojt=t.alpha,this.Ljt=t.beta,this.kjt=t.gamma}eVt(t){this.Djt=t.alpha}nVt(t){const s=t.acceleration,i=(s&&(this.Bjt=s.x,this.Njt=s.y,this.Wjt=s.z),t.accelerationIncludingGravity);i&&(this.jjt=i.x,this.Vjt=i.y,this.Ujt=i.z)}TY(){let t=performance.now(),s=0;for(const i of this.Ajt.values())i.u3()<=t-50&&i.SVt(t),i.vVt(t)&&(this.Hjt=i.lVt(),this.zjt=i.YW(),this.Xjt=s,this.gN(C.nX.Touch.iX.bVt),this.qjt=i.I2(),this.$jt=i.E2(),this.gN(C.nX.Touch.iX.xVt),this.Xjt=0),++s}MVt(t){t=Math.floor(t);for(const s of this.Ajt.values()){if(0===t)return s;--t}return null}TVt(t,s){return 0<=t&&0<=s&&t<this.lf.ZBt()&&s<this.lf.KBt()}lTt(){return[{title:"plugins.touch.debugger.touches",properties:[...this.Ajt.values()].map(t=>({name:"$"+t.YW(),value:t.I2()+", "+t.E2()}))}]}}}{const $a=self.Bs;$a.nX.Touch.iX={oVt(){return!0},cVt(){return!0},_Vt(){return 0<this.Ajt.size},aVt(t,s){return!!t&&s===this.Yjt&&!!this.TVt(this.qjt,this.$jt)&&this.lf.NF().rRt(t,[[this.qjt,this.$jt]],!1)},GVt(t){if(!t)return!1;const s=this.lf.kdt(),i=s.ovt(),e=[...this.Ajt.values()].filter(t=>this.TVt(t.I2(),t.E2())).map(t=>[t.I2(),t.E2()]);return $a.xor(this.lf.NF().rRt(t,e,i),i)},IVt(t,s,i){const e=this.MVt(t);return!!e&&$a.compare(e.B6(),s,i)},CVt(){return!0},PVt(){return!0},EVt(t,s,i){this.lf.cNt();let e;return e=0===t?this.Ojt:1===t?this.Ljt:this.kjt,$a.compare(e,s,i)},AVt(t,s,i){this.lf.fNt();let e;return e=0===t?this.jjt:1===t?this.Vjt:2===t?this.Ujt:3===t?this.Bjt:4===t?this.Njt:this.Wjt,$a.compare(e,s,i)},hVt(t){return(t=Math.floor(t))===this.Hjt},uVt(t){return(t=Math.floor(t))===this.Hjt},RVt(t){return t=Math.floor(t),this.Ajt.size>=t+1},bVt(){return!0},dVt(){return!0},mVt(){return!0},xVt(t){return!!t&&!!this.TVt(this.qjt,this.$jt)&&this.lf.NF().rRt(t,[[this.qjt,this.$jt]],!1)},pVt(t){return!!t&&!!this.TVt(this.qjt,this.$jt)&&this.lf.NF().rRt(t,[[this.qjt,this.$jt]],!1)},gVt(t){return!!t&&!!this.TVt(this.qjt,this.$jt)&&this.lf.NF().rRt(t,[[this.qjt,this.$jt]],!1)},yVt(t){return this.Jjt===t},wVt(t){return this.Jjt===t}}}{const Xa=self.Bs;Xa.nX.Touch.$nt={FVt(t){this.Ejt(t)}}}{const Ya=self.Bs;Ya.nX.Touch.Xnt={DVt(){return this.Ajt.size},uxt(t){const s=this.MVt(this.Xjt);return s?s.OVt(this.lf.bO(),t,!0):0},cxt(t){const s=this.MVt(this.Xjt);return s?s.OVt(this.lf.bO(),t,!1):0},LVt(t,s){const i=this.MVt(t);return i?i.OVt(this.lf.bO(),s,!0):0},kVt(t,s){const i=this.MVt(t);return i?i.OVt(this.lf.bO(),s,!1):0},BVt(t,s){const i=this.Ajt.get(t);return i?i.OVt(this.lf.bO(),s,!0):0},NVt(t,s){const i=this.Ajt.get(t);return i?i.OVt(this.lf.bO(),s,!1):0},WVt(){const t=this.MVt(0);return t?t.I2():0},jVt(){const t=this.MVt(0);return t?t.E2():0},VVt(t){const s=this.MVt(t);return s?s.I2():0},UVt(t){const s=this.MVt(t);return s?s.E2():0},HVt(t){const s=this.Ajt.get(t);return s?s.I2():0},zVt(t){const s=this.Ajt.get(t);return s?s.E2():0},JVt(t){const s=this.MVt(t);return s?s.B6():0},qVt(t){const s=this.Ajt.get(t);return s?s.B6():0},$Vt(t){const s=this.MVt(t);return s?Ya.vr(s.iB()):0},XVt(t){const s=this.Ajt.get(t);return s?Ya.vr(s.iB()):0},YVt(){return this.lf.cNt(),this.Djt},ZVt(){return this.lf.cNt(),this.Ojt},KVt(){return this.lf.cNt(),this.Ljt},QVt(){return this.lf.cNt(),this.kjt},t8t(){return this.lf.fNt(),this.jjt},s8t(){return this.lf.fNt(),this.Vjt},i8t(){return this.lf.fNt(),this.Ujt},e8t(){return this.lf.fNt(),this.Bjt},n8t(){return this.lf.fNt(),this.Njt},r8t(){return this.lf.fNt(),this.Wjt},h8t(){return this.Hjt},o8t(){return this.zjt},a8t(t){const s=this.Ajt.get(t);return s?s.um():0},l8t(t){const s=this.Ajt.get(t);return s?s.Mm():0},u8t(t){const s=this.Ajt.get(t);return s?s.c8t():0}}}{let h=self.Bs,s=-1e3,i=-1e3,e=-1e4;h.nX.Touch.rVt=class extends h.rr{constructor(){super(),this.f8t=0,this.S_=0,this.vkt=0,this.uR=0,this.d8t=0,this.p8t=0,this.m8t=0,this.tl=0,this.sl=0,this.g8t=0,this.y8t=0,this.Xm=0,this.Ym=0,this.w8t=0,this.S8t=!1,this.v8t=!1}ur(){}FCt(t,s,i,e,n){this.f8t=e,this.S_=n,this.uR=t,this.d8t=t,this.vkt=t,this.p8t=s,this.m8t=i,this.tl=s,this.sl=i,this.g8t=s,this.y8t=i}QH(t,s,i,e,n,r){this.d8t=this.uR,this.uR=t,this.g8t=this.tl,this.y8t=this.sl,this.tl=s,this.sl=i,this.Xm=e,this.Ym=n,this.w8t=r,!this.v8t&&15<=h.br(this.p8t,this.m8t,this.tl,this.sl)&&(this.v8t=!0)}YW(){return this.f8t}lVt(){return this.S_}u3(){return this.uR}SVt(t){this.d8t=t}I2(){return this.tl}E2(){return this.sl}B6(){const t=h.br(this.tl,this.sl,this.g8t,this.y8t),s=(this.uR-this.d8t)/1e3;return 0<s?t/s:0}iB(){return h.Tr(this.g8t,this.y8t,this.tl,this.sl)}um(){return this.Xm}Mm(){return this.Ym}c8t(){return this.w8t}vVt(t){return!this.S8t&&500<=t-this.vkt&&!this.v8t&&h.br(this.p8t,this.m8t,this.tl,this.sl)<15&&(this.S8t=!0)}fVt(t){return!this.S8t&&t-this.vkt<=333&&!this.v8t&&h.br(this.p8t,this.m8t,this.tl,this.sl)<15?t-e<=666&&h.br(s,i,this.tl,this.sl)<25?(s=-1e3,i=-1e3,e=-1e4,"double-tap"):(s=this.tl,i=this.sl,e=t,"single-tap"):""}OVt(t,s,i){if(void 0===s){const e=t.GO(0);return e.lq(this.tl,this.sl)[i?0:1]}{const n=t.TO(s);return n?n.y5(this.tl,this.sl)[i?0:1]:0}}}}{const Za=self.Bs,Ka=[];Za.nX.Audio=class extends Za.Zxt{constructor(t){super(t)}b8t(t){Ka.push(t)}static async x8t(){await Promise.all(Ka),Za.Bh(Ka)}ur(){super.ur()}}}{let s=function(){return i.xk().g6()},t=function(){if(self.C3Audio_DOMInterface)return self.C3Audio_DOMInterface;throw new Error("audio scripting API cannot be used here - make sure the project is using DOM mode, not worker mode")};s,t;const Qa=self.Bs,tl=self.$s;Qa.nX.Audio.fIt=class extends Qa.OMt{constructor(t){super(t)}ur(){super.ur()}vMt(){}bMt(){return self.M8t}};let i=null;self.M8t=class extends self.Mk{constructor(t){super(t),i=t}get T8t(){return t().GetAudioContextExtern()}get _8t(){return t().GetDestinationNodeExtern()}get isSilent(){return s().G8t()}set isSilent(t){s().I8t(t)}get masterVolume(){return s().C8t()}set masterVolume(t){tl.Me(t),s().P8t(t)}E8t(){s().A8t()}}}{const sl=self.Bs,il=["interactive","balanced","playback"];sl.nX.Audio.Instance=class extends sl.WMt{constructor(t,s){super(t,"audio"),this.R8t=0,this.F8t=[],this.D8t=!0,this.O8t=0,this.L8t=0,this.k8t=!1,this.B8t=1,this.N8t=1,this.W8t=[this.lf.v9()/2,this.lf.b9()/2,600],this.j8t=[0,0,-1],this.V8t=[0,1,0],this.U8t=600,this.H8t=1e4,this.z8t=1,this.J8t=null,this.q8t=-1,this.$8t=1,this.X8t=!1,this.Y8t=0,this.Z8t="suspended",this.K8t=0,this.Q8t=new Map,this.tUt=0,this.sUt=0,this.iUt=new Map,this.eUt=new Map;let i="interactive";s&&(this.O8t=s[0],this.L8t=s[1],this.k8t=s[2],i=il[s[3]],this.D8t=s[4],this.B8t=s[5],this.N8t=s[6],this.W8t[2]=s[7],this.U8t=s[8],this.H8t=s[9],this.z8t=s[10]),this.nUt=[],this.rUt=[],this.hUt=[],this.ZMt([["state",t=>this.oUt(t)],["audiocontext-state",t=>this.aUt(t)],["fxstate",t=>this.lUt(t)],["trigger",t=>this.uUt(t)],["buffer-metadata",t=>this.cUt(t)]]);const e=this.HO().Vf(),n=(this.v0=new sl.y0(sl.c0.g0(e,"instancedestroy",t=>this.fUt(t.I6)),sl.c0.g0(e,"afterload",()=>this.DY()),sl.c0.g0(e,"suspend",()=>this.dUt()),sl.c0.g0(e,"resume",()=>this.pUt())),"Safari"===sl.li.di),r=this.lf.D5t(),h=this.lf.LF().NU(),o="playable-ad-single-file"===this.lf.PL(),a=n||r||h||o;this.lf.LO(this.QMt("create-audio-context",{preloadList:this.lf.LF().pH().map(t=>({originalUrl:t.originalUrl,url:t.url,type:t.type,fileSize:t.fileSize})),timeScaleMode:this.O8t,latencyHint:i,panningModel:this.B8t,distanceModel:this.N8t,refDistance:this.U8t,maxDistance:this.H8t,rolloffFactor:this.z8t,listenerPos:this.W8t,usePlayMusicAsSoundWorkaround:a}).then(t=>{this.Y8t=t.sampleRate,this.Z8t=t.audioContextState,this.K8t=t.outputLatency})),this.rTt()}ur(){this.J8t=null,super.ur()}mUt(t){return this.D8t?t.split(" ").filter(t=>!!t):t?[t]:[]}gUt(s,t){for(const i of t){let t=!1;for(const e of s)if(sl.vn(e,i)){t=!0;break}if(!t)return!1}return!0}yUt(t,s){return this.gUt(t,this.mUt(s))}b8t(t){this._k().b8t(t)}fUt(t){this.J8t===t&&(this.J8t=null)}wUt(t){return Math.pow(10,t/20)}SUt(t){const s=this.wUt(t);return isFinite(s)?Math.max(Math.min(s,1),0):0}vUt(t){return Math.log(t)/Math.log(10)*20}bUt(t){return this.vUt(Math.max(Math.min(t,1),0))}dUt(){this.k8t||this.KMt("set-suspended",{isSuspended:!0})}pUt(){this.k8t||this.KMt("set-suspended",{isSuspended:!1})}oUt(t){const s=t.tickCount,i=(this.K8t=t.outputLatency,this.nUt.filter(t=>t.hasOwnProperty("placeholder")&&(t.placeholder>s||-1===t.placeholder)));this.nUt=t.audioInstances,this.hUt=t.analysers,0<i.length&&sl.Xn(this.nUt,i)}cUt(t){this.iUt.set(t.originalUrl,{duration:t.duration})}aUt(t){this.Z8t=t.audioContextState}nrt(){return this.lf.EDt()?"running":this.Z8t}lUt(t){this.rUt=t.fxstate}xUt(t){const s=this.mUt(t);for(const i of this.nUt)if(this.gUt(i.tags,s))return i;return null}MUt(t){const s=this.mUt(t);return this.nUt.some(t=>this.gUt(t.tags,s)&&t.isPlaying)}TUt(t,s,i,e,n){if(this.MUt(s))return null;const r=this.iUt.get(t),h={tags:this.mUt(s),duration:r?r.duration:0,volume:n,isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:t,bufferUrl:"",bufferType:"",isMusic:i,isLooping:e,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};return this.nUt.push(h),h}_Ut(t){const s=this.mUt(t);for(const i of this.nUt)this.gUt(i.tags,s)&&(i.isPlaying=!1)}async uUt(t){const s=t.type,i=(this.F8t=t.tags,t.aiid);if("ended"===s){for(const e of this.nUt)if(e.aiid===i){e.isPlaying=!1;break}await this.wN(sl.nX.Audio.iX.GUt)}else"fade-ended"===s&&await this.wN(sl.nX.Audio.iX.IUt)}CUt(t){return this.yUt(this.F8t,t)}EZ(){const t={timeScale:this.lf.LD(),gameTime:this.lf.C5t(),instPans:this.PUt(),tickCount:this.lf.P5t()};if(this.J8t){const s=this.J8t.MO();this.W8t[0]=s.I2(),this.W8t[1]=s.E2(),t.listenerPos=this.W8t,t.listenerOrientation=[...this.j8t,...this.V8t]}this.KMt("tick",t)}EUt(t,s,i,e,n){if(0!==i){const r=Math.sin(i),h=Math.cos(i),o=(t-=e)*r,a=(s-=n)*r,l=t*h,u=s*h;t=l-a,s=u+o,t+=e,s+=n}return[t,s]}PUt(){return this.nUt.filter(t=>-1!==t.uid).map(t=>this.lf.wO(t.uid)).filter(t=>t).map(t=>{const s=t.MO(),i=s.TO().iB(),[e,n]=this.EUt(s.I2(),s.E2(),-i,this.W8t[0],this.W8t[1]);return{uid:t.H5(),x:e,y:n,z:s.ZN(),angle:s.iB()-i}})}AUt(t,s){for(const i of this.hUt)if(i.index===s&&sl.vn(i.tag,t))return i;return null}RUt(t){for(const s of this.mUt(t)){const i=s.toLowerCase();this.Q8t.set(i,(this.Q8t.get(i)||0)+1)}}G8t(){return this.X8t}I8t(t){this.X8t!==(t=!!t)&&(this.X8t=t,this.KMt("set-silent",{isSilent:t}))}C8t(){return this.$8t}P8t(t){this.$8t!==t&&(this.$8t=t,this.KMt("set-master-volume",{vol:t}))}A8t(){this.KMt("stop-all");for(const t of this.nUt)t.isPlaying=!1}FUt(t){return!t.hasOwnProperty("placeholder")&&3!==this.L8t&&!(t.isMusic&&1===this.L8t||!t.isMusic&&2===this.L8t)}j2(){return{isSilent:this.X8t,masterVolume:this.$8t,listenerZ:this.W8t[2],listenerForwardVec:this.j8t,listenerUpVec:this.V8t,listenerUid:this.J8t?this.J8t.H5():-1,remoteUrls:[...this.eUt.entries()],playing:this.nUt.filter(t=>this.FUt(t)),effects:this.rUt,analysers:this.hUt}}V2(t){if(this.X8t=t.isSilent,this.$8t=t.masterVolume,this.W8t[2]=t.listenerZ,this.J8t=null,this.q8t=t.listenerUid,t.hasOwnProperty("listenerForwardVec")?this.j8t=t.listenerForwardVec:this.j8t=[0,0,-1],t.hasOwnProperty("listenerUpVec")?this.V8t=t.listenerUpVec:this.V8t=[0,1,0],this.eUt.clear(),t.remoteUrls)for(const[s,i]of t.remoteUrls)this.eUt.set(s,i);this.nUt=t.playing;for(const e of this.nUt)e.hasOwnProperty("tag")&&!e.hasOwnProperty("tags")&&(e.tags=[e.tag].filter(t=>!!t));this.rUt=t.effects,this.hUt=t.analysers}DY(){if(-1!==this.q8t&&(this.J8t=this.lf.wO(this.q8t),this.q8t=-1,this.J8t)){const t=this.J8t.MO();this.W8t[0]=t.I2(),this.W8t[1]=t.E2()}for(const s of this.nUt){const i=this.lf.LF().dH(s.bufferOriginalUrl);i?(s.bufferUrl=i.url,s.bufferType=i.type):s.bufferUrl=null}for(const e of Object.values(this.rUt))for(const n of e)if(n.hasOwnProperty("bufferOriginalUrl")){const r=this.lf.LF().dH(n.bufferOriginalUrl);r&&(n.bufferUrl=r.url,n.bufferType=r.type)}this.KMt("load-state",{saveLoadMode:this.L8t,timeScale:this.lf.LD(),gameTime:this.lf.C5t(),listenerPos:this.W8t,listenerOrientation:[...this.j8t,...this.V8t],isSilent:this.X8t,masterVolume:this.$8t,playing:this.nUt.filter(t=>null!==t.bufferUrl),effects:this.rUt})}lTt(){const t=[];for(const[i,e]of Object.entries(this.rUt))t.push({name:"$"+i,value:e.map(t=>t.type).join(", ")});const s="plugins.audio.debugger";return[{title:s+".tag-effects",properties:t},{title:s+".currently-playing",properties:[{name:s+".currently-playing-count",value:this.nUt.length},...this.nUt.map((t,s)=>({name:"$#"+s,value:`${t.bufferOriginalUrl} ("${t.tags}") ${Math.round(10*t.playbackTime)/10} / `+Math.round(10*t.duration)/10}))]}]}}}{const el=self.Bs;el.nX.Audio.iX={GUt(t){return this.CUt(t)},IUt(t){return this.CUt(t)},DUt(){return this.sUt===this.tUt},OUt(){return!0},LUt(){return this.G8t()},kUt(){for(const t of this.nUt)if(t.isPlaying)return!0;return!1},BUt(t){return this.MUt(t)}}}{const P=self.Bs,nl=["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"];P.nX.Audio.$nt={Play(t,s,i,e,n){const r=P.nX.Audio.$nt.NUt.call(this,t,s,i,e,n);return this.b8t(r),r},rrt(t,s,i,e){P.nX.Audio.$nt.NUt.call(this,t,0,s,0,i,e)},async NUt(t,s,i,e,n,r){if(!this.X8t){const h=t[1],o=this.lf.LF().dH(t[0]);if(o){const a=this.R8t,l=(this.R8t=0,this.TUt(t[0],n,h,0!==s,this.SUt(i)));try{await this.QMt("play",{originalUrl:t[0],url:o.url,type:o.type,isMusic:h,tags:this.mUt(n),isLooping:0!==s,vol:this.SUt(i),stereoPan:P.gr(e/100,-1,1),pos:r||0,off:a,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{l&&(l.placeholder=this.lf.P5t())}}}},async WUt(t,s,i,e,n,r,h,o,a,l,u){if(!this.X8t){const c=t[1],f=this.lf.LF().dH(t[0]);if(f){const d=this.R8t,p=(this.R8t=0,this.TUt(t[0],u,c,0!==s,this.SUt(i)));try{await this.QMt("play",{originalUrl:t[0],url:f.url,type:f.type,isMusic:c,tags:this.mUt(u),isLooping:0!==s,vol:this.SUt(i),pos:0,off:d,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:e,y:n,z:r,angle:P.Sr(h),innerAngle:P.Sr(o),outerAngle:P.Sr(a),outerGain:this.SUt(l)}})}finally{p&&(p.placeholder=this.lf.P5t())}}}},async jUt(t,s,i,e,n,r,h,o){if(!this.X8t&&e){const a=e.$2t();if(a&&a.MO()){const l=a.MO(),u=l.TO().iB(),[c,f]=this.EUt(l.I2(),l.E2(),-u,this.W8t[0],this.W8t[1]),d=t[1],p=this.lf.LF().dH(t[0]);if(p){const m=this.R8t,g=(this.R8t=0,this.TUt(t[0],o,d,0!==s,this.SUt(i)));try{await this.QMt("play",{originalUrl:t[0],url:p.url,type:p.type,isMusic:d,tags:this.mUt(o),isLooping:0!==s,vol:this.SUt(i),pos:0,off:m,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:c,y:f,z:l.ZN(),angle:l.iB()-u,innerAngle:P.Sr(n),outerAngle:P.Sr(r),outerGain:this.SUt(h),uid:a.H5()}})}finally{g&&(g.placeholder=this.lf.P5t())}}}}},async VUt(t,s,i,e,n,r){if(!this.X8t){const h=1===t,o=this.lf.LF().dH(s)||this.eUt.get(s.toLowerCase());if(o){const a=this.R8t,l=(this.R8t=0,this.TUt(s,r,h,0!==i,this.SUt(e)));try{await this.QMt("play",{originalUrl:s,url:o.url,type:o.type,isMusic:h,tags:this.mUt(r),isLooping:0!==i,vol:this.SUt(e),stereoPan:P.gr(n/100,-1,1),pos:0,off:a,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{l&&(l.placeholder=this.lf.P5t())}}}},async UUt(t,s,i,e,n,r,h,o,a,l,u,c){if(!this.X8t){const f=1===t,d=this.lf.LF().dH(s)||this.eUt.get(s.toLowerCase());if(d){const p=this.R8t,m=(this.R8t=0,this.TUt(s,c,f,0!==i,this.SUt(e)));try{await this.QMt("play",{originalUrl:s,url:d.url,type:d.type,isMusic:f,tags:this.mUt(c),isLooping:0!==i,vol:this.SUt(e),pos:0,off:p,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:n,y:r,z:h,angle:P.Sr(o),innerAngle:P.Sr(a),outerAngle:P.Sr(l),outerGain:this.SUt(u)}})}finally{m&&(m.placeholder=this.lf.P5t())}}}},async HUt(t,s,i,e,n,r,h,o,a){if(!this.X8t&&!this.X8t&&n){const l=n.$2t();if(l&&l.MO()){const u=l.MO(),c=u.TO().iB(),[f,d]=this.EUt(u.I2(),u.E2(),-c,this.W8t[0],this.W8t[1]),p=1===t,m=this.lf.LF().dH(s)||this.eUt.get(s.toLowerCase());if(m){const g=this.R8t,y=(this.R8t=0,this.TUt(s,a,p,0!==i,this.SUt(e)));try{await this.QMt("play",{originalUrl:s,url:m.url,type:m.type,isMusic:p,tags:this.mUt(a),isLooping:0!==i,vol:this.SUt(e),pos:0,off:g,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:f,y:d,z:u.ZN(),angle:u.iB()-c,innerAngle:P.Sr(r),outerAngle:P.Sr(h),outerGain:this.SUt(o),uid:l.H5()}})}finally{y&&(y.placeholder=this.lf.P5t())}}}}},zUt(t,s){this.KMt("set-looping",{tags:this.mUt(t),isLooping:0===s})},JUt(t,s){this.KMt("set-muted",{tags:this.mUt(t),isMuted:0===s})},irt(t,s){this.KMt("set-volume",{tags:this.mUt(t),vol:this.SUt(s)})},qUt(t,s,i,e){this.KMt("fade-volume",{tags:this.mUt(t),vol:this.SUt(s),duration:i,stopOnEnd:0===e})},$Ut(t,s){this.KMt("set-stereo-pan",{tags:this.mUt(t),p:P.gr(s/100,-1,1)})},async XUt(t){const s=t[1],i=this.lf.LF().dH(t[0]);i&&(this.tUt++,await this.QMt("preload",{originalUrl:t[0],url:i.url,type:i.type,isMusic:s}),this.sUt++)},async YUt(t,s){const i=1===t,e=this.lf.LF().dH(s)||this.eUt.get(s.toLowerCase());e&&(this.tUt++,await this.QMt("preload",{originalUrl:s,url:e.url,type:e.type,isMusic:i}),this.sUt++)},FW(t,s){this.KMt("set-playback-rate",{tags:this.mUt(t),rate:Math.max(s,0)})},xW(t){this._Ut(t),this.KMt("stop",{tags:this.mUt(t)})},ZUt(){this.A8t()},KUt(t,s){this.KMt("set-paused",{tags:this.mUt(t),paused:0===s})},QUt(t,s){this.KMt("seek",{tags:this.mUt(t),pos:s})},tHt(t){2===t&&(t=this.G8t()?1:0),this.I8t(0===t)},sHt(t){const s=this.SUt(t);this.P8t(s)},iHt(t,s,i,e,n,r,h){const o=nl[s];this.RUt(t),this.KMt("add-effect",{type:"filter",tags:this.mUt(t),params:[o,i,e,n,r,P.gr(h/100,0,1)]})},eHt(t,s,i,e){this.RUt(t),this.KMt("add-effect",{type:"delay",tags:this.mUt(t),params:[s,this.SUt(i),P.gr(e/100,0,1)]})},nHt(t,s,i,e,n,r){this.RUt(t),this.KMt("add-effect",{type:"flanger",tags:this.mUt(t),params:[s/1e3,i/1e3,e,n/100,P.gr(r/100,0,1)]})},rHt(t,s,i,e,n,r,h){this.RUt(t),this.KMt("add-effect",{type:"phaser",tags:this.mUt(t),params:[s,i,e,n,r,P.gr(h/100,0,1)]})},hHt(t,s,i,e){const n=this.lf.LF().dH(s[0]);n&&(this.RUt(t),this.KMt("add-effect",{type:"convolution",tags:this.mUt(t),bufferOriginalUrl:s[0],bufferUrl:n.url,bufferType:n.type,params:[0===i,P.gr(e/100,0,1)]}))},oHt(t,s){this.RUt(t),this.KMt("add-effect",{type:"gain",tags:this.mUt(t),params:[this.SUt(s)]})},aHt(t,s){this.RUt(t),this.KMt("add-effect",{type:"stereopan",tags:this.mUt(t),params:[P.gr(s/100,-1,1)]})},lHt(t){this.RUt(t),this.KMt("add-effect",{type:"gain",tags:this.mUt(t),params:[0]})},uHt(t,s,i){this.RUt(t),this.KMt("add-effect",{type:"tremolo",tags:this.mUt(t),params:[s,P.gr(i/100,0,1)]})},cHt(t,s,i){this.RUt(t),this.KMt("add-effect",{type:"ringmod",tags:this.mUt(t),params:[s,P.gr(i/100,0,1)]})},fHt(t,s,i,e,n,r){this.RUt(t),this.KMt("add-effect",{type:"distortion",tags:this.mUt(t),params:[this.wUt(s),this.wUt(i),e,this.wUt(n),P.gr(r/100,0,1)]})},dHt(t,s,i,e,n,r){this.RUt(t),this.KMt("add-effect",{type:"compressor",tags:this.mUt(t),params:[s,i,e,n/1e3,r/1e3]})},pHt(t,s,i){this.RUt(t),this.KMt("add-effect",{type:"analyser",tags:this.mUt(t),params:[s,i]})},mHt(t){const s=this.mUt(t);for(const i of s)this.Q8t.set(i.toLowerCase(),0);this.KMt("remove-effects",{tags:s}),this.rUt={}},L6(t,s,i,e,n,r){this.KMt("set-effect-param",{tags:this.mUt(t),index:Math.floor(s),param:i,value:e,ramp:n,time:r})},gHt(t){if(t){const s=t.$2t();s&&s.MO()&&(this.J8t=s)}},yHt(t){this.W8t[2]=t},wHt(t,s,i,e,n,r){this.j8t[0]=t,this.j8t[1]=s,this.j8t[2]=-i,this.V8t[0]=e,this.V8t[1]=n,this.V8t[2]=-r},SHt(t){this.R8t=Math.max(t,0)},vHt(t){const s=t[1],i=this.lf.LF().dH(t[0]);i&&this.KMt("unload",{url:i.url,type:i.type,isMusic:s})},bHt(t,s){const i=1===t,e=this.lf.LF().dH(s)||this.eUt.get(s.toLowerCase());e&&this.KMt("unload",{url:e.url,type:e.type,isMusic:i})},xHt(){this.KMt("unload-all")},MHt(t,s,i){this.eUt.set(i.toLowerCase(),{url:t,type:s})}}}{const rl=self.Bs;rl.nX.Audio.Xnt={THt(t){const s=this.xUt(t);return s?s.duration:0},Knt(t){const s=this.xUt(t);return s?s.playbackTime:0},ert(t){const s=this.xUt(t);return s?s.playbackRate:0},Qnt(t){const s=this.xUt(t);return s?this.bUt(s.volume):0},_Ht(){return this.bUt(this.C8t())},GHt(t){return this.Q8t.get(t.toLowerCase())||0},IHt(t,s){const i=this.AUt(t,Math.floor(s));return i?i.binCount:0},CHt(t,s,i){const e=this.AUt(t,Math.floor(s));return!e||(i=Math.floor(i))<0||i>=e.binCount?0:e.freqBins[i]},PHt(t,s){const i=this.AUt(t,Math.floor(s));return i?i.peak:0},EHt(t,s){const i=this.AUt(t,Math.floor(s));return i?i.rms:0},AHt(){return this.Y8t},RHt(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1e3},FHt(){return this.K8t},DHt(t,s){return 0==(t=rl.gr(+t,0,100)/100)?-1/0:t<.1?this.bUt(rl.Lt(0,this.SUt(s),10*t)):rl.Lt(s,0,(t-.1)/.9)}}}{const hl=self.Bs;hl.nX.OHt=class extends hl.Zxt{constructor(t){super(t)}ur(){super.ur()}}}{const ol=self.Bs;ol.nX.OHt.fIt=class extends ol.OMt{constructor(t){super(t)}ur(){super.ur()}vMt(){}}}{const al=self.Bs;al.nX.OHt.Instance=class extends al.WMt{constructor(t,s){super(t,"localstorage"),this.LHt="",this.h_="",this.kHt=[],this.BHt="",this.NHt=!1,this.WHt=0,this.jHt=0,this.VHt=!1,s&&(this.VHt=s[0]);const i=this.lf.JL();this.zL=null,this.VHt?this.zL=i.ki({Bi:!0}):this.zL=i,this.UHt=new Map,this.HHt=!1,this.lf.LO(this.G2())}async G2(){const t=await Promise.race([this.QMt("init"),al.Rh(3e3)]);t&&(this.NHt=t.isPersistent)}ur(){super.ur()}async zHt(t){this.BHt=this.JHt(t),await this.wN(al.nX.OHt.iX.qHt)}JHt(t){return t?"string"==typeof t?t:"string"==typeof t.message?t.message:"string"==typeof t.name?t.name:"string"==typeof t.data?t.data:"unknown error":"unknown error"}lTt(){return this.HHt||this.$Ht(),[{title:"plugins.localstorage.name",properties:[...this.UHt.entries()].map(s=>({name:"$"+s[0],value:s[1],XHt:t=>this.zL.setItem(s[0],t)}))}]}async $Ht(){this.HHt=!0;try{const i=await this.zL.keys(),e=(i.sort((t,s)=>{const i=t.toLowerCase(),e=s.toLowerCase();return i<e?-1:e<i?1:0}),await Promise.all(i.map(t=>this.zL.getItem(t))));this.UHt.clear();for(let t=0,s=i.length;t<s;++t)this.UHt.set(i[t],e[t])}catch(t){console.warn("[C3 debugger] Error displaying local storage: ",t)}finally{this.HHt=!1}}}}{const ll=self.Bs;ll.nX.OHt.iX={YHt(t){return this.LHt===t},ZHt(){return!0},KHt(t){return this.LHt===t},QHt(){return!0},t7t(t){return this.LHt===t},s7t(){return!0},i7t(){return!0},e7t(){return!0},qHt(){return!0},n7t(t){return this.LHt===t},r7t(t){return this.LHt===t},h7t(t,s){return ll.compare(this.LHt,t,s)},o7t(t,s){return ll.compare(this.h_,t,s)},a7t(){return 0<this.jHt},l7t(){return 0<this.WHt},u7t(){return!0},c7t(){return!0},f7t(){return this.NHt}}}{let i=function(t){return"string"==typeof t||"number"==typeof t};i;const ul=self.Bs;ul.nX.OHt.$nt={async d7t(t,s){this.jHt++;try{const i=await this.zL.setItem(t,s);await this.XMt(async()=>{this.LHt=t,this.h_=i,await this.wN(ul.nX.OHt.iX.ZHt),await this.wN(ul.nX.OHt.iX.YHt)})}catch(t){await this.zHt(t)}finally{this.jHt--,0===this.jHt&&await this.wN(ul.nX.OHt.iX.u7t)}},async p7t(t,s){if(s){const i=s.$2t(this._i);if(i){const e=i.g6();if(e){const n=e.GetArrayBufferReadOnly();this.jHt++;try{await this.zL.setItem(t,n),await this.XMt(async()=>{this.LHt=t,this.h_="",await this.wN(ul.nX.OHt.iX.ZHt),await this.wN(ul.nX.OHt.iX.YHt)})}catch(t){await this.zHt(t)}finally{this.jHt--,0===this.jHt&&await this.wN(ul.nX.OHt.iX.u7t)}}}}},async m7t(t){this.WHt++;try{const s=await this.zL.getItem(t);await this.XMt(async()=>{this.LHt=t,this.h_=i(s)?s:"",await this.wN(ul.nX.OHt.iX.QHt),await this.wN(ul.nX.OHt.iX.KHt)})}catch(t){await this.zHt(t)}finally{this.WHt--,0===this.WHt&&await this.wN(ul.nX.OHt.iX.c7t)}},async g7t(s,t){if(t){const i=t.$2t(this._i);if(i){const e=i.g6();this.WHt++;try{let t=await this.zL.getItem(s);t=t instanceof ArrayBuffer?t:new ArrayBuffer(0),await this.XMt(async()=>{this.h_="",this.LHt=s,e.SetArrayBufferTransfer(t),await this.wN(ul.nX.OHt.iX.QHt),await this.wN(ul.nX.OHt.iX.KHt)})}catch(t){await this.zHt(t)}finally{this.WHt--,0===this.WHt&&await this.wN(ul.nX.OHt.iX.c7t)}}}},async y7t(t){try{const s=await this.zL.getItem(t);await this.XMt(async()=>{this.LHt=t,null==s?(this.h_="",await this.wN(ul.nX.OHt.iX.r7t)):(this.h_=i(s)?s:"",await this.wN(ul.nX.OHt.iX.n7t))})}catch(t){await this.zHt(t)}},async ef(t){try{await this.zL.removeItem(t),await this.XMt(async()=>{this.LHt=t,this.h_="",await this.wN(ul.nX.OHt.iX.s7t),await this.wN(ul.nX.OHt.iX.t7t)})}catch(t){await this.zHt(t)}},async w7t(){try{await this.zL.clear(),await this.XMt(async()=>{this.LHt="",this.h_="",ul.Bh(this.kHt),await this.wN(ul.nX.OHt.iX.i7t)})}catch(t){await this.zHt(t)}},async S7t(){try{const t=await this.zL.keys();await this.XMt(async()=>{this.kHt=t,await this.wN(ul.nX.OHt.iX.e7t)})}catch(t){await this.zHt(t)}},async v7t(){const t=await this.QMt("request-persistent");t.isOk&&(this.NHt=t.isPersistent)},b7t(s){if(this.VHt){let t;try{t=JSON.parse(s)}catch(t){return void console.error("[Local Storage] Failed to parse memory storage JSON: ",t)}t&&t["is-c3-storage"]&&Array.isArray(t.items)||console.error("[Local Storage] Failed to load memory storage JSON: invalid data"),this.zL.Li(new Map(t.items))}}}}{const cl=self.Bs;cl.nX.OHt.Xnt={x7t(){return this.h_},Key(){return this.LHt},M7t(){return this.kHt.length},T7t(t){return(t=Math.floor(t))<0||t>=this.kHt.length?"":this.kHt[t]},_7t(){return this.BHt},G7t(){return this.VHt?JSON.stringify({"is-c3-storage":!0,items:[...this.zL.Oi()]}):""}}}{const fl=self.Bs;fl.nX.Ant=class extends fl.Zxt{constructor(t){super(t)}ur(){super.ur()}}}{const dl=self.Bs,pl=self.$s,ml=[],gl=(dl.nX.Ant.fIt=class extends dl.OMt{constructor(t){super(t),this.rIt=t.HIt()}ur(){dl.Bh(this.rIt),super.ur()}vMt(){for(const t of this.rIt)t.hGt(this.lf)}G$(s){const i={Pb:this.lf.KF()};return Promise.all(this.rIt.map(t=>t.oGt(s,i)))}R$(){for(const t of this.rIt)t.aGt()}P$(){this.I7t()}I7t(){for(const t of this.yft.Ok())t.g6().C7t()}wvt(t){dl.nX.Ant.Axt(this,t)}e2t(t){ml.push({NMt:null,P7t:!1,instances:[]})}E7t(t,s,i){const e=ml.at(-1);e.NMt=t,e.P7t=i,e.instances.push(s)}n2t(t){const s=ml.pop(),i=s.NMt,e=s.P7t;if(i){const n=new Map;for(const r of s.instances)r.tPt(n,i,e);for(const[h,o]of n)h.kk().jft(o)}}A7t(t){const s=this.E5().XIt(t),i=this.HO(),e=s.lGt(0);return e.tW().C8(i.Jv(),{Pb:i.KF()}).then(()=>this.I7t()),s}R7t(t){for(const s of this.yft.Ok())s.g6().F7t(t);this.E5().YIt(t)}D7t(t,s){const i=this.yft.qIt(t);if(!i)throw new Error(`cannot find animation name '${t}'`);let e=i.dGt(s);e<0&&(e+=i.z6()+1);const n=dl.eGt.rGt(this.HO()),r=(i.uGt(n,e),this.HO());n.tW().C8(r.Jv(),{Pb:r.KF()}).then(()=>this.I7t());for(const h of this.yft.Ok())h.g6().O7t();return n}L7t(t,s){const i=this.yft.qIt(t);if(!i)throw new Error(`cannot find animation name '${t}'`);if(1===i.z6())throw new Error(`cannot remove last frame from animation '${t}'`);let e=i.dGt(s);e<0&&(e+=i.z6()),i.cGt(e);for(const n of this.yft.Ok())n.g6().O7t()}bMt(){return self.k7t}},new WeakMap);self.k7t=class extends self.Mk{constructor(t){super(t),gl.set(this,t.i2t())}B7t(t){pl.Ie(t);const s=gl.get(this).E5().qIt(t);return s?s.pGt():null}N7t(){return gl.get(this).E5().JIt().map(t=>t.pGt())}W7t(t){return pl.Ie(t),gl.get(this).A7t(t).pGt()}j7t(t){pl.Ie(t),gl.get(this).R7t(t)}V7t(t,s){if(pl.Ie(t),"number"!=typeof s&&"string"!=typeof s)throw new TypeError("invalid insert location");return gl.get(this).D7t(t,s).X6()}U7t(t,s){if(pl.Ie(t),"number"!=typeof s&&"string"!=typeof s)throw new TypeError("invalid insert location");gl.get(this).L7t(t,s)}}}{const E=self.Bs,yl=self.$s,wl=E.lr(E.Rect),Sl=E.lr(E.Ql),vl=E.lr(E.Qa),A=(E.nX.Ant.Instance=class extends E.pTt{constructor(t,s){super(t);let i=!0,e="",n=0,r=!0;s&&(i=!!s[0],e=s[1],n=s[2],r=s[3]),this.H7t=this.yft.qIt(e)||this.yft.HIt()[0],this.z7t=E.gr(n,0,this.H7t.z6()-1),this.J7t=this.H7t.lGt(this.z7t);const h=this.J7t.tW(),o=(this.q7t=h.Yx(),this.$7t=h.kC(),this.X7t=h.GTt(),this.wTt(),t.KCt(2,!0),t.KCt(1,0<=this.H7t.B6()),this.Y7t=Math.abs(this.H7t.B6()),this.Z7t=this.H7t.V6(),this.K7t=E.lr(E.M0),this.Q7t=0,this.tzt=0,this.szt="",this.izt=-1,this.ezt="",this.nzt=0,this.MO());this.rzt=o.s4(),o.NB(i),o.w4(r),o.cht(this.J7t.eW()),o.dht(this.J7t.rW()),o.HAt(this.J7t.mW()),o.zN(),1===this.yft.zIt()&&1===this.yft.HIt()[0].z6()||0===this.Y7t||this.rTt()}ur(){this.H7t=null,this.J7t=null,this.q7t=null,this.K7t=null,super.ur()}xTt(){return this.J7t.tW()}mit(){return!0}PH(){this.q7t=null}bTt(){this.C7t()}wb(t){const s=this.q7t;if(null!==s){t.WE(s);const i=this.MO();i.a6()?this.hzt(i,t):this.ozt(i,t)}}ozt(t,s){let i=this.rzt;this.lf.tD()&&(i=t.kAt(i)),s.YE(i,this.X7t)}hzt(s,t){const i=s.s3t();if(s.e3t()){s.DAt(wl,Sl,!1);let t=Sl;this.lf.tD()&&(t=s.kAt(t)),i.yb(s.l6(),t,this.X7t),s.i3t(!1)}i.wb(t)}azt(){return this.K7t.ei()}lzt(){return this._i.QCt(2)}uzt(t){this._i.KCt(2,t)}czt(){return this._i.QCt(1)}fzt(t){this._i.KCt(1,t)}dzt(){return this._i.QCt(4)}pzt(t){this._i.KCt(4,t)}EZ(){this.ezt&&this.mzt(),0<=this.izt&&this.gzt();const t=this.Y7t;if(this.lzt()&&0!==t){const s=this.lf.ED(this._i),i=(this.K7t.uc(s),this.azt()),e=this.J7t,n=e.sW()/t;if(!(i<this.Q7t+n)){const r=this.H7t,h=this.Z7t,o=r.z6(),a=r.W6(),l=r.N6(),u=r.H6(),c=(this.czt()?this.z7t++:this.z7t--,this.Q7t+=n,this.z7t>=o&&(u?(this.fzt(!1),this.z7t=o-2):!l&&(this.tzt++,this.tzt>=a)?this.yzt(!1):this.z7t=h),this.z7t<0&&(u?(this.z7t=1,this.fzt(!0),l||(this.tzt++,this.tzt>=a&&this.yzt(!0))):!l&&(this.tzt++,this.tzt>=a)?this.yzt(!0):this.z7t=h),this.z7t=E.gr(this.z7t,0,o-1),r.lGt(this.z7t));i>this.Q7t+c.sW()/t&&(this.Q7t=i),this.wzt(e,c)}}else this.UMt()}yzt(t){this.z7t=t?0:this.H7t.z6()-1,this.uzt(!1),this.szt=this.H7t.Kc(),this.pzt(!0),this.BMt("animationend",!1,{animationName:this.szt}),this.gN(E.nX.Ant.iX.Szt),this.gN(E.nX.Ant.iX.vzt),this.pzt(!1),this.tzt=0}wzt(i,e,t){if(i!==e){const s=this.MO(),n=i.tW(),r=e.tW(),h=n.um(),o=n.Mm(),a=r.um(),l=r.Mm(),u=(t&&t.onFrameChange?t.onFrameChange(s,h,o,a,l):(h!==a&&s.Sm(s.um()*(a/h)),o!==l&&s.fm(s.Mm()*(l/o))),s.cht(e.eW()),s.dht(e.rW()),s.HAt(e.mW()),s.zN(),this.J7t=e,this.q7t=r.Yx(),this.$7t=r.kC(),this.X7t=r.GTt(),this.JW()._nt());for(let t=0,s=u.length;t<s;++t)u[t].f_t(i,e);this.BMt("framechange",!1,{animationName:this.H7t.Kc(),bzt:this.z7t}),this.gN(E.nX.Ant.iX.xzt),this.lf.EO()}}Mzt(t){this.uzt(!0),this.Q7t=this.azt(),1===t&&0!==this.z7t&&(this.izt=0,this.dzt()||this.gzt()),this.rTt()}Tzt(t,s,i){this.ezt=t,this.nzt=s,this.rTt(),!i&&this.dzt()||this.mzt()}_zt(){return this.H7t}Gzt(){return this.ezt||this.H7t.Kc()}F7t(t){E.vn(t,this.Gzt())&&this.Tzt(this.yft.ZIt().Kc(),1,!0)}Izt(t){if("string"==typeof t)if(String(Number(t))===t)t=Number(t);else{const s=this.yft.qIt(this.Gzt());if(!s)return;if(-1===(t=s.fGt(t)))return}isFinite(t)&&(this.izt=t,this.dzt()||this.gzt())}O7t(){if(!this.ezt&&-1===this.izt){const t=this.J7t,s=this.H7t.lGt(E.gr(this.z7t,0,this.H7t.z6()-1));t!==s&&this.wzt(t,s),1<this.H7t.z6()&&0<this.Y7t&&this.rTt()}}Czt(){return this.z7t}Pzt(){return this.J7t.SW()}Ezt(t){this.Y7t=Math.abs(t),this.fzt(0<=t),0<this.Y7t&&this.rTt()}Azt(){return this.czt()?this.Y7t:-this.Y7t}Rzt(t){"string"==typeof t&&-1===(t=this.H7t.fGt(t))||(t=E.gr(Math.floor(t),0,this.H7t.z6()-1),this.Z7t=t)}Fzt(){return this.Z7t}mzt(t){const s=this.J7t,i=this.yft.qIt(this.ezt);if(this.ezt="",i&&(i!==this.H7t||!this.lzt())){this.H7t=i,this.fzt(0<=i.B6()),this.Y7t=Math.abs(i.B6()),this.Z7t=i.V6(),this.z7t=E.gr(this.z7t,0,this.H7t.z6()-1),1===this.nzt&&(this.z7t=0),this.uzt(!0),this.Q7t=this.azt();const e=this.H7t.lGt(this.z7t);this.wzt(s,e,t)}}gzt(t){const s=this.J7t,i=this.z7t;if(this.z7t=E.gr(Math.floor(this.izt),0,this.H7t.z6()-1),this.izt=-1,t||i!==this.z7t){const e=this.H7t.lGt(this.z7t);this.wzt(s,e),this.Q7t=this.azt()}}C7t(){const t=this.J7t.tW();this.q7t=t.Yx(),this.$7t=t.kC(),this.X7t=t.GTt(),this.MO().i3t(!0)}Yx(){return this.q7t}kC(){return this.$7t}GTt(){return this.X7t}aW(){return this.J7t.aW()}y2t(t){let s=this.J7t,i=this.MO(),e=null;if("string"==typeof t)e=s.dW(t);else{if("number"!=typeof t)throw new TypeError("expected string or number");e=s.fW(t-1)}let n=i.ZN();if(!e)return[i.I2(),i.E2(),n];if(vl.G(e._Gt()),i.a6()){const[r,h,o]=i.l6().Tb(vl.nl(),vl.hl());vl.set(r,h),n+=o}return vl.offset(-s.eW(),-s.rW()),vl.scale(i.um(),i.Mm()),vl.rotate(i.iB()),vl.offset(i.I2(),i.E2()),[vl.nl(),vl.hl(),n]}Dzt(){return this.MO().XAt().Nu()}Ozt(t){t=Math.floor(t);const s=this.MO(),i=s.XAt(),e=i.Nu();if((t=t===e?0:t)<0||e<=t)return[0,0];const n=i.Bu();return[n[2*t+0]+s.I2(),n[2*t+1]+s.E2()]}lTt(){const s=E.nX.Ant.$nt,t="plugins.sprite.debugger.animation-properties";return[{title:t+".title",properties:[{name:t+".current-animation",value:this.H7t.Kc(),XHt:t=>this.cTt(s.Lzt,t,0)},{name:t+".current-frame",value:this.z7t,XHt:t=>this.cTt(s.kzt,t)},{name:t+".is-playing",value:this.lzt(),XHt:t=>t?this.cTt(s.Bzt,0):this.cTt(s.Nzt)},{name:t+".speed",value:this.Y7t,XHt:t=>this.cTt(s.Wzt,t)},{name:t+".repeats",value:this.tzt,XHt:t=>this.tzt=t}]}]}j2(){const t={a:this.H7t.Zz()},s=(0!==this.Q7t&&(t.fs=this.Q7t),this.azt()),i=(0!==s&&(t.at=s),0!==this.z7t&&(t.f=this.z7t),0!==this.Y7t&&(t.cas=this.Y7t),1!==this.tzt&&(t.ar=this.tzt),0!==this.Z7t&&(t.rt=this.Z7t),this.lzt()||(t.ap=this.lzt()),this.czt()||(t.af=this.czt()),this.MO());return i.y4()&&(t.ce=i.y4()),t}V2(t){const s=this.E5().$It(t.a),i=(s&&(this.H7t=s),this.Q7t=t.hasOwnProperty("fs")?t.fs:0,this.K7t.Set(t.hasOwnProperty("at")?t.at:0),t.hasOwnProperty("f")?t.f:0),e=(this.z7t=E.gr(i,0,this.H7t.z6()-1),this.Y7t=t.hasOwnProperty("cas")?t.cas:0,this.tzt=t.hasOwnProperty("ar")?t.ar:1,t.hasOwnProperty("rt")?t.rt:0),n=(this.Z7t=E.gr(e,0,this.H7t.z6()-1),this.uzt(!t.hasOwnProperty("ap")||!!t.ap),this.fzt(!t.hasOwnProperty("af")||!!t.af),this.H7t.lGt(this.z7t)),r=(this.J7t=n,this.C7t(),this.MO());r.cht(n.eW()),r.dht(n.rW()),r.HAt(n.mW()),r.w4(!!t.ce),this.lzt()&&this.rTt()}Rrt(t){const s=this.MO();switch(t){case 3:return s.y4();case 2:return E.gr(this.z7t,0,this.H7t.z6()-1);case 1:return this.H7t.Kc()}}Brt(t,s,i){const e=this.MO();switch(t){case 3:e.w4(!!s);break;case 2:{this.uzt(!1);const n=this.H7t.z6()-1,r=s=E.gr(s,0,n),h=this.H7t.lGt(this.z7t),o=this.H7t.lGt(r);this.wzt(h,o,i),this.z7t=E.gr(r,0,n);break}case 1:{this.ezt=s,this.mzt(i);const a=this.H7t.z6();1<a&&0<this.H7t.B6()?this.rTt():this.UMt();break}}}bMt(){return self.jzt}},new WeakMap),bl=new Map([["current-frame",0],["beginning",1]]);self.jzt=class extends self.c6{constructor(){super(),A.set(this,self.C5.F5().g6())}oW(){return A.get(this).aW()}lW(t){return this.uW(t)[0]}cW(t){return this.uW(t)[1]}Vzt(t){return this.uW(t)[2]}uW(t){if("string"!=typeof t&&"number"!=typeof t)throw new TypeError("expected string or number");return A.get(this).y2t(t)}pW(){return A.get(this).Dzt()}gW(t){return yl.Me(t),A.get(this).Ozt(t)[0]}wW(t){return yl.Me(t),A.get(this).Ozt(t)[1]}yW(t){return yl.Me(t),A.get(this).Ozt(t)}Uzt(){A.get(this).uzt(!1)}Hzt(t="current-frame"){yl.Ie(t);const s=bl.get(t);if(void 0===s)throw new Error("invalid mode");A.get(this).Mzt(s)}zzt(t,s="beginning"){yl.Ie(t),yl.Ie(s);const i=bl.get(s);if(void 0===i)throw new Error("invalid mode");const e=A.get(this);if(!e.E5().qIt(t))throw new Error(`animation name "${t}" does not exist`);e.Tzt(t,i)}B7t(t){yl.Ie(t);const s=A.get(this).E5().qIt(t);return s?s.pGt():null}get animation(){return A.get(this)._zt().pGt()}get animationName(){return A.get(this).Gzt()}set bzt(t){yl.Me(t),A.get(this).Izt(t)}get bzt(){return A.get(this).Czt()}set Jzt(t){yl.Ie(t),A.get(this).Izt(t)}get Jzt(){return A.get(this).Pzt()}set qzt(t){yl.Me(t),A.get(this).Ezt(t)}get qzt(){return A.get(this).Azt()}set $zt(t){yl.Me(t),A.get(this).Rzt(t)}get $zt(){return A.get(this).Fzt()}get imageWidth(){return A.get(this).xTt().um()}get imageHeight(){return A.get(this).xTt().Mm()}Xzt(){const t=A.get(this).xTt();return[t.um(),t.Mm()]}async Yzt(t){yl.rn(t,Blob);const s=A.get(this),i=s.HO(),e=s.xTt(),n=E.lr(E.P_t);if(n.U_t(i,t),await n.C8(i.Jv(),{Pb:i.KF()}),s.cr())n.ur();else{e.H_t(n);const r=s.i2t();r.I7t(),r.E5().Vf().dispatchEvent(new E.Event("animationframeimagechange")),i.EO()}}Zzt(t,s){yl.Ie(s),A.get(this).MO().RAt(!!t,s)}}}{const xl=self.Bs;xl.nX.Ant.iX={Kzt(t){return xl.vn(this.Gzt(),t)},Qzt(t,s){return xl.compare(this.z7t,t,s)},t9t(t,s){if("string"!=typeof s)return!1;const i=this.J7t.SW();return xl.compare(i.toLowerCase(),t,s.toLowerCase())},s9t(t,s){return xl.compare(this.Azt(),t,s)},vzt(t){return xl.vn(this.szt,t)},Szt(){return!0},xzt(){return!0},i9t(){return this.MO().um()<0},e9t(){return this.MO().Mm()<0},n9t(){return!0},r9t(){return!0},y4(){return this.MO().y4()}}}{const Ml=self.Bs;Ml.nX.Ant.$nt={h9t(t,s,i,e,n){if(t&&s){const[r,h]=this.y2t(i),o=this.lf.jk(t,s,r,h,e,n);if(o){if(e&&s.Vk(o),t._k().rk()){const l=o.MO();l.sB(this.MO().iB()),l.zN()}const a=this.lf.lD();a.Uk(!0),o.Hk(),a.Uk(!1),t!==this.lf.Ndt().E5()&&this.VMt.E7t(t,o,e)}}},Nzt(){this.uzt(!1)},Bzt(t){this.Mzt(t)},Lzt(t,s){this.Tzt(t,s)},kzt(t){this.Izt(t)},Wzt(t){this.Ezt(t)},o9t(t){this.Rzt(t)},a9t(s,t){try{0===s?this.i2t().A7t(t):this.i2t().R7t(t)}catch(t){console.error(`[Construct] Error ${0===s?"adding":"removing"} animation: `,t)}},l9t(s,t,i){try{0===s?this.i2t().D7t(t,i):this.i2t().L7t(t,i)}catch(t){console.error(`[Construct] Error ${0===s?"adding":"removing"} animation frame: `,t)}},u9t(t){const s=this.MO(),i=s.um(),e=Math.abs(i)*(0===t?-1:1);i!==e&&(s.Sm(e),s.zN())},c9t(t){const s=this.MO(),i=s.Mm(),e=Math.abs(i)*(0===t?-1:1);i!==e&&(s.fm(e),s.zN())},Qk(t){const s=this.J7t,i=s.tW(),e=this.MO(),n=e.um()<0?-1:1,r=e.Mm()<0?-1:1,h=i.um()*t*n,o=i.Mm()*t*r;e.um()===h&&e.Mm()===o||(e.hC(h,o),e.zN())},async f9t(t,s,i){const e=this.J7t,n=e.tW(),r=this.MO(),h=this.lf,o=this.VMt;if(n.ZU()===t)0===s&&(r.hC(n.um(),n.Mm()),r.zN()),this.gN(Ml.nX.Ant.iX.n9t);else{const a=Ml.lr(Ml.P_t);try{if(await a.V_t(h,t),!a.MH())throw new Error("image failed to load");if(this.cr())return void a.ur();await a.C8(h.Jv(),{Pb:h.KF()})}catch(t){return console.error("Load image from URL failed: ",t),void(this.cr()||this.gN(Ml.nX.Ant.iX.r9t))}this.cr()?a.ur():(n.H_t(a),o.I7t(),o.E5().Vf().dispatchEvent(new Ml.Event("animationframeimagechange")),h.EO(),0===s&&(r.hC(n.um(),n.Mm()),r.zN()),await this.wN(Ml.nX.Ant.iX.n9t))}},d9t(t){this.MO().w4(t)},RAt(t,s){this.MO().RAt(0===t,s)},p9t(t){this.MO().d2(t),this.lf.EO()}}}{const Tl=self.Bs;Tl.nX.Ant.Xnt={m9t(){return this.Czt()},g9t(){return this.Pzt()},y9t(){return this.H7t.z6()},w9t(){return this.H7t.Kc()},S9t(){return this.Azt()},v9t(){return this.H7t.B6()},b9t(t){return this.y2t(t)[0]},x9t(t){return this.y2t(t)[1]},M9t(t){return this.y2t(t)[2]},T9t(){return this.aW()},_9t(){return this.xTt().um()},G9t(){return this.xTt().Mm()},I9t(t){return this.Ozt(t)[0]},C9t(t){return this.Ozt(t)[1]},P9t(){return this.Dzt()}}}{const _l=self.Bs;_l.nX.Text=class extends _l.Zxt{constructor(t){super(t)}ur(){super.ur()}}}{const Gl=self.Bs;Gl.nX.Text.fIt=class extends Gl.OMt{constructor(t){super(t)}ur(){super.ur()}vMt(){}G$(t){}R$(){}}}{const Il=self.Bs,Cl=self.$s,Pl=[0,0,0],El=["left","center","right"],Al=["top","center","bottom"],Rl=["ltr","rtl"],Fl=["word","cjk","character"],Dl=new Il.Rect,Ol=new Il.Ql,Ll=new Il.Uo,kl=Il.lr(Il.Qa),Bl=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["iconoffsety",null]]),R=(Il.nX.Text.Instance=class extends Il.pTt{constructor(t,s){if(super(t),this.uf="",this.E9t=!0,this.A9t="Arial",this.R9t=12,this.F9t=0,this.HG=!1,this.zG=!1,this.u2=Il.lr(Il.Uo),this.ZG=0,this.KG=0,this.sI="word",this.iI=0,this.D9t="auto",this.O9t=1,this.L9t=null,this.k9t="",this.B9t=!1,this.N9t=!1,this.W9t=null,this.j9t=-1,this.V9t=-1,this.U9t=0,this.H9t=Il.lr(Il.ey.Mv,this.lf.Jv(),{timeout:5}),this.H9t.EI=()=>this.lf.EO(),this.z9t=()=>this.J9t(),this.q9t=!1,s){this.uf=s[0],this.E9t=!!s[1],this.A9t=s[2],this.R9t=s[3],this.F9t=s[4],this.HG=!!s[5],this.zG=!!s[6],this.ZG=s[8],this.KG=s[9],this.sI=Fl[s[10]],this.iI=s[11],this.$9t(this.lf.EV(s[12]));const i=s[7];this.u2.Xo(i[0],i[1],i[2]),this.MO().NB(s[13]),this.N9t=!!s[15]}this.X9t(),this.Y9t()}ur(){this.$9t(null),this.Z9t(),this.W9t&&(this.W9t.ur(),this.W9t=null),this.H9t.ur(),this.H9t=null,super.ur()}X9t(){const t=this.H9t;t.df(this.uf),t.DI(this.E9t),this.H9t.kG()&&this.L9t?this.H9t.om(this.HO().N5t(this.L9t)):this.H9t.om(null),t.OI("nearest"!==this.lf.KF()),t.LI(this.A9t),t.WI(this.F9t),t.VI(this.HG),t.HI(this.zG),t.m2(this.u2),t.ZI(El[this.ZG]),t.QI(Al[this.KG]),t.sC(this.sI),t.eC(Rl[this.iI])}K9t(){let t=this.MO(),s=(this.H9t.kI(this.R9t),this.H9t.NI(t.QEt()),t.TO()),i;"auto"===this.D9t?i=s.cJ(t.ZN()):"fixed"===this.D9t&&(i=this.O9t),t.a6()&&i!==this.H9t.oC()&&t.i3t(!0),this.H9t.hC(t.um(),t.Mm(),i)}$9t(t){t&&(t.Vz()||t._k().constructor!==Il.nX.Ant)||t!==this.L9t&&(this.L9t&&this.L9t.Vf().removeEventListener("animationframeimagechange",this.z9t),this.L9t=t,this.L9t&&this.L9t.Vf().addEventListener("animationframeimagechange",this.z9t),this.X9t(),this.B9t=!1,this.lf.EO())}J9t(){this.lf.W5t(this.L9t),this.lf.EO(),this.q9t=!0}Y9t(){if(this.N9t){let t=this.uf;this.E9t&&(t=Il.Fn.Qp(t)),this.W9t?this.W9t.df(t):this.W9t=Il.lr(Il.hf,this.lf,t)}else this.W9t&&(this.W9t.ur(),this.W9t=null)}wb(t){const s=this.MO(),i=(this.K9t(),this.q9t&&(this.q9t=!1,this.H9t.kG())&&this.L9t&&this.H9t.om(this.HO().N5t(this.L9t)),this.H9t.Yx());if(i){const e=s.TO();if(0===s.iB()&&0===e.iB()&&0===s.ZN()&&!s.a6()&&e.P9()){const n=s.s4(),[r,h]=e._5(n.ih(),n.eh()),[o,a]=e._5(n.hh(),n.oh()),l=r-Math.round(r),u=h-Math.round(h),[c,f]=(Dl.set(r,h,o,a),Dl.offset(-l,-u),Ol.vu(Dl),t.tA(t.SA()));this.lf.FL().k8(t,c,f),t.WE(i),t.AS(Ol,this.H9t.kC()),e.N8(t)}else t.WE(i),s.a6()?this.hzt(s,t):this.ozt(s,t)}}ozt(t,s){let i=t.s4();this.lf.tD()&&(i=this.Q9t(i)),s.AS(i,this.H9t.kC())}hzt(s,t){const i=s.s3t();if(s.e3t()){s.DAt(Dl,Ol,!1);let t=Ol;this.lf.tD()&&(t=this.Q9t(t)),i.yb(s.l6(),t,this.H9t.kC()),s.i3t(!1)}i.wb(t)}Q9t(t){const s=t.ih()-Math.round(t.ih()),i=t.eh()-Math.round(t.eh());return 0==s&&0==i?t:(Ol.G(t),Ol.offset(-s,-i),Ol)}MTt(){const t=this.H9t.Yx();return t?[t.um(),t.Mm()]:[100,100]}TTt(){return this.H9t.kC()}ITt(){return!1}j2(){const t={t:this.uf,c:this.u2.toJSON(),fn:this.A9t,ps:this.R9t};return this.E9t&&(t.bbc=this.E9t),0!==this.ZG&&(t.ha=this.ZG),0!==this.KG&&(t.va=this.KG),"word"!==this.sI&&(t.wr=this.sI),0!==this.F9t&&(t.lho=this.F9t),this.HG&&(t.b=this.HG),this.zG&&(t.i=this.zG),-1!==this.V9t&&(t.tw={st:this.j9t,en:this.V9t,l:this.U9t}),this.L9t&&(t.ioc=this.L9t.Zz()),"fixed"===this.D9t&&(t.fs=this.O9t),t}V2(t){if(this.Z9t(),this.uf=t.t,this.u2.Va(t.c),this.A9t=t.fn,this.R9t=t.ps,this.E9t=!!t.hasOwnProperty("bbc")&&t.bbc,this.ZG=t.hasOwnProperty("ha")?t.ha:0,this.KG=t.hasOwnProperty("va")?t.va:0,t.hasOwnProperty("wr")){const s=t.wr;this.sI="boolean"==typeof s?s?"word":"character":s}else this.sI="word";if(this.F9t=t.hasOwnProperty("lho")?t.lho:0,this.HG=!!t.hasOwnProperty("b")&&t.b,this.zG=!!t.hasOwnProperty("i")&&t.i,t.hasOwnProperty("tw")){const i=t.tw;this.j9t=i.st,this.V9t=i.en,this.U9t=i.l}if(t.hasOwnProperty("ioc")){const e=this.HO().EV(t.ioc);e&&this.$9t(e)}else this.$9t(null);t.hasOwnProperty("fs")?(this.D9t="fixed",this.O9t=t.fs):this.D9t="auto",this.X9t(),this.Y9t(),this.B9t=!1,-1!==this.V9t&&this.rTt()}Rrt(t){switch(t){case 0:return this.rC();case 1:return this.E9t;case 2:return this.tJt();case 3:return this.sJt();case 4:return this.iJt();case 5:return this.eJt();case 6:return this.nJt();case 7:return Pl[0]=this.u2.na(),Pl[1]=this.u2.ra(),Pl[2]=this.u2.oa(),Pl;case 8:return this.rJt();case 9:return this.hJt();case 10:return this.oJt();case 15:return this.aJt()}}Brt(t,s){switch(t){case 0:this.lJt(s);break;case 1:this.E9t!==!!s&&(this.E9t=!!s,this.X9t());break;case 2:this.uJt(s);break;case 3:this.cJt(s);break;case 4:this.fJt(s);break;case 5:this.dJt(s);break;case 6:this.pJt(s);break;case 7:const i=this.u2,e=s;i.na()===e[0]&&i.ra()===e[1]&&i.oa()===e[2]||(this.u2.Xo(e[0],e[1],e[2]),this.X9t());break;case 8:this.mJt(s);break;case 9:this.gJt(s);break;case 10:this.yJt(s)}}uTt(t,s,i,e){0===s&&0===i&&0===e||7===t&&(this.u2.Yo(s,i,e),this.X9t())}lJt(t){this.uf!==t&&(this.uf=t,this.H9t.df(t),this.Y9t(),this.B9t=!1,this.lf.EO())}rC(){return this.uf}wJt(t,s){this.K9t(),this.lJt(t),this.j9t=this.lf.OD(),this.V9t=this.j9t+s/this.JW().q5(),this.U9t=this.H9t.cC(),this.H9t.JI(0),this.rTt()}Z9t(){this.j9t=-1,this.V9t=-1,this.U9t=0,this.H9t.JI(-1),this.UMt()}SJt(){-1!==this.V9t&&(this.Z9t(),this.gN(Il.nX.Text.iX.vJt),this.lf.EO())}uJt(t){this.A9t!==t&&(this.A9t=t,this.H9t.LI(t),this.lf.EO())}tJt(){return this.A9t}dJt(t){this.HG!==(t=!!t)&&(this.HG=t,this.H9t.VI(t),this.lf.EO())}eJt(){return this.HG}pJt(t){this.zG!==(t=!!t)&&(this.zG=t,this.H9t.HI(t),this.lf.EO())}nJt(){return this.zG}cJt(t){this.R9t!==t&&(this.R9t=t,this.lf.EO())}sJt(){return this.R9t}bJt(t){this.u2.fa(t)||(this.u2.ea(t),this.H9t.m2(this.u2),this.lf.EO())}xJt(){return this.u2}fJt(t){this.F9t!==t&&(this.F9t=t,this.X9t(),this.lf.EO())}iJt(){return this.F9t}mJt(t){this.ZG!==t&&(this.ZG=t,this.X9t(),this.lf.EO())}rJt(){return this.ZG}gJt(t){this.KG!==t&&(this.KG=t,this.X9t(),this.lf.EO())}hJt(){return this.KG}MJt(t){this.yJt(Fl[t])}yJt(t){this.sI!==t&&(this.sI=t,this.X9t(),this.lf.EO())}oJt(){return this.sI}TJt(t){this.iI!==t&&(this.iI=t,this.X9t(),this.lf.EO())}_Jt(){return this.iI}GJt(t){this.N9t=!!t,this.Y9t()}aJt(){return this.N9t}IJt(t){this.D9t!==t&&(this.D9t=t,this.lf.EO())}CJt(){return this.D9t}PJt(t){this.O9t!==t&&(this.O9t=t,"fixed"===this.D9t)&&this.lf.EO()}EJt(){return this.O9t}AJt(){return this.K9t(),this.H9t.aC()}RJt(){return this.K9t(),this.H9t.uC()}FJt(t,s){this.K9t();const i=this.MO(),e=(kl.set(t-i.I2(),s-i.E2()),kl.rotate(-i.iB()),kl.offset(i.um()*i.eW(),i.Mm()*i.rW()),kl.Ct(i.um(),i.Mm()),kl.scale(this.H9t.um(),this.H9t.Mm()),this.H9t.dC(kl.nl(),kl.hl()));if(e){const n=e.ug("tag");if(n)return n.param}return""}DJt(t,s,i){const e=this.FJt(s,i);return e&&Il.vn(t,e)}OJt(t,s){this.K9t(),s=Math.floor(s);const i=this.H9t.mC(t,s);if(!i)return null;const e=this.MO(),n=this.H9t.XI(),r=i.rg(),h=i.og()-(i.Mm()-i._m())*n,o=i.um()*n/this.H9t.um()*e.um(),a=i.Mm()*n/this.H9t.Mm()*e.Mm();return kl.set(r,h),kl.Ct(this.H9t.um(),this.H9t.Mm()),kl.scale(e.um(),e.Mm()),kl.offset(-e.um()*e.eW(),-e.Mm()*e.rW()),kl.rotate(e.iB()),kl.offset(e.I2(),e.E2()),{x:kl.nl(),y:kl.hl(),width:o,height:a}}LJt(t){return this.K9t(),this.H9t.gC(t)}kJt(t){let s=Bl.get(t);return null===s?"":`</${s||"span"||"span"}>`}BJt(t,s){let i=Bl.get(t);if(null===i)return"";switch(i=i||"span",t){case"color":return`<${i} style="color: ${s}">`;case"font":return`<${i} style="font-family: '${s}'">`;case"opacity":return`<${i} style="opacity: ${s}%">`;case"size":return`<${i} style="font-size: ${s}pt">`;case"background":return`<${i} style="background-color: ${s}">`;case"hide":return`<${i} style="visibility: hidden">`;case"class":return`<${i} class="${s}">`;case"tag":return`<${i} data-tag="${s}">`;default:return`<${i}>`}}async NJt(){if(!this.B9t){let t=new Il.Fn(this.uf,{Op:!0}).Jp(),s=new Map,n='<span class="c3-text"',i=[],r=(i.push(`font-family: '${this.tJt()}';`),this.eJt()&&i.push("font-weight: bold;"),this.nJt()&&i.push("font-style: italic;"),"character"===this.oJt()&&i.push("word-break: break-all;"),n+=` style="${i.join(" ")}">`,this.L9t?this.HO().N5t(this.L9t):null);if(this.L9t){const o=Il.lr(Il.md),a=[],l=new Map;for(const c of t)if(c.vm()){const f=c.yg(r);if(f){const d=f.Kg(),p=d.tW().X_t();l.has(p)||(l.set(p,null),a.push(o.uc(async()=>{const t=await p.FH();l.set(p,t)})))}}await Promise.all(a);const u=[];for(const m of t)if(m.vm()){const g=m.yg(r);if(g){const y=g.Kg(),w=y.tW().X_t();u.push(o.uc(async()=>{const t=await y.tW().Z_t(l.get(w));s.set(g,t)}))}}await Promise.all(u);for(const S of l.values())S instanceof ImageBitmap&&S.close&&S.close()}const h=new Map;for(const v of t){let e=v.dg(),t=[...h.keys()];t.reverse();for(const b of t)e.has(b)&&e.get(b)===h.get(b)||(h.delete(b),n+=this.kJt(b));for(const[x,M]of e)h.has(x)||(h.set(x,M),n+=this.BJt(x,M));if(v.wm()&&(n+=Il.tp(Il.K1(v.km().join("")),"\n","<br>")),v.vm()&&r){const T=v.yg(r);if(T){const _=s.get(T);if(_){let t=[],s="0.2em",i=e.get("iconoffsety");if(i){let t=i.trim();s=t.endsWith("%")?parseFloat(t)/100+"em":t+"px"}t.push("top: "+s),"nearest"===this.lf.KF()&&t.push("image-rendering: pixelated"),n+=`<img class="c3-text-icon" data-icon="${v.gg()}" width="${T.um()}" height="${T.Mm()}" style="${t.join(";")}" src="${_}">`}}}}const e=[...h.keys()];e.reverse();for(const G of e)n+=this.kJt(G);n+="</span>",this.k9t=n,this.B9t=!0}return this.k9t}EZ(){const s=this.lf.OD();if(s>=this.V9t)this.Z9t(),this.gN(Il.nX.Text.iX.vJt),this.lf.EO();else{let t=Il.Fr(this.j9t,this.V9t,s,0,this.U9t);(t=Math.floor(t))!==this.H9t.qI()&&(this.H9t.JI(t),this.lf.EO())}}lTt(){const t="plugins.text";return[{title:t+".name",properties:[{name:t+".properties.text.name",value:this.rC(),XHt:t=>this.lJt(t)},{name:t+".properties.font.name",value:this.tJt(),XHt:t=>this.uJt(t)},{name:t+".properties.size.name",value:this.sJt(),XHt:t=>this.cJt(t)},{name:t+".properties.line-height.name",value:this.iJt(),XHt:t=>this.fJt(t)},{name:t+".properties.bold.name",value:this.eJt(),XHt:t=>this.dJt(t)},{name:t+".properties.italic.name",value:this.nJt(),XHt:t=>this.pJt(t)}]}]}bMt(){return self.WJt}},new WeakMap),Nl=new Map([["left",0],["center",1],["right",2]]),Wl=new Map([["top",0],["center",1],["bottom",2]]),jl=["ltr","rtl"];new Set(["auto","fixed"]);self.WJt=class extends self.c6{constructor(){super(),R.set(this,self.C5.F5().g6())}get text(){return R.get(this).rC()}set text(t){Cl.Ie(t);const s=R.get(this);s.Z9t(),s.lJt(t)}jJt(t,s){Cl.Ie(t),Cl.Me(s);const i=R.get(this);i.Z9t(),i.wJt(t,s)}VJt(){R.get(this).SJt()}set V8(t){Cl.Ie(t),R.get(this).uJt(t)}get V8(){return R.get(this).tJt()}set H8(t){R.get(this).dJt(t)}get H8(){return R.get(this).eJt()}set z8(t){R.get(this).pJt(t)}get z8(){return R.get(this).nJt()}set U8(t){Cl.Me(t),R.get(this).cJt(t)}get U8(){return R.get(this).sJt()}set UJt(t){if(Cl.Ve(t),t.length<3)throw new Error("expected 3 elements");Ll.Xo(t[0],t[1],t[2]),R.get(this).bJt(Ll)}get UJt(){const t=R.get(this).xJt();return[t.na(),t.ra(),t.oa()]}set lineHeight(t){Cl.Me(t),R.get(this).fJt(t)}get lineHeight(){return R.get(this).iJt()}set X8(t){Cl.Ie(t);const s=Nl.get(t);if(void 0===s)throw new Error("invalid mode");R.get(this).mJt(s)}get X8(){return El[R.get(this).rJt()]}set verticalAlign(t){Cl.Ie(t);const s=Wl.get(t);if(void 0===s)throw new Error("invalid mode");R.get(this).gJt(s)}get verticalAlign(){return Al[R.get(this).hJt()]}set Y8(t){if(!Fl.includes(t))throw new Error("invalid mode");R.get(this).yJt(t)}get Y8(){return R.get(this).oJt()}set Z8(t){Cl.Ie(t);const s=jl.indexOf(t);if(-1===s)throw new Error("invalid text direction");R.get(this).TJt(s)}get Z8(){return jl[R.get(this)._Jt()]}set HJt(t){R.get(this).GJt(!!t)}get HJt(){return R.get(this).aJt()}zJt(t){Cl.Me(t);const s=R.get(this);s.IJt("fixed"),s.PJt(t)}JJt(){R.get(this).IJt("auto")}get tU(){return R.get(this).AJt()}get sU(){return R.get(this).RJt()}qJt(){const t=R.get(this);return[t.AJt(),t.RJt()]}$Jt(t,s,i){return Cl.Ie(t),Cl.Me(s),Cl.Me(i),R.get(this).DJt(t,s,i)}XJt(t,s){return Cl.Me(t),Cl.Me(s),R.get(this).FJt(t,s)}YJt(t,s=0){return Cl.Ie(t),Cl.Me(s),R.get(this).OJt(t,s)}ZJt(t){return Cl.Ie(t),R.get(this).LJt(t)}KJt(t){const s=R.get(this),i=s.HO().bL(t);s.$9t(i)}QJt(){return R.get(this).NJt()}}}{const Vl=self.Bs;Vl.nX.Text.iX={tqt(t,s){return s?this.uf===t:Vl.vn(this.uf,t)},sqt(){return-1!==this.V9t},vJt(){return!0},iqt(t,s,i){return this.DJt(t,s,i)}}}{const Ul=self.Bs,Hl=Ul.lr(Ul.Uo);Ul.nX.Text.$nt={df(t){this.Z9t(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.lJt(t.toString())},eqt(t){this.Z9t(),(t=(t="number"==typeof t&&t<1e9?Math.round(1e10*t)/1e10:t).toString())&&this.lJt(this.uf+t)},nqt(t,s){this.Z9t(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.wJt(t.toString(),s)},rqt(t,s){let i=!1,e=!1;switch(s){case 1:i=!0;break;case 2:e=!0;break;case 3:i=!0,e=!0}t===this.A9t&&i===this.HG&&e===this.zG||(this.uJt(t),this.dJt(i),this.pJt(e))},kI(t){this.cJt(t)},hqt(t){Hl.Ma(t),Hl.gr(),this.bJt(Hl)},oqt(t,s){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},p9t(t){this.MO().d2(t),this.lf.EO()},aqt(){this.SJt()},WI(t){this.fJt(t)},lqt(t){this.mJt(t)},uqt(t){this.gJt(t)},cqt(t){this.MJt(t)},eC(t){this.TJt(t)},fqt(t){this.$9t(t)},dqt(){return this.NJt()},pqt(t){this.GJt(t)},mqt(t,s){this.IJt(["auto","fixed"][t]),this.PJt(s)}}}{const zl=self.Bs;zl.nX.Text.Xnt={Text(){return this.uf},gqt(){return this.E9t?zl.Fn.Qp(this.uf):this.uf},yqt(){return this.A9t},wqt(){return this.R9t},Sqt(){return this.AJt()},vqt(){return this.RJt()},bqt(){return this.F9t},xqt(t,s){return this.FJt(t,s)},Mqt(t){return this.LJt(t)},Tqt(t,s){const i=this.OJt(t,s);return i?i.x:0},_qt(t,s){const i=this.OJt(t,s);return i?i.y:0},Gqt(t,s){const i=this.OJt(t,s);return i?i.width:0},Iqt(t,s){const i=this.OJt(t,s);return i?i.height:0},Cqt(){return this.k9t}}}{const Jl=self.Bs;Jl.Uat.Pqt=class extends Jl.ZTt{constructor(t){super(t)}ur(){super.ur()}}}{const ql=self.Bs;ql.Uat.Pqt.fIt=class extends ql.i_t{constructor(t){super(t)}ur(){super.ur()}vMt(){}}}{const $l=self.Bs,Xl=self.$s,Yl=self.b6,Zl=($l.Uat.Pqt.Instance=class extends $l.n_t{constructor(t,s){super(t),this.Eqt=0,this.Aqt=0,this.Rqt=0,this.Fqt=!0,this.Dqt=!0,this.Oqt=!1,this.Lqt=0,this.kqt=$l.lr($l.M0),this.Bqt=this._i.MO().OE()||1,s&&(this.Eqt=s[0],this.Aqt=s[1],this.Rqt=s[2],this.Fqt=!!s[3],this.Dqt=!!s[4],this.Lqt=this.Dqt?0:3),this.Dqt&&(0===this.Eqt?(this.Lqt=1,0===this.Aqt&&(this.Lqt=2)):(this._i.MO().kE(0),this.lf.EO())),this.rTt()}ur(){super.ur()}j2(){return{fit:this.Eqt,wt:this.Aqt,fot:this.Rqt,d:this.Fqt,s:this.Lqt,st:this.kqt.ei(),mo:this.Bqt}}V2(t){this.Eqt=t.fit,this.Aqt=t.wt,this.Rqt=t.fot,this.Fqt=t.d,this.Lqt=t.s,this.kqt.Set(t.st),this.Bqt=t.mo,3===this.Lqt?this.UMt():this.rTt()}EZ(){const t=this.lf.ED(this._i),s=(this.kqt.uc(t),this._i.MO());0===this.Lqt&&(s.kE(this.kqt.ei()/this.Eqt*this.Bqt),this.lf.EO(),s.OE()>=this.Bqt)&&(s.kE(this.Bqt),this.Lqt=1,this.kqt.l0(),this.BMt("fadeinend"),this.gN($l.Uat.Pqt.iX.Nqt)),1===this.Lqt&&this.kqt.ei()>=this.Aqt&&(this.Lqt=2,this.kqt.l0(),this.BMt("waitend"),this.gN($l.Uat.Pqt.iX.Wqt)),2===this.Lqt&&(0!==this.Rqt?(s.kE(this.Bqt-this.kqt.ei()/this.Rqt*this.Bqt),this.lf.EO(),s.OE()<=0&&(this.Lqt=3,this.kqt.l0(),this.BMt("fadeoutend"),this.gN($l.Uat.Pqt.iX.jqt),this.Fqt)&&this.lf.k5(this._i)):(this.Lqt=3,this.kqt.l0())),3===this.Lqt&&this.UMt()}Vqt(){this.Dqt||this.Oqt||(this.Bqt=this._i.MO().OE()||1,this.Oqt=!0),3===this.Lqt&&this.dA()}Uqt(){this.dA()}dA(){this.Lqt=0,this.kqt.l0(),0===this.Eqt?(this.Lqt=1,0===this.Aqt&&(this.Lqt=2)):(this._i.MO().kE(0),this.lf.EO()),this.rTt()}Hqt(t){this.Eqt=Math.max(t,0)}zqt(){return this.Eqt}Jqt(t){this.Aqt=Math.max(t,0)}qqt(){return this.Aqt}$qt(t){this.Rqt=Math.max(t,0)}Xqt(){return this.Rqt}Rrt(t){switch(t){case 0:return this.zqt();case 1:return this.qqt();case 2:return this.Xqt();case 3:return this.Fqt}}Brt(t,s){switch(t){case 0:this.Hqt(s);break;case 1:this.Jqt(s);break;case 2:this.$qt(s);break;case 3:this.Fqt=!!s}}lTt(){const t="behaviors.fade";return[{title:"$"+this.G6().Kc(),properties:[{name:t+".properties.fade-in-time.name",value:this.zqt(),XHt:t=>this.Hqt(t)},{name:t+".properties.wait-time.name",value:this.qqt(),XHt:t=>this.Jqt(t)},{name:t+".properties.fade-out-time.name",value:this.Xqt(),XHt:t=>this.$qt(t)},{name:t+".debugger.stage",value:[t+".debugger."+["fade-in","wait","fade-out","done"][this.Lqt]]}]}]}bMt(){return self.Yqt}},new WeakMap);self.Yqt=class extends Yl{constructor(){super(),Zl.set(this,Yl.F5().g6())}Zqt(){Zl.get(this).Vqt()}Kqt(){Zl.get(this).Uqt()}set Qqt(t){Xl.Me(t),Zl.get(this).Hqt(t)}get Qqt(){return Zl.get(this).zqt()}set t$t(t){Xl.Me(t),Zl.get(this).Jqt(t)}get t$t(){return Zl.get(this).qqt()}set s$t(t){Xl.Me(t),Zl.get(this).$qt(t)}get s$t(){return Zl.get(this).Xqt()}}}{const Kl=self.Bs;Kl.Uat.Pqt.iX={jqt(){return!0},Nqt(){return!0},Wqt(){return!0}}}{const Ql=self.Bs;Ql.Uat.Pqt.$nt={i$t(){this.Vqt()},e$t(){this.Uqt()},n$t(t){this.Hqt(t)},r$t(t){this.Jqt(t)},h$t(t){this.$qt(t)}}}{const tu=self.Bs;tu.Uat.Pqt.Xnt={o$t(){return this.zqt()},a$t(){return this.qqt()},l$t(){return this.Xqt()}}}{const su=self.Bs;su.Uat.Vat=class extends su.ZTt{constructor(t){super(t)}ur(){super.ur()}}}{const iu=self.Bs;iu.Uat.Vat.fIt=class extends iu.i_t{constructor(t){super(t)}ur(){super.ur()}vMt(){}}}{const eu=self.Bs,nu=eu.Uat.Vat;nu.Instance=class extends eu.n_t{constructor(t,s){super(t),this.u$t=!1,this.ku=!0,s&&(this.u$t=!1,this.ku=!!s[0]),this.c$t=new Map,this.f$t=[],this.d$t=new Map,this.p$t=null,this.m$t=null,this.g$t=null,this.y$t=null,this.w$t="",this.S$t=[],this.FY=t=>this.DY(),this.HO().Vf().addEventListener("afterload",this.FY)}ur(){this.HO().Vf().removeEventListener("afterload",this.FY),this.FY=null,this.p$t&&(this.v$t(this.p$t),this.p$t=null),this.b$t(),this.x$t=null,this.M$t(),this.f$t=null,this.T$t(),this.d$t=null,this.S$t=null,super.ur()}$at(t){this.S$t.push(t)}Xat(){this.S$t.pop()}_$t(){return this.S$t[this.S$t.length-1]}Ext(t){this.ku=!!t,t?this.d$t&&this.d$t.size&&this.oTt():this.HMt();for(const s of this.G$t())t?this.I$t(s)&&s.MW():((s.IsPlaying()||s.Itt())&&this.C$t(s),s.xW());t&&this.M$t()}Zu(){return this.ku}C$t(t){this.f$t.push(t)}I$t(t){return this.f$t.includes(t)}M$t(){eu.Bh(this.f$t)}P$t(){return this.p$t}Vst(){const t=this.C6();return!!t&&!t.Yj()}E$t(t,s,i=!1){const e=s?this.A$t(s,i):this.G$t(i);if(e&&e.length)for(const n of e)if(n.TW(t))return n}R$t(t,s){for(const i of this.c$t.values())for(const e of i)if(!e.vW()&&e.TW(t)&&s(e))return!0;for(const n of this.d$t.values())for(const r of n)if(!r.vW()&&r.TW(t)&&s(r))return!0;return!1}F$t(t){for(const s of this.c$t.values())for(const i of s)if(!i.vW()&&t(i))return!0;for(const e of this.d$t.values())for(const n of e)if(!n.vW()&&t(n))return!0;return!1}D$t(t,s){return this.E$t(t,s,!0)}*O$t(t,s,i=!1){const e=s?this.A$t(s,i):this.G$t(i);if(e&&e.length)for(const n of e)n.TW(t)&&(yield n)}*L$t(t,s){yield*this.O$t(t,s,!0)}A$t(i,t){if(t){let t=this.c$t.get(i),s=this.d$t.get(i);return(t=t||[]).concat(s||[]).filter(t=>t).filter(t=>!t.vW())}{let t=this.c$t.get(i);return(t=t||[]).filter(t=>t).filter(t=>!t.vW())}}G$t(t){if(t){const s=[...this.c$t.values()].flat(),i=[...this.d$t.values()].flat();return s.concat(i).filter(t=>t).filter(t=>!t.vW())}{const e=[...this.c$t.values()].flat();return e.filter(t=>t).filter(t=>!t.vW())}}k$t(){return this.G$t(!0)}j2(t=0){return{s:!1,e:!!this.ku,at:this.B$t(),dt:this.N$t(),wt:this.W$t(),ft:this.j$t()}}V2(t,s="full"){t&&(this.m$t=t.at,this.g$t=t.dt,this.y$t=t.wt,this.w$t=t.ft,this.u$t=!1,this.ku=!!t.e,"state"===s)&&this.DY()}DY(){const t=this.HO().itt();if(this.V$t(this.m$t,this.c$t,t),this.g$t){eu.Bh(this.f$t);for(const s of this.g$t)this.U$t(this.f$t,s,t)}this.V$t(this.y$t,this.d$t,t),this.p$t=this.H$t(this.w$t,t),this.ku?this.d$t&&this.d$t.size&&this.oTt():this.HMt()}V$t(s,i,e){if(s)for(const n in s){let t=i.get(n);t?eu.Bh(t):t=[];const r=s[n];for(const h of r){const o=this.U$t(t,h.name,e);if(o)this.z$t(h.name,h,e);else{const a=eu.Iht.Kat({runtime:this.HO(),json:h});eu.Iht.hit(a,this.C6().H5()),a.Pat(t=>this.J$t(t)),e.cZ(a),this.U$t(t,a,e)}}i.set(n,t)}}H$t(t,s){return s.aZ(t)}U$t(t,s,i){if("string"!=typeof s)return!!t.push(s);{const e=this.H$t(s,i);if(e)return!!t.push(e)}return!1}z$t(t,s,i){if("string"==typeof t){const e=this.H$t(t,i);e&&(e.gq(s),eu.Iht.hit(e,this.C6().H5()))}else t.gq(s),eu.Iht.hit(t,this.C6().H5())}B$t(){const t={};for(const[s,i]of this.c$t)t[s]=i.filter(t=>!t.vW()).map(t=>t.mq());return t}N$t(){return this.f$t.filter(t=>!t.vW()).map(t=>t.Kc())}W$t(){const t={};for(const[s,i]of this.d$t)t[s]=i.map(t=>t.mq());return t}j$t(){return this.p$t?this.p$t.Kc():""}nTt(){this.T$t()}q$t(t){const s=nu.X$t.$$t(t.property,t.elt,t.nlt,t.ease,t.resultMode,this.C6()),i=nu.Z$t.Y$t(t.property),e=(nu.Z$t.K$t(i)||this.Q$t(t.property),eu.Iht.Kat({runtime:this.HO(),id:i,tags:t.tags,time:t.time,I6:this.C6(),tlt:!!t.tlt,loop:!!t.loop,pingPong:!!t.pingPong,repeatCount:t.repeatCount,initialValueMode:t.initialValueMode,Qat:s}));return e.Pat(t=>this.J$t(t)),this.tXt(e,t.property),e}sXt(t){const s=t.YW();if(this.c$t.has(s)){const i=this.c$t.get(s);if(i){const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}}UW(t,s=!1){this.sXt(t),t.vW()||this.iXt(t)||(t.xW(s),this.eXt(t))}Q$t(t,s=!1){if(eu.ge(t)){const i=nu.Z$t.Y$t(t);if(this.c$t.has(i)){const e=this.c$t.get(i),n=this.P$t();for(const r of e)r===n||r.vW()||this.iXt(r)||(r.xW(s),r.ur());eu.Bh(e)}}else{const h=this.P$t();for(const o of this.G$t())o===h||o.vW()||this.iXt(o)||(o.xW(s),o.ur());for(const a of this.c$t.keys())eu.Bh(this.c$t.get(a)),this.c$t.delete(a);this.c$t.clear()}}v$t(t){this.UW(t,!0)}b$t(){this.Q$t(NaN,!0)}Rrt(t){if(0===t)return this.ku}Brt(t,s){0===t&&(this.ku=!!s)}nXt(t){const s=t.JW(),i=s._nt();for(const e of i){const n=e.G6();if(n.DIt()===this.constructor)return n}}gN(t,s,i,e){return this.lf?super.gN(t):s.gN(t,i,e)}J$t(t){this.p$t=t,nu.iX.rXt(t);let s,i;if(this.HO())s=this._i,i=this.lf,this.gN(nu.iX.hXt),this.gN(nu.iX.oXt),this.UW(t);else{if(!(s=t.JW()))return;if(s&&s.Yj())return;i=s.HO();const e=this.nXt(t);this.gN(nu.iX.hXt,i,s,e),this.gN(nu.iX.oXt,i,s,e),t.xW()}this.p$t=null,nu.iX.rXt(null),t.$W()&&i.k5(s)}tXt(t,s){const i=nu.Z$t.Y$t(s),e=(this.c$t.has(i)||this.c$t.set(i,[]),this.c$t.get(i));e.push(t)}eXt(t){const s=t.YW();this.d$t.has(s)||this.d$t.set(s,[]),this.d$t.get(s).push(t),this.aTt()||this.oTt()}iXt(t){const s=t.YW();return!!this.d$t.has(s)&&this.d$t.get(s).includes(t)}T$t(){if(this.d$t.size){for(const t of this.d$t.values()){for(const s of t)s.vW()||s.ur();eu.Bh(t)}this.d$t.clear(),this.aTt()&&this.HMt()}}lTt(){return[{title:"$"+this.G6().Kc(),properties:[{name:"behaviors.tween.properties.enabled.name",value:this.Zu(),XHt:t=>this.Ext(t)}]}]}bMt(){return self.aXt}}}{let i=self.Bs,s=null;i.Uat.Vat.iX={jat(){return!0},Hat(t){const s=this._$t();return!!s&&s.TW(t)},zat(t){const s=this._$t();return!!s&&(s.ytt()===t||2===t)},Jat(t,s){const i=this._$t();return!!i&&(i.ytt()===s||2===s)&&i.TW(t)},rXt(t){s=t},hXt(t){return s.TW(t)},oXt(){return!0},IsPlaying(t){return this.R$t(t,i.Iht.IsPlaying)},kUt(){return this.F$t(i.Iht.IsPlaying)},BW(t){return this.R$t(t,i.Iht.BW)},lXt(){return this.F$t(i.Iht.BW)},H6(t,s){return 0===s?this.R$t(t,i.Iht.Yat):1===s&&this.R$t(t,i.Iht.Zat)},uXt(t){return 0===t?this.F$t(i.Iht.Yat):1===t&&this.F$t(i.Iht.Zat)}}}{const ru=self.Bs,hu=self.mc,ou=ru.Uat.Vat;ou.$nt={Ext(t){this.Ext(!!t)},async cXt(...t){if(this.Zu()&&this.Vst()){const s=this.q$t(ou.dXt.fXt(this,...t));s.Play()&&await s.LW()}},async pXt(...t){if(this.Zu()&&this.Vst()){const s=this.q$t(ou.dXt.mXt(this,...t));s.Play()&&await s.LW()}},async gXt(...t){if(this.Zu()&&this.Vst()){const s=this.q$t(ou.dXt.yXt(this,...t));s.Play()&&await s.LW()}},wXt(t){if(this.Zu()&&this.Vst())for(const s of this.O$t(t))s.xW()},SXt(){if(this.Zu()&&this.Vst())for(const t of this.G$t())t.xW()},vXt(t){if(this.Zu()&&this.Vst())for(const s of this.O$t(t))s.MW()},bXt(){if(this.Zu()&&this.Vst())for(const t of this.G$t())t.MW()},xXt(t){if(this.Zu()&&this.Vst())for(const s of this.O$t(t))this.UW(s)},MXt(){if(this.Zu()&&this.Vst())for(const t of this.G$t())this.UW(t)},TXt(t,s,i){if(this.Zu()&&this.Vst()){const e=ru.Uat.Vat.Z$t._Xt(s);for(const n of this.O$t(t))n.Dat([e]),n.Oat(i,e)}},GXt(t,s,i,e){if(this.Zu()&&this.Vst()){const n=ru.Uat.Vat.Z$t.IXt(s);for(const r of this.O$t(t))r.Dat(n),r.Oat(i,n[0]),r.Oat(e,n[1])}},CXt(t,s){if(this.Zu()&&this.Vst())for(const i of this.O$t(t,"value"))i.Rat(s,"value")},PXt(t,s){if(this.Zu()&&this.Vst())for(const i of this.O$t(t,"value"))i.Dat(["value"]),i.Oat(s,"value")},EXt(t,s){if(this.Zu()&&this.Vst()){const i=hu.Dc(s);for(const e of this.O$t(t))e.zW(i)}},AXt(t){if(this.Zu()&&this.Vst()){const s=hu.Dc(t);for(const i of this.G$t())i.zW(s)}},RXt(t,s){if(this.Zu()&&this.Vst())for(const i of this.O$t(t))i._W(s)},FXt(t){if(this.Zu()&&this.Vst())for(const s of this.G$t())s._W(t)},DXt(t,s){if(this.Zu()&&this.Vst())for(const i of this.O$t(t))i.FW(s)},OXt(t){if(this.Zu()&&this.Vst())for(const s of this.G$t())s.FW(t)},LXt(t,s){if(this.Zu()&&this.Vst())for(const i of this.O$t(t))i.XW(!!s)},kXt(t){if(this.Zu()&&this.Vst())for(const s of this.G$t())s.XW(!!t)}}}{const au=self.Bs;au.Uat.Vat.Xnt={BXt(t){const s=this.D$t(t);return s?s.u3():0},NXt(t){const s=this.D$t(t);return s?s.u3()/s.IW():0},ert(t){const s=this.D$t(t);return s?s.DW():0},WXt(t){const s=this.D$t(t,"value");return s?s.KW("value").ZW():0},kbt(){let t=this.P$t();return(t=t||this._$t())?t.btt():""}}}{const lu=self.Bs,uu=self.mc,cu=["position","size","scale"],fu=["offsetX","offsetY","offsetWidth","offsetHeight","offsetAngle","offsetOpacity","offsetColor","offsetZElevation","offsetScaleX","offsetScaleY"],du=["value"],pu=[].concat(cu).concat(fu).concat(du),mu={position:["offsetX","offsetY"],size:["offsetWidth","offsetHeight"],scale:["offsetScaleX","offsetScaleY"]},gu=Object.assign({},pu.reduce((t,s)=>Object.assign({},t,{[s]:[s]}),{}),mu);lu.Uat.Vat.Z$t=class{constructor(){}static jXt(){return[...uu.Tc()]}static Dc(t){return[...uu.Tc()][t]}static Y$t(t){return pu[t]}static VXt(t){return pu.indexOf(t)}static UXt(t){return cu[t]}static _Xt(t){return fu[t]}static HXt(t){return du[t]}static zXt(t){return mu[t]}static IXt(t){return lu.Ge(t)?gu[t]:gu[pu[t]]}static JXt(t){return!!mu[t]}static qXt(t){return"offsetColor"===t}static $Xt(t){return"offsetAngle"===t}static XXt(t){return"offsetOpacity"===t}static K$t(t){return"value"===t}}}{const yu=self.Bs,wu=yu.Uat.Vat,Su=new Map;wu.X$t=class{constructor(){}static $$t(t,s,i,e,n,r){0===Su.size&&this.YXt();let h=wu.KXt.ZXt(t),o=Su.get(h);return yu.ge(t)&&(t=wu.Z$t.Y$t(t)),this.QXt(o,t,s,i,e,n,r)}static tYt(t,s){const i=yu.Uat.Vat.$$t(t);return i.sYt(s)}static YXt(){const t=wu.KXt,s=wu.iYt;this.eYt(t.nYt,this.rYt,s.hYt),this.eYt(t.COLOR,this.oYt,s.aYt),this.eYt(t.lYt,this.uYt,s.cYt),this.eYt(t.fYt,this.dYt,s.hYt),this.eYt(t.pYt,this.mYt,s.hYt)}static eYt(t,s,i){Su.set(t,this.gYt(t,s,i))}static gYt(t,s,i){return{name:t,yYt:s,sYt:i}}static QXt(t,s,i,e,n,r,h){return t.yYt(s,t.sYt(i),t.sYt(e),n,r,h)}static rYt(t,i,e,n,r,s){const h=wu.Z$t.zXt(t);return h.map((t,s)=>({slt:"world-instance",property:t,type:"float",valueType:"numeric",elt:i[s],nlt:e[s],ease:wu.Z$t.Dc(n),resultMode:r}))}static oYt(t,s,i,e,n,r){return yu.nX.Text&&r._k()instanceof yu.nX.Text?{slt:"plugin",ilt:[7],property:"color",type:"color",valueType:"color",elt:s,nlt:i,ease:wu.Z$t.Dc(e),resultMode:n}:{slt:"world-instance",property:t,type:"color",valueType:"color",elt:s,nlt:i,ease:wu.Z$t.Dc(e),resultMode:n}}static uYt(t,s,i,e,n,r){return{slt:"world-instance",property:t,type:"angle",valueType:"angle",elt:s,nlt:i,ease:wu.Z$t.Dc(e),resultMode:n}}static mYt(t,s,i,e,n,r){return{slt:"world-instance",property:t,type:"float",valueType:"numeric",elt:s,nlt:i,ease:wu.Z$t.Dc(e),resultMode:n}}static dYt(t,s,i,e,n,r){return{slt:"value",property:t,type:"float",valueType:"numeric",elt:s,nlt:i,ease:wu.Z$t.Dc(e),resultMode:n}}}}{const vu=self.Bs,bu=vu.Uat.Vat,xu={resultMode:"absolute"},Mu=Object.assign({},xu,{tags:"",property:"",time:0,ease:0,tlt:0,loop:!1,pingPong:!1,repeatCount:1}),Tu=Object.assign({},Mu,{initialValueMode:"current-state",elt:0,nlt:0}),_u=Object.assign({},Mu,{initialValueMode:"current-state",elt:[0,0],nlt:[0,0]}),Gu=Object.assign({},Mu,{initialValueMode:"current-state",elt:[0,0,0],nlt:[0,0,0]}),Iu=Object.assign({},Tu,{initialValueMode:"start-value"});bu.dXt=class{constructor(){}static wYt(t,s,i,e,n,r,h,o){t.tags=s,t.time=i,t.ease=e,t.tlt=n,t.loop=r,t.pingPong=h,t.repeatCount=o}static fXt(t,s,i,e,n,r,h,o,a,l){const u="string"==typeof i?i:bu.Z$t._Xt(i),c=bu.Z$t.qXt(u)?Gu:Tu;return this.wYt(c,s,n,r,h,o,a,l),bu.Z$t.qXt(u)?(Gu.nlt[0]=vu.Jr(e),Gu.nlt[1]=vu.qr(e),Gu.nlt[2]=vu.$r(e),Gu.property=bu.Z$t.VXt(u)):bu.Z$t.XXt(u)?Tu.nlt=e/100:Tu.nlt=e,c.property=bu.Z$t.VXt(u),c}static mXt(t,s,i,e,n,r,h,o,a,l,u){this.wYt(_u,s,r,h,o,a,l,u);const c="string"==typeof i?i:bu.Z$t.UXt(i);return _u.nlt[0]=e,_u.nlt[1]=n,_u.property=bu.Z$t.VXt(c),_u}static yXt(t,s,i,e,n,r,h,o,a,l){return this.wYt(Iu,s,n,r,h,o,a,l),Iu.elt=i,Iu.nlt=e,Iu.property=bu.Z$t.VXt("value"),Iu}}}{const Cu=self.Bs,Pu=Cu.Uat.Vat,Eu=[];Pu.KXt=class{constructor(){}static ZXt(t){if(0===Eu.length){const s=Eu;s.push({dP:Pu.Z$t.JXt,result:this.nYt}),s.push({dP:Pu.Z$t.qXt,result:this.COLOR}),s.push({dP:Pu.Z$t.$Xt,result:this.lYt}),s.push({dP:Pu.Z$t.K$t,result:this.fYt}),s.push({dP:()=>!0,result:this.pYt})}Cu.ge(t)&&(t=Cu.Uat.Vat.Z$t.Y$t(t));for(const i of Eu)if(i.dP(t))return i.result}static get nYt(){return"pair"}static get COLOR(){return"color"}static get lYt(){return"angle"}static get fYt(){return"value"}static get pYt(){return"other"}}}{const Au=self.Bs,Ru=Au.Uat.Vat;Ru.iYt=class{constructor(){}static cYt(t){const s=Au.Sr(parseFloat(t));return Au.yr(s)}static aYt(t){return t.slice(0)}static hYt(t){return t}}}{let l=function(t){Du.Ie(t);let s=Lu.Sc(t),i;if(-1===(i=s?Lu.Oc(s,null):Lu.Oc(t,null)))throw new Error(`invalid ease name '${t}'`);return i},u=function(t,s=!1){if(!(s&&null==t||"string"==typeof t||Array.isArray(t)))throw new Error("invalid tags")};l,u;const Fu=self.Bs,Du=self.$s,Ou=self.b6,Lu=self.mc,ku=Fu.Uat.Vat,Bu=new WeakMap,Nu=new Map([["x",{name:"offsetX",type:"one"}],["y",{name:"offsetY",type:"one"}],["width",{name:"offsetWidth",type:"one"}],["height",{name:"offsetHeight",type:"one"}],["angle",{name:"offsetAngle",type:"one"}],["opacity",{name:"offsetOpacity",type:"one"}],["color",{name:"offsetColor",type:"color"}],["z-elevation",{name:"offsetZElevation",type:"one"}],["x-scale",{name:"offsetScaleX",type:"one"}],["y-scale",{name:"offsetScaleY",type:"one"}],["position",{name:"position",type:"two"}],["size",{name:"size",type:"two"}],["scale",{name:"scale",type:"two"}],["value",{name:"value",type:"value"}]]),Wu={tags:"",SYt:!1,loop:!1,pingPong:!1,repeatCount:1,elt:0},ju={VW:l};self.aXt=class extends Ou{constructor(){super(),Bu.set(this,Ou.F5().g6())}vYt(t,s,i,e,n){const r=Bu.get(this);if(!r.Zu()||!r.Vst())return null;const h=Nu.get(t);if(!h)throw new Error("invalid tween property");"one"===h.type||"value"===h.type?Du.ye(s):(Du.Ve(s),"two"===h.type?(Du.ye(s[0]),Du.ye(s[1])):"color"===h.type&&(Du.ye(s[0]),Du.ye(s[1]),Du.ye(s[2]))),"angle"===t?s=Fu.vr(s):"opacity"===t?s*=100:"color"===t&&(s=Fu.zr(s[0],s[1],s[2]));const o=l(e);Du.Me(i),n=Object.assign({},Wu,n),"value"===h.type&&Du.ye(n.elt),u(n.tags,!0);let a;if("one"===h.type||"color"===h.type?a=r.q$t(ku.dXt.fXt(r,n.tags,h.name,s,i,o,!!n.SYt,!!n.loop,!!n.pingPong,n.repeatCount)):"two"===h.type?a=r.q$t(ku.dXt.mXt(r,n.tags,h.name,s[0],s[1],i,o,!!n.SYt,!!n.loop,!!n.pingPong,n.repeatCount)):"value"===h.type&&(a=r.q$t(ku.dXt.yXt(r,n.tags,n.elt,s,i,o,!!n.SYt,!!n.loop,!!n.pingPong,n.repeatCount))),a.Play())return a.rlt(r,ju);throw new Error("failed to start tween")}*bYt(){const t=Bu.get(this);for(const s of t.G$t())yield s.rlt(t,ju)}*xYt(t){u(t);const s=Bu.get(this);for(const i of s.O$t(t))yield i.rlt(s,ju)}get isEnabled(){return Bu.get(this).Zu()}set isEnabled(t){Bu.get(this).Ext(t)}}}{const Vu=self.Bs;Vu.Uat.MYt=class extends Vu.ZTt{constructor(t){super(t),this.TYt=0,this._Yt=0,this.GYt=0,this.IYt=0}ur(){super.ur()}CYt(t){this.TYt=t}PYt(){return this.TYt}EYt(t){this._Yt=t}AYt(){return this._Yt}RYt(t){this.GYt=t}FYt(){return this.GYt}DYt(t){this.IYt=t}OYt(){return this.IYt}}}{const Uu=self.Bs;Uu.Uat.MYt.fIt=class extends Uu.i_t{constructor(t){super(t)}ur(){super.ur()}vMt(){}}}{const Hu=self.Bs;Hu.Uat.MYt.Instance=class extends Hu.n_t{constructor(t,s){super(t),this.kyt=!0,s&&(this.kyt=s[0]),this.kyt&&this.oTt()}ur(){super.ur()}j2(){const t=this.M6();return{e:this.kyt,smg:t.PYt(),ss:t.AYt(),se:t.FYt(),smd:t.OYt()}}V2(t){const s=this.M6();s.CYt(t.smg),s.EYt(t.ss),s.RYt(t.se),s.DYt(t.smd),this.kyt=t.e,this.kyt?this.oTt():this.HMt()}Ebt(t){this.kyt=!!t,this.kyt?this.oTt():this.HMt()}Zu(){return this.kyt}nTt(){if(this.Zu()){this.lf.ED(this._i);let s=this.M6(),t=s.Lk(),i=0,e=0,n=0;for(const l of t){const u=l.pPt(Hu.Uat.MYt);if(u&&u.g6().Zu()){const c=l.MO();i+=c.I2(),e+=c.E2(),++n}}let r=this._i.MO().rO(),h=this.lf.FD(),o=0,a=0;if(h>=s.AYt()&&h<s.FYt()){let t=s.PYt()*Math.min(this.lf.LD(),1);0===s.OYt()&&(t*=1-(h-s.AYt())/(s.FYt()-s.AYt()));const f=this.lf.tO()*Math.PI*2,d=this.lf.tO()*t;o=Math.cos(f)*d,a=Math.sin(f)*d}r.eB(i/n+o),r.rB(e/n+a)}}Rrt(t){if(0===t)return this.kyt}Brt(t,s){0===t&&(this.kyt=!!s,this.kyt?this.oTt():this.HMt())}lTt(){return[{title:"$"+this.G6().Kc(),properties:[{name:"behaviors.scrollto.properties.enabled.name",value:this.Zu(),XHt:t=>this.Ebt(t)}]}]}}}{const zu=self.Bs;zu.Uat.MYt.iX={Zu(){return this.Zu()}}}{const Ju=self.Bs;Ju.Uat.MYt.$nt={LYt(t,s,i){const e=this.M6();e.CYt(t),e.EYt(this.lf.FD()),e.RYt(this.lf.FD()+s),e.DYt(i)},Ext(t){this.Ebt(0!==t)}}}{const qu=self.Bs;qu.Uat.MYt.Xnt={}}{const $u=self.Bs;$u.Uat.kYt=class extends $u.ZTt{constructor(t){super(t);const s=this.lf.Vf();this.v0=new $u.y0($u.c0.g0(s,"pointerdown",t=>this.Qjt(t.data)),$u.c0.g0(s,"pointermove",t=>this.tVt(t.data)),$u.c0.g0(s,"pointerup",t=>this.sVt(t.data,!1)),$u.c0.g0(s,"pointercancel",t=>this.sVt(t.data,!0)))}ur(){this.v0.ur(),this.v0=null,super.ur()}Qjt(t){"mouse"===t.pointerType&&0!==t.button||this.BYt(t.pointerId.toString(),t.pageX-this.lf.w5(),t.pageY-this.lf.S5())}tVt(t){0!=(1&t.lastButtons)&&0==(1&t.buttons)?this.NYt(t.pointerId.toString()):this.WYt(t.pointerId.toString(),t.pageX-this.lf.w5(),t.pageY-this.lf.S5())}sVt(t,s){"mouse"===t.pointerType&&0!==t.button||this.NYt(t.pointerId.toString())}async BYt(t,s,i){let e=this.Lk(),n=null,r=null,h=0,o=0;for(const a of e){const l=a.qat($u.Uat.kYt);if(l.Zu()&&!l.jYt()&&!a.Yj()){const u=a.MO(),c=u.TO(),[f,d]=c.y5(s,i,u.ZN());if(c.$B()&&u.S4(f,d))if(n){const p=n.MO();(c.RF()>p.TO().RF()||c.RF()===p.TO().RF()&&u._O()>p._O())&&(n=a,r=l,h=f,o=d)}else n=a,r=l,h=f,o=d}}n&&await r.VYt(t,h,o)}WYt(t,s,i){const e=this.Lk();for(const n of e){const r=n.qat($u.Uat.kYt);if(r.Zu()&&r.jYt()&&(!r.jYt()||r.UYt()===t)){const h=n.MO(),o=h.TO(),[a,l]=o.y5(s,i,h.ZN());r.HYt(a,l)}}}async NYt(t){const s=this.Lk();for(const i of s){const e=i.qat($u.Uat.kYt);e.jYt()&&e.UYt()===t&&await e.zYt()}}}}{const Xu=self.Bs;Xu.Uat.kYt.fIt=class extends Xu.i_t{constructor(t){super(t)}ur(){super.ur()}vMt(){}}}{const Yu=self.Bs,Zu=self.b6,Ku=(Yu.Uat.kYt.Instance=class extends Yu.n_t{constructor(t,s){super(t),this.JYt=!1,this.qYt=0,this.$Yt=0,this.XYt="<none>",this.YYt=0,this.kyt=!0,s&&(this.YYt=s[0],this.kyt=s[1])}ur(){super.ur()}j2(){return{a:this.YYt,e:this.kyt}}V2(t){this.YYt=t.a,this.kyt=t.e,this.JYt=!1}Ebt(t){this.kyt=!!t,this.kyt||(this.JYt=!1)}Zu(){return this.kyt}ZYt(t){this.YYt=t}KYt(){return this.YYt}QYt(){this.JYt&&this.zYt()}jYt(){return this.JYt}UYt(){return this.XYt}async VYt(t,s,i){const e=this.MO();this.qYt=s-e.I2(),this.$Yt=i-e.E2(),this.JYt=!0,this.XYt=t,this.BMt("dragstart"),await this.wN(Yu.Uat.kYt.iX.tZt)}HYt(t,s){const i=this.MO(),e=t-this.qYt,n=s-this.$Yt;0===this.YYt?i.I2()===e&&i.E2()===n||(i.JN(e,n),i.zN()):1===this.YYt?i.I2()!==e&&(i.C2(e),i.zN()):2===this.YYt&&i.E2()!==n&&(i.A2(n),i.zN())}async zYt(){this.JYt=!1,this.BMt("drop"),await this.wN(Yu.Uat.kYt.iX.sZt)}Rrt(t){switch(t){case 0:return this.KYt();case 1:return this.Zu()}}Brt(t,s){switch(t){case 0:this.ZYt(s);break;case 1:this.Ebt(!!s)}}lTt(){let t="behaviors.dragndrop",s=t+".properties.axes",i="";return 0===this.YYt?i=s+".items.both":1===this.YYt?i=s+".items.horizontal-only":2===this.YYt&&(i=s+".items.vertical-only"),[{title:"$"+this.G6().Kc(),properties:[{name:t+".debugger.is-dragging",value:this.jYt()},{name:s+".name",value:[i]},{name:t+".properties.enabled.name",value:this.Zu(),XHt:t=>this.Ebt(t)}]}]}bMt(){return self.iZt}},new WeakMap),Qu=["both","horizontal","vertical"];self.iZt=class extends Zu{constructor(){super(),Ku.set(this,Zu.F5().g6())}set axes(t){const s=Qu.indexOf(t);if(-1===s)throw new Error("invalid axes");Ku.get(this).ZYt(s)}get axes(){return Qu[Ku.get(this).KYt()]}eZt(){Ku.get(this).QYt()}get nZt(){return Ku.get(this).jYt()}get isEnabled(){return Ku.get(this).Zu()}set isEnabled(t){Ku.get(this).Ebt(t)}}}{const tc=self.Bs;tc.Uat.kYt.iX={jYt(){return this.jYt()},tZt(){return!0},sZt(){return!0},Zu(){return this.Zu()}}}{const sc=self.Bs;sc.Uat.kYt.$nt={Ext(t){this.Ebt(!!t)},rZt(t){this.ZYt(t)},hZt(){this.QYt()}}}{const ic=self.Bs;ic.Uat.kYt.Xnt={}}{const ec=self.Bs;ec.Uat.oZt=class extends ec.ZTt{constructor(t){super(t)}ur(){super.ur()}}}{const nc=self.Bs;nc.Uat.oZt.fIt=class extends nc.i_t{constructor(t){super(t)}ur(){super.ur()}vMt(){}}}{const rc=self.Bs,hc=self.$s,oc=self.b6,F=(rc.Uat.oZt.Instance=class extends rc.n_t{constructor(t,s){super(t),this.aZt=!1,this.lZt=!1,this.uZt=!1,this.cZt=!1,this.fZt=!1,this.dZt=!1,this.pZt=!1,this.mZt=!1,this.gZt=!1,this.qYt=0,this.$Yt=0,this.yZt=200,this.wZt=600,this.SZt=500,this.vZt=3,this.bZt=3,this.xZt=!1,this.MZt=!0,this.kyt=!0,s&&(this.yZt=s[0],this.wZt=s[1],this.SZt=s[2],this.vZt=s[3],this.bZt=s[4],this.xZt=!!s[5],this.MZt=!!s[6],this.kyt=!!s[7]),this.kyt&&this.rTt(),this.MZt&&this.TZt()}TZt(){if(!this.v0){const t=this.lf.Vf();this.v0=new rc.y0(rc.c0.g0(t,"keydown",t=>this._Zt(t.data)),rc.c0.g0(t,"keyup",t=>this.GZt(t.data)),rc.c0.g0(t,"window-blur",()=>this.IZt()),rc.c0.g0(t,"keyboard-blur",()=>this.IZt()))}}CZt(){this.v0&&(this.v0.ur(),this.v0=null)}ur(){super.ur()}j2(){return{dx:this.qYt,dy:this.$Yt,e:this.kyt,ms:this.yZt,acc:this.wZt,dec:this.SZt,d:this.vZt,am:this.bZt,dc:this.MZt,ii:this.fZt}}V2(t){this.qYt=t.dx,this.$Yt=t.dy,this.Ebt(t.e),this.yZt=t.ms,this.wZt=t.acc,this.SZt=t.dec,this.vZt=t.d,this.bZt=t.am,this.MZt=t.dc,this.fZt=t.ii,this.aZt=!1,this.lZt=!1,this.uZt=!1,this.cZt=!1,this.dZt=!1,this.pZt=!1,this.mZt=!1,this.gZt=!1,this.MZt?this.TZt():this.CZt()}_Zt(t){switch(t.key){case"ArrowLeft":this.uZt=!0;break;case"ArrowUp":this.aZt=!0;break;case"ArrowRight":this.cZt=!0;break;case"ArrowDown":this.lZt=!0}}GZt(t){switch(t.key){case"ArrowLeft":this.uZt=!1;break;case"ArrowUp":this.aZt=!1;break;case"ArrowRight":this.cZt=!1;break;case"ArrowDown":this.lZt=!1}}IZt(){this.aZt=!1,this.lZt=!1,this.uZt=!1,this.cZt=!1}EZ(){let m=this.lf.ED(this._i),g=this.lf.NF(),t=this.uZt||this.mZt,s=this.cZt||this.gZt,i=this.aZt||this.dZt,e=this.lZt||this.pZt;if(this.mZt=!1,this.gZt=!1,this.dZt=!1,this.pZt=!1,this.kyt){let p=g.mL(this._i);if(!p||(g.Q3t(this._i,p),g.gRt(this._i))){this.fZt&&(t=s=i=e=!1),0===this.vZt?t=s=!1:1===this.vZt&&(i=e=!1),(t=2===this.vZt&&(i||e)?s=!1:t)===s&&(this.qYt<0?this.qYt=Math.min(this.qYt+this.SZt*m,0):0<this.qYt&&(this.qYt=Math.max(this.qYt-this.SZt*m,0))),i===e&&(this.$Yt<0?this.$Yt=Math.min(this.$Yt+this.SZt*m,0):0<this.$Yt&&(this.$Yt=Math.max(this.$Yt-this.SZt*m,0)));let f=0,d=0;if(t&&!s&&(f=0<this.qYt?-(this.wZt+this.SZt):-this.wZt),s&&!t&&(f=this.qYt<0?this.wZt+this.SZt:this.wZt),i&&!e&&(d=0<this.$Yt?-(this.wZt+this.SZt):-this.wZt),e&&!i&&(d=this.$Yt<0?this.wZt+this.SZt:this.wZt),this.qYt+=f*m,this.$Yt+=d*m,0!==this.qYt||0!==this.$Yt){let e=Math.hypot(this.qYt,this.$Yt),t=Math.atan2(this.$Yt,this.qYt),s=this.yZt*Math.cos(t),i=this.yZt*Math.sin(t),n=(e>this.yZt&&(e=this.yZt,this.qYt=s,this.$Yt=i),this._i.MO()),r=n.I2(),h=n.E2(),o=n.iB(),a=Math.abs(s)*m,l=Math.abs(i)*m,u=rc.gr(this.qYt*m+.5*f*m*m,-a,a),c=rc.gr(this.$Yt*m+.5*d*m*m,-l,l);if(this.xZt){if(n.XN(u,c),n.zN(),p=g.mL(this._i)){g.Q3t(this._i,p);let t=Math.atan2(this.$Yt,this.qYt)+Math.PI/2,s=!1,i=(n.um()+n.Mm())/4;if(g.mRt(this._i,Math.cos(t),Math.sin(t),Math.max(2.5*e*m,i))){s=!0;const S=n.I2(),v=n.E2(),b=e*m,x=rc.br(r,h,S,v);if(1.01*b<x){const M=b/x,T=rc.Lt(r,S,M),_=rc.Lt(h,v,M);if(n.JN(T,_),n.zN(),p=g.mL(this._i)){const G=rc.Tr(r,h,S,v)+Math.PI/2,I=Math.cos(G),C=Math.sin(G),P=(n.um()+n.Mm())/2/10;g.mRt(this._i,I,C,Math.max(P,1))||(n.JN(r,h),n.zN(),s=!1)}}}if(!s){const E=Math.hypot(u,c),A=-u/E,R=-c/E;this.qYt=0,this.$Yt=0,g.dRt(this._i,A,R,Math.max(2.5*e*m,i))||(n.JN(r,h),n.zN())}}}else n.qrt(u),n.zN(),(p=g.mL(this._i))&&(g.dRt(this._i,this.qYt<0?1:-1,0,Math.max(Math.abs(Math.floor(u)),1))||(n.C2(r),n.zN()),this.qYt=0,g.Q3t(this._i,p)),n.$rt(c),n.zN(),(p=g.mL(this._i))&&(g.dRt(this._i,0,this.$Yt<0?1:-1,Math.max(Math.abs(Math.floor(c)),1))||(n.A2(h),n.zN()),this.$Yt=0,g.Q3t(this._i,p));const y=rc.jr(this.qYt,6),w=rc.jr(this.$Yt,6);0===y&&0===w||!this._i._k().rk()||(1===this.bZt?n.sB(rc.Sr(90*Math.round(rc.vr(Math.atan2(w,y))/90))):2===this.bZt?n.sB(rc.Sr(45*Math.round(rc.vr(Math.atan2(w,y))/45))):3===this.bZt&&n.sB(Math.atan2(w,y))),n.zN(),n.iB()!=o&&(p=g.mL(this._i))&&(n.sB(o),n.zN(),g.Q3t(this._i,p))}}}}Rrt(t){switch(t){case 0:return this.PZt();case 1:return this.EZt();case 2:return this.AZt();case 3:return this.vZt;case 4:return this.bZt;case 5:return this.xZt;case 6:return this.RZt();case 7:return this.Rbt()}}Brt(t,s){switch(t){case 0:this.FZt(s);break;case 1:this.DZt(s);break;case 2:this.OZt(s);break;case 3:this.vZt=s;break;case 4:this.bZt=s;break;case 5:this.xZt=!!s;break;case 6:this.LZt(!!s);break;case 7:this.Ebt(!!s)}}kZt(){this.qYt=0,this.$Yt=0}BZt(){this.qYt*=-1,this.$Yt*=-1}NZt(){const t=Math.hypot(this.qYt,this.$Yt);t>this.yZt&&this.WZt(t)}WZt(t){t=rc.gr(t,0,this.yZt);const s=Math.atan2(this.$Yt,this.qYt);this.qYt=t*Math.cos(s),this.$Yt=t*Math.sin(s)}jZt(){return Math.hypot(this.qYt,this.$Yt)}FZt(t){this.yZt=Math.max(t,0)}PZt(){return this.yZt}DZt(t){this.wZt=Math.max(t,0)}EZt(){return this.wZt}OZt(t){this.SZt=Math.max(t,0)}AZt(){return this.SZt}VZt(){return Math.atan2(this.$Yt,this.qYt)}UZt(t){this.qYt=t,this.NZt()}HZt(){return this.qYt}zZt(t){this.$Yt=t,this.NZt()}JZt(){return this.$Yt}qZt(t){if(this.kyt)switch(t){case 0:this.mZt=!0;break;case 1:this.gZt=!0;break;case 2:this.dZt=!0;break;case 3:this.pZt=!0}}LZt(t){this.MZt!==(t=!!t)&&(this.MZt=t,this.MZt?this.TZt():(this.CZt(),this.IZt()))}RZt(){return this.MZt}$Zt(t){this.fZt=!!t}XZt(){return this.fZt}Ebt(t){this.kyt=!!t,this.kyt?this.rTt():(this.mZt=!1,this.gZt=!1,this.dZt=!1,this.pZt=!1,this.UMt())}Rbt(){return this.kyt}YZt(t){this.xZt=!!t}ZZt(){return this.xZt}lTt(){const t="behaviors.eightdir";return[{title:"$"+this.G6().Kc(),properties:[{name:t+".debugger.vector-x",value:this.HZt(),XHt:t=>this.UZt(t)},{name:t+".debugger.vector-y",value:this.JZt(),XHt:t=>this.zZt(t)},{name:t+".debugger.speed",value:this.jZt(),XHt:t=>this.WZt(t)},{name:t+".debugger.angle-of-motion",value:rc.vr(this.VZt())},{name:t+".properties.max-speed.name",value:this.PZt(),XHt:t=>this.FZt(t)},{name:t+".properties.acceleration.name",value:this.EZt(),XHt:t=>this.DZt(t)},{name:t+".properties.deceleration.name",value:this.AZt(),XHt:t=>this.OZt(t)},{name:t+".properties.allow-sliding.name",value:this.ZZt(),XHt:t=>this.YZt(t)},{name:t+".properties.enabled.name",value:this.Rbt(),XHt:t=>this.Ebt(t)}]}]}bMt(){return self.KZt}},new WeakMap),ac=new Map([["left",0],["right",1],["up",2],["down",3]]);self.KZt=class extends oc{constructor(){super(),F.set(this,oc.F5().g6())}stop(){F.get(this).kZt()}reverse(){F.get(this).BZt()}QZt(t){hc.Ie(t);const s=ac.get(t);if("number"!=typeof s)throw new Error("invalid control");F.get(this).qZt(s)}get speed(){return F.get(this).jZt()}set speed(t){hc.Me(t),F.get(this).WZt(t)}get tKt(){return F.get(this).PZt()}set tKt(t){hc.Me(t),F.get(this).FZt(t)}get acceleration(){return F.get(this).EZt()}set acceleration(t){hc.Me(t),F.get(this).DZt(t)}get sKt(){return F.get(this).AZt()}set sKt(t){hc.Me(t),F.get(this).OZt(t)}get iKt(){return F.get(this).HZt()}set iKt(t){hc.Me(t),F.get(this).UZt(t)}get eKt(){return F.get(this).JZt()}set eKt(t){hc.Me(t),F.get(this).zZt(t)}nKt(t,s){hc.Me(t),hc.Me(s);const i=F.get(this);i.UZt(t),i.zZt(s)}rKt(){const t=F.get(this);return[t.HZt(),t.JZt()]}get hKt(){return F.get(this).RZt()}set hKt(t){F.get(this).LZt(!!t)}get oKt(){return F.get(this).XZt()}set oKt(t){F.get(this).$Zt(!!t)}get aKt(){return F.get(this).ZZt()}set aKt(t){F.get(this).YZt(!!t)}get isEnabled(){return F.get(this).Rbt()}set isEnabled(t){F.get(this).Ebt(!!t)}}}{const lc=self.Bs;lc.Uat.oZt.iX={lKt(){return 1e-10<this.jZt()},uKt(t,s){return lc.compare(this.jZt(),t,s)},Zu(){return this.Rbt()},cKt(){return this.ZZt()}}}{const uc=self.Bs;uc.Uat.oZt.$nt={xW(){this.kZt()},fKt(){this.BZt()},dKt(t){this.$Zt(t)},pKt(t){this.WZt(t)},mKt(t){this.FZt(t)},gKt(t){this.DZt(t)},yKt(t){this.OZt(t)},wKt(t){this.qZt(t)},Ext(t){this.Ebt(t)},SKt(t){this.UZt(t)},vKt(t){this.zZt(t)},bKt(t){this.LZt(!!t)},xKt(t){this.YZt(t)}}}{const cc=self.Bs;cc.Uat.oZt.Xnt={MKt(){return this.jZt()},TKt(){return this.PZt()},_Kt(){return this.EZt()},GKt(){return this.AZt()},IKt(){return cc.vr(this.VZt())},CKt(){return this.HZt()},PKt(){return this.JZt()}}}{const fc=self.Bs;fc.Uat.bound=class extends fc.ZTt{constructor(t){super(t)}ur(){super.ur()}}}{const dc=self.Bs;dc.Uat.bound.fIt=class extends dc.i_t{constructor(t){super(t)}ur(){super.ur()}vMt(){}}}{const pc=self.Bs;pc.Uat.bound.Instance=class extends pc.n_t{constructor(t,s){super(t),this.EKt=0,s&&(this.EKt=s[0]),this.oTt()}ur(){super.ur()}j2(){return{m:this.EKt}}V2(t){this.EKt=t.m}nTt(){let t=this._i.MO(),s=t.QN(),i=t.rO(),e=!1;0===this.EKt?(t.I2()<0&&(t.C2(0),e=!0),t.E2()<0&&(t.A2(0),e=!0),t.I2()>i.um()&&(t.C2(i.um()),e=!0),t.E2()>i.Mm()&&(t.A2(i.Mm()),e=!0)):(s.Ml()<0&&(t.qrt(-s.Ml()),e=!0),s.Tl()<0&&(t.$rt(-s.Tl()),e=!0),s._l()>i.um()&&(t.qrt(-(s._l()-i.um())),e=!0),s.Gl()>i.Mm()&&(t.$rt(-(s.Gl()-i.Mm())),e=!0)),e&&t.zN()}Rrt(t){if(0===t)return this.EKt}Brt(t,s){0===t&&(this.EKt=s)}}}{const mc=self.Bs;mc.Uat.bound.iX={}}{const gc=self.Bs;gc.Uat.bound.$nt={}}{const yc=self.Bs;yc.Uat.bound.Xnt={}}{const wc=self.Bs;wc.Uat.AKt=class extends wc.ZTt{constructor(t){super(t)}ur(){super.ur()}}}{const Sc=self.Bs;Sc.Uat.AKt.fIt=class extends Sc.i_t{constructor(t){super(t)}ur(){super.ur()}vMt(){}}}{const vc=self.Bs;vc.Uat.AKt.Instance=class extends vc.n_t{constructor(t,s){super(t),this.RKt=null,this.FKt=-1,this.EKt="",this.DKt=new Set,this.OKt=0,this.LKt=0,this.kKt=0,this.qYt=0,this.$Yt=0,this.BKt=0,this.NKt=0,this.WKt=0,this.jKt=0,this.VKt=0,this.Fqt=!1,s&&(this.Fqt=s[0]);const i=this.lf.Vf();this.v0=new vc.y0(vc.c0.g0(i,"instancedestroy",t=>this.fUt(t.I6)),vc.c0.g0(i,"afterload",t=>this.DY()))}ur(){this.RKt=null,super.ur()}UKt(t){t?(this.RKt=t,this.oTt()):(this.RKt=null,this.HMt())}HKt(t,s,i){if(t){const e=t.$2t(this._i);if(e){this.EKt=s,this.UKt(e);const n=this._i.MO(),r=e.MO();if("properties"===this.EKt){const h=this.DKt;h.clear();for(const o of i)h.add(o);this.qYt=n.I2()-r.I2(),this.$Yt=n.E2()-r.E2(),this.WKt=n.iB()-r.iB(),this.VKt=n.iB(),this.jKt=n.R2()-r.R2(),h.has("x")&&h.has("y")&&(this.LKt=vc.Tr(r.I2(),r.E2(),n.I2(),n.E2())-r.iB(),this.OKt=vc.br(r.I2(),r.E2(),n.I2(),n.E2())),h.has("width-abs")?this.BKt=n.um()-r.um():h.has("width-scale")&&(this.BKt=n.um()/r.um()),h.has("height-abs")?this.NKt=n.Mm()-r.Mm():h.has("height-scale")&&(this.NKt=n.Mm()/r.Mm())}else this.OKt=vc.br(r.I2(),r.E2(),n.I2(),n.E2())}}}j2(){const t=this.DKt,s=this.EKt,i={uid:this.RKt&&!this.RKt.Yj()?this.RKt.H5():-1,m:s,d:this.Fqt};return"rope"===s||"bar"===s?i.pd=this.OKt:"properties"===s&&(i.ps=[...this.DKt],t.has("imagepoint")?i.ip=this.kKt:t.has("x")&&t.has("y")?(i.pa=this.LKt,i.pd=this.OKt):(t.has("x")&&(i.dx=this.qYt),t.has("y")&&(i.dy=this.$Yt)),t.has("angle")&&(i.da=this.WKt,i.lka=this.VKt),(t.has("width-abs")||t.has("width-scale"))&&(i.dw=this.BKt),(t.has("height-abs")||t.has("height-scale"))&&(i.dh=this.NKt),t.has("z"))&&(i.dz=this.jKt),i}V2(t){const s=t.m,i=this.DKt;if(i.clear(),this.FKt=t.uid,"number"==typeof s)this.zKt(t);else if(this.EKt=s,t.hasOwnProperty("d")&&(this.Fqt=!!t.d),"rope"===s||"bar"===s)this.OKt=t.pd;else if("properties"===s){for(const e of t.ps)i.add(e);i.has("imagepoint")?this.kKt=t.ip:i.has("x")&&i.has("y")?(this.LKt=t.pa,this.OKt=t.pd):(i.has("x")&&(this.qYt=t.dx),i.has("y")&&(this.$Yt=t.dy)),i.has("angle")&&(this.WKt=t.da,this.VKt=t.lka||0),(i.has("width-abs")||i.has("width-scale"))&&(this.BKt=t.dw),(i.has("height-abs")||i.has("height-scale"))&&(this.NKt=t.dh),i.has("z")&&(this.jKt=t.dz)}}zKt(t){const s=this.DKt,i=t.msa,e=t.tsa,n=t.pa,r=t.pd,h=t.m;switch(h){case 0:this.EKt="properties",s.add("x").add("y").add("angle"),this.LKt=n,this.OKt=r,this.WKt=i-e,this.VKt=t.lka;break;case 1:this.EKt="properties",s.add("x").add("y"),this.LKt=n,this.OKt=r;break;case 2:this.EKt="properties",s.add("angle"),this.WKt=i-e,this.VKt=t.lka;break;case 3:this.EKt="rope",this.OKt=t.pd;break;case 4:this.EKt="bar",this.OKt=t.pd}}DY(){-1===this.FKt?this.UKt(null):(this.UKt(this.lf.wO(this.FKt)),this.FKt=-1)}fUt(t){this.RKt===t&&(this.UKt(null),this.Fqt)&&this.lf.k5(this._i)}nTt(){const r=this.RKt;if(r&&!r.Yj()){let i=r.MO(),t=this._i,e=t.MO(),s=this.EKt,n=!1;if("rope"===s||"bar"===s){const h=vc.br(e.I2(),e.E2(),i.I2(),i.E2());if(h>this.OKt||"bar"===s&&h<this.OKt){const o=vc.Tr(i.I2(),i.E2(),e.I2(),e.E2());e.JN(i.I2()+Math.cos(o)*this.OKt,i.E2()+Math.sin(o)*this.OKt),n=!0}}else{let t=this.DKt,s=0;if(t.has("imagepoint")){const[a,l]=r.y2t(this.kKt);e.m2t(a,l)||(e.JN(a,l),n=!0)}else if(t.has("x")&&t.has("y")){const u=i.I2()+Math.cos(i.iB()+this.LKt)*this.OKt,c=i.E2()+Math.sin(i.iB()+this.LKt)*this.OKt;e.m2t(u,c)||(e.JN(u,c),n=!0)}else s=i.I2()+this.qYt,t.has("x")&&s!==e.I2()&&(e.C2(s),n=!0),s=i.E2()+this.$Yt,t.has("y")&&s!==e.E2()&&(e.A2(s),n=!0);t.has("angle")&&(this.VKt!==e.iB()&&(this.WKt=vc.yr(this.WKt+(e.iB()-this.VKt))),(s=vc.yr(i.iB()+this.WKt))!==e.iB()&&(e.sB(s),n=!0),this.VKt=e.iB()),t.has("width-abs")&&(s=i.um()+this.BKt)!==e.um()&&(e.Sm(s),n=!0),t.has("width-scale")&&(s=i.um()*this.BKt)!==e.um()&&(e.Sm(s),n=!0),t.has("height-abs")&&(s=i.Mm()+this.NKt)!==e.Mm()&&(e.fm(s),n=!0),t.has("height-scale")&&(s=i.Mm()*this.NKt)!==e.Mm()&&(e.fm(s),n=!0),t.has("z")&&(s=i.R2()+this.jKt)!==e.R2()&&(e.F2(s),this.lf.EO())}n&&e.zN()}}lTt(){const t="behaviors.pin.debugger";return[{title:"$"+this.G6().Kc(),properties:[{name:t+".is-pinned",value:!!this.RKt},{name:t+".pinned-uid",value:this.RKt?this.RKt.H5():0}]}]}}}{const bc=self.Bs;bc.Uat.AKt.iX={JKt(){return!!this.RKt},qKt(){return this.Fqt}}}{const xc=self.Bs;xc.Uat.AKt.$nt={$Kt(t,s){this.HKt(t,0===s?"rope":"bar")},XKt(t,s,i,e,n,r,h){const o=[];s&&o.push("x"),i&&o.push("y"),e&&o.push("angle"),h&&o.push("z"),1===n?o.push("width-abs"):2===n&&o.push("width-scale"),1===r?o.push("height-abs"):2===r&&o.push("height-scale"),0!==o.length&&this.HKt(t,"properties",o)},YKt(t,s,i,e,n,r){const h=["imagepoint"];i&&h.push("angle"),r&&h.push("z"),1===e?h.push("width-abs"):2===e&&h.push("width-scale"),1===n?h.push("height-abs"):2===n&&h.push("height-scale"),this.kKt=s,this.HKt(t,"properties",h)},ZKt(t){"rope"!==this.EKt&&"bar"!==this.EKt||(this.OKt=Math.max(t,0))},KKt(t){this.Fqt=t},QKt(){this.UKt(null),this.EKt="",this.DKt.clear(),this.kKt=""},AKt(t,s){switch(s){case 0:this.HKt(t,"properties",["x","y","angle"]);break;case 1:this.HKt(t,"properties",["x","y"]);break;case 2:this.HKt(t,"properties",["angle"]);break;case 3:this.HKt(t,"rope");break;case 4:this.HKt(t,"bar")}}}}{const Mc=self.Bs;Mc.Uat.AKt.Xnt={tQt(){return this.RKt?this.RKt.H5():-1}}}{let t=function(t,s){return"number"==typeof t&&"number"==typeof s},i=function(i,e){if("string"!=typeof i&&"string"!=typeof e)return i&&e?1:0;{let t,s;return t="number"==typeof i?(Math.round(1e10*i)/1e10).toString():i,s="number"==typeof e?(Math.round(1e10*e)/1e10).toString():e,t+s}};t,i,0;self.Kwt=[()=>1,()=>-10,()=>0,()=>"",t=>{const s=t.aSt(0);return()=>.7*s.Dwt()},()=>.05,()=>.1,t=>{const s=t.aSt(0);return()=>s.Wwt()},()=>.5,()=>-40,()=>11,()=>10,()=>8,()=>6,()=>5,()=>4,()=>2,()=>3,()=>7,()=>9,()=>12,()=>13,()=>14,()=>15,()=>16,()=>17,()=>18,()=>-1,()=>19,()=>-30,()=>"Song",()=>112,()=>800,()=>270,()=>428,()=>1e3,()=>"UI",t=>{const s=t.aSt(0);return()=>1.7*s.Dwt()},()=>.7,t=>{const s=t.aSt(0).Zwt();return()=>i("$",s.vet())},t=>{const s=t.aSt(0).Zwt();return()=>s.vet()},()=>"TotalScore",t=>{const s=t.aSt(0).Zwt();return()=>s.vet()/3e3*384.335086},t=>{const s=t.aSt(0);return()=>s.Dwt()},()=>"BestScore",()=>3e3,()=>384.335086,()=>750,()=>1500,()=>2250,t=>{const s=t.aSt(0);return()=>1.3*s.Dwt()},()=>.2,()=>"Videos",()=>"Arrastra las TAZAS a la cafetera para preparar el CAF que necesites.",()=>"Toca la PAVA para calentar agua y luego servirla en la TAZA.",()=>"Serv los JUGOS en los VASOS. Algunos jugos necesitan mezclarse en la LICUADORA.",()=>"BEBIDAS",()=>"1",()=>"Ubica un PLATO en la bandeja y luego podrs colocar la COMIDA.",()=>"Algunas COMIDAS debern ser calentadas en el HORNO.",()=>"El pedido tambin podr ir acompaado de un SNACK.",()=>"COMIDAS",()=>"2",()=>"Si armaste mal un PEDIDO, lo pods tirar en el TACHO DE BASURA.",()=>"A medida que uses la VAJILLA, la vas a tener que LAVAR tocando la CANILLA.",()=>"EXTRAS",()=>"JUGAR",()=>"Memories",()=>.3,()=>"Primera juntada en familia. Alto IRL sali, estuvimos todo el da juntos y despus la seguimos en el ro.",()=>"Qu bien nos hizo vernos ah. Fue muy loco y me di cuenta de que por vos todo, siempre. Ah me creste que de verdad te amaba, HDP?",()=>"Unidos por una pasin jajajaja. Suena exagerado, pero no volv a disfrutar del helado. (Si ves esto, me tens que invitar uno).",()=>"Buenas siestas clavbamos, con lo que te costaba dormir moras mal. Las echo de menos (como a vos).",()=>"No s dnde estbamos, pero salimos lindos. Si lees esto, hacmelo saber para darte el premio. Espero que te haya gustado y sabe que sos lo mejor que me pas. Te amo <3",()=>"Camera Scrolling",t=>{const s=t.aSt(0).Cwt();return()=>s()},t=>{const s=t.aSt(0).Cwt();return()=>100*s(0)},()=>808.372039,()=>903.84397,()=>684.101333,()=>940.641964,()=>-20,t=>{const s=t.aSt(0).Cwt();return()=>100*-s(0)},()=>269.95663,()=>141.12004456878796,()=>397.66,()=>"Unique Elements",t=>{const s=t.aSt(0);return()=>1.3*s.Wwt()},()=>"Invisible Elements Drag",()=>"Bandeja 1 Invisible Elements",()=>"Drink",()=>"T_Drink_Coffee_Empty_Cup",()=>"VasoDeVidrio",()=>"Dish",()=>"Food",()=>"DonaBlanca",()=>"T_Desert_Donut_",()=>"T_Desert_Donut_2",()=>"T_Desert_Cheesecake_Slice",()=>"T_Desert_Croissant",()=>"T_Desert_Muffin",()=>"Snack",()=>"T_Desert_Cookie_2",()=>"T_Desert_Cookie_",()=>"GalletitaRoja",()=>"T_Desert_Chocolate_Ball_",()=>"BetterOutline",()=>"Bandeja 2 Invisible Elements2",()=>"Drink2",()=>"Dish2",()=>"Food2",()=>"Snack2",()=>"Bandeja",()=>"BANDEJA 1",()=>"Bandeja2",t=>{const s=t.aSt(0);return()=>s.Bwt()},()=>1e10,()=>"BANDEJA2",()=>"Bandeja3",()=>"Horno",t=>{const s=t.aSt(0);return()=>s.Dwt(0)},t=>{const s=t.aSt(0),i=t.aSt(1);return()=>s.Bwt()/i.Bwt()*50},()=>"Juice",()=>"Juice Bandeja 1",()=>"Juice Bandeja 2",()=>"Cups",()=>"Left Coffee",t=>{const s=t.aSt(0);return()=>s.Dwt(1)},()=>"Right Coffee",()=>"Tea",()=>"Tea Bandeja 1",()=>"Tea Bandeja 2",()=>"Licuadora",t=>{const s=t.aSt(0),i=t.aSt(1);return()=>s.Bwt()+i.Wwt()},()=>"Licuadora Bandeja 1",()=>"Licuadora Bandeja 2",()=>"Lavamanos",()=>"Funciones",t=>{const s=t.aSt(0).Zwt(),i=t.aSt(1).Zwt();return()=>s.vet()/i.vet()*50},t=>{const s=t.aSt(0);return()=>.95*s.Dwt()},()=>624.892228,()=>229.071031,()=>62.882342,()=>427.602908,()=>"T_Prop_Plate_Small",()=>1031.426879,()=>528.247905,()=>357.921919,()=>269.739532,()=>181.557145,()=>"Pedidos",t=>{const s=t.aSt(0).Cwt();return()=>Math.floor(s(0,4))},t=>{const s=t.aSt(0).Cwt();return()=>Math.floor(s(1,4))},t=>{const s=t.aSt(0).Cwt();return()=>Math.floor(s(3,7))},()=>60,t=>{const s=t.aSt(0).Cwt();return()=>Math.floor(s(4,7))},t=>{const s=t.aSt(0).Cwt();return()=>Math.floor(s(0,6))},t=>{const s=t.aSt(0).Cwt();return()=>Math.floor(s(5,9))},()=>50,t=>{const s=t.aSt(0).Cwt();return()=>Math.floor(s(1,10))},t=>{const s=t.aSt(0).Cwt();return()=>Math.floor(s(1,9))},t=>{const s=t.aSt(0).Cwt();return()=>Math.floor(s(7,12))},()=>40,t=>{const s=t.aSt(0).Cwt();return()=>Math.floor(s(7,10))},t=>{const s=t.aSt(0).Cwt();return()=>Math.floor(s(7,9))},t=>{const s=t.aSt(0).Cwt();return()=>Math.floor(s(10,15))},()=>30,()=>"Pedido2",()=>859.406757,()=>"Bebida",()=>828.298585,t=>{const s=t.aSt(0).Zwt();return()=>s.vet()-25},()=>"Comida",()=>879.93254,t=>{const s=t.aSt(0).Zwt();return()=>s.vet()-30},()=>895,t=>{const s=t.aSt(0).Zwt();return()=>s.vet()-15},()=>-2,()=>-3,t=>{const s=t.aSt(0),i=t.aSt(1);return()=>50-s.Bwt()/i.Bwt()*50},()=>"3"]}var t=self.Bs;self.IBt=function(){return[t.nX.Touch,t.nX.Audio,t.nX.OHt,t.nX.Ant,t.Uat.Pqt,t.Uat.Vat,t.Uat.MYt,t.Uat.kYt,t.Uat.oZt,t.Uat.bound,t.Uat.AKt,t.nX.Text,t.nX.eX.iX.sX,t.nX.eX.iX.p4t,t.nX.Ant.$nt.kzt,t.nX.Touch.iX.aVt,t.nX.Ant.iX.Dbt,t.nX.Audio.$nt.Play,t.nX.Ant.$nt.Xbt,t.Uat.Vat.$nt.pXt,t.nX.Ant.Xnt.fxt,t.nX.Ant.Xnt.dxt,t.nX.eX.$nt.Rh,t.Uat.kYt.iX.tZt,t.nX.Ant.$nt.Qk,t.Uat.kYt.iX.sZt,t.nX.Ant.iX.obt,t.nX.Ant.$nt.p2t,t.nX.Ant.iX.j2t,t.nX.eX.iX.ogt,t.nX.eX.iX.dd,t.nX.Ant.$nt.NB,t.nX.eX.iX.d4t,t.nX.eX.$nt.j4t,t.nX.eX.$nt.N4t,t.nX.eX.$nt.W4t,t.Uat.Pqt.$nt.n$t,t.Uat.Pqt.$nt.i$t,t.nX.eX.$nt.c6t,t.nX.eX.$nt.U4t,t.nX.Audio.$nt.JUt,t.nX.eX.iX.Mpt,t.nX.eX.$nt.V4t,t.nX.Text.$nt.NB,t.nX.Text.$nt.df,t.nX.OHt.$nt.d7t,t.nX.Ant.$nt.hC,t.nX.Text.Xnt.fxt,t.nX.Text.Xnt.dxt,t.nX.Ant.$nt.Nzt,t.nX.Ant.$nt.Lzt,t.nX.Ant.$nt.Bzt,t.nX.Text.$nt.Ubt,t.nX.Touch.iX.oVt,t.nX.Touch.Xnt.uxt,t.nX.Touch.iX.cVt,t.Uat.AKt.$nt.YKt,t.Uat.oZt.$nt.SKt,t.nX.Touch.Xnt.JVt,t.nX.Ant.$nt.Jbt,t.nX.Ant.iX.Fbt,t.Uat.kYt.$nt.Ext,t.nX.eX.$nt.q4t,t.Uat.kYt.iX.jYt,t.nX.Ant.$nt.sbt,t.Uat.AKt.$nt.QKt,t.nX.Ant.$nt.J2t,t.Uat.AKt.iX.JKt,t.nX.Ant.$nt.Ubt,t.nX.Ant.$nt.g2t,t.nX.Ant.Xnt.b9t,t.nX.Ant.Xnt.x9t,t.nX.eX.iX.e4t,t.nX.Ant.$nt.qbt,t.nX.eX.Xnt.dt,t.nX.Ant.iX.jB,t.nX.Touch.iX.pVt,t.nX.OHt.$nt.y7t,t.nX.eX.Xnt.random,t.nX.Ant.$nt.F2,t.nX.OHt.iX.n7t,t.nX.OHt.Xnt.x7t]},self.HBt=[{sQt:0},{Audio:0},{iQt:0},{Body:0},{eQt:0},{nQt:0},{rQt:0},{hQt:0},{oQt:0},{aQt:0},{lQt:0},{uQt:0},{cQt:0},{fQt:0},{dQt:0},{pQt:0},{mQt:0},{gQt:0},{yQt:0},{wQt:0},{SQt:0},{vQt:0},{bQt:0},{xQt:0},{MQt:0},{TQt:0},{_Qt:0},{GQt:0},{IQt:0},{CQt:0},{PQt:0},{EQt:0},{AQt:0},{RQt:0},{FQt:0},{DQt:0},{OQt:0},{LQt:0},{kQt:0},{BQt:0},{NQt:0},{WQt:0},{jQt:0},{VQt:0},{UQt:0},{HQt:0},{zQt:0},{JQt:0},{qQt:0},{$Qt:0},{XQt:0},{YQt:0},{ZQt:0},{KQt:0},{QQt:0},{tts:0},{sts:0},{its:0},{ets:0},{nts:0},{rts:0},{hts:0},{ots:0},{ats:0},{lts:0},{uts:0},{cts:0},{fts:0},{dts:0},{pts:0},{gts:0},{yts:0},{wts:0},{Sts:0},{vts:0},{bts:0},{xts:0},{Mts:0},{Tts:0},{_ts:0},{Gts:0},{Its:0},{Cts:0},{Pts:0},{Ets:0},{Ats:0},{Ant:0},{Rts:0},{Fts:0},{Dts:0},{Ots:0},{Lts:0},{kts:0},{Bts:0},{Nts:0},{Wts:0},{jts:0},{type:0},{name:0},{Vts:0},{show:0},{Uts:0},{Hts:0},{zts:0},{Jts:0},{qts:0},{$ts:0},{Xts:0},{Yts:0},{duration:0},{elapsedTime:0},{Zts:0},{Kts:0},{value:0},{Qts:0},{tss:0},{sss:0},{iss:0},{ess:0},{nss:0},{rss:0},{hss:0},{oss:0},{ass:0},{lss:0},{uss:0},{css:0},{fss:0},{dss:0},{pss:0},{mss:0},{gss:0},{"8Direcciones":0},{yss:0},{wss:0},{Sss:0},{vss:0},{bss:0},{xss:0},{Mss:0},{Tss:0},{_ss:0},{Gss:0},{Iss:0},{Css:0},{Pss:0},{Ess:0},{Ass:0},{Rss:0},{Fss:0},{Dss:0},{Oss:0},{Lss:0},{kss:0},{Bss:0},{Nss:0},{Wss:0},{jss:0},{Vss:0},{Uss:0},{Hss:0},{zss:0},{Jss:0},{qss:0},{$ss:0},{Xss:0},{Yss:0},{Zss:0},{Kss:0},{filled:0},{Qss:0},{tis:0},{sis:0},{iis:0},{eis:0},{nis:0},{ris:0},{his:0},{ois:0},{ais:0},{lis:0},{uis:0},{position:0},{cis:0},{fis:0},{dis:0},{pis:0},{mis:0},{gis:0},{yis:0},{wis:0},{Sis:0},{vis:0},{bis:0},{xis:0},{Mis:0},{Tis:0},{_is:0},{Gis:0},{Iis:0},{Cis:0},{Pis:0},{Eis:0},{Ais:0},{Ris:0},{Fis:0},{Dis:0},{Ois:0},{Lis:0},{kis:0},{Bis:0},{Nis:0},{Wis:0},{jis:0},{Vis:0},{Uis:0},{His:0},{zis:0},{Jis:0},{qis:0},{$is:0},{Xis:0},{Yis:0},{Zis:0},{Kis:0},{Qis:0},{tes:0},{ses:0},{ies:0},{Memory:0},{ees:0},{nes:0},{res:0},{hes:0},{oes:0},{aes:0},{les:0},{ues:0},{ces:0},{fes:0},{des:0},{pes:0},{mes:0},{ges:0},{yes:0},{wes:0},{Ses:0},{ves:0},{bes:0},{xes:0},{Mes:0},{Tes:0},{_es:0},{Ges:0},{Ies:0},{Ces:0},{Pes:0},{nZt:0},{Ees:0},{Aes:0},{Res:0},{Fes:0},{Des:0},{Oes:0},{Les:0},{paused:0},{kes:0},{memory:0},{Bes:0},{Nes:0},{Wes:0},{jes:0},{Ves:0},{Ues:0},{Hes:0},{zes:0},{Jes:0},{qes:0},{$es:0},{Xes:0},{Yes:0},{Zes:0},{Kes:0},{Qes:0},{tns:0},{sns:0},{ins:0},{ens:0}],self.nns={sQt:class extends self.C5{},Audio:class extends self.C5{},iQt:class extends self.C5{},eQt:class extends self.jzt{},lQt:class extends self.jzt{},uQt:class extends self.jzt{},cQt:class extends self.jzt{},fQt:class extends self.jzt{},dQt:class extends self.jzt{},pQt:class extends self.jzt{},mQt:class extends self.jzt{},gQt:class extends self.jzt{},yQt:class extends self.jzt{},wQt:class extends self.jzt{},SQt:class extends self.jzt{},vQt:class extends self.jzt{},bQt:class extends self.jzt{},xQt:class extends self.jzt{},MQt:class extends self.jzt{},TQt:class extends self.jzt{},_Qt:class extends self.jzt{},GQt:class extends self.jzt{},IQt:class extends self.jzt{},CQt:class extends self.jzt{},PQt:class extends self.jzt{},EQt:class extends self.jzt{},AQt:class extends self.jzt{},RQt:class extends self.jzt{},FQt:class extends self.jzt{},DQt:class extends self.jzt{},OQt:class extends self.jzt{},LQt:class extends self.jzt{},kQt:class extends self.jzt{},NQt:class extends self.jzt{},WQt:class extends self.jzt{},jQt:class extends self.jzt{},VQt:class extends self.jzt{},UQt:class extends self.jzt{},HQt:class extends self.jzt{},zQt:class extends self.jzt{},JQt:class extends self.jzt{},qQt:class extends self.jzt{},$Qt:class extends self.jzt{},XQt:class extends self.jzt{},YQt:class extends self.jzt{},ZQt:class extends self.jzt{},KQt:class extends self.jzt{},QQt:class extends self.jzt{},tts:class extends self.jzt{},sts:class extends self.jzt{},its:class extends self.jzt{},nts:class extends self.jzt{},rts:class extends self.jzt{},hts:class extends self.jzt{},ots:class extends self.jzt{},ats:class extends self.jzt{},lts:class extends self.jzt{},uts:class extends self.jzt{},cts:class extends self.jzt{},fts:class extends self.jzt{},dts:class extends self.jzt{},pts:class extends self.jzt{},gts:class extends self.jzt{},yts:class extends self.jzt{},wts:class extends self.jzt{},Sts:class extends self.jzt{},vts:class extends self.jzt{},bts:class extends self.jzt{},xts:class extends self.jzt{},Mts:class extends self.jzt{},Tts:class extends self.jzt{},_ts:class extends self.jzt{},Gts:class extends self.jzt{},Its:class extends self.jzt{},Cts:class extends self.jzt{},Pts:class extends self.jzt{},Ets:class extends self.jzt{},Ats:class extends self.jzt{},Ant:class extends self.jzt{},Rts:class extends self.jzt{},Fts:class extends self.jzt{},Dts:class extends self.jzt{},Ots:class extends self.jzt{},Lts:class extends self.jzt{},kts:class extends self.jzt{},zts:class extends self.jzt{},Jts:class extends self.jzt{},qts:class extends self.jzt{},$ts:class extends self.jzt{},Kts:class extends self.jzt{},Qts:class extends self.jzt{},tss:class extends self.jzt{},sss:class extends self.jzt{},iss:class extends self.jzt{},ess:class extends self.jzt{},nss:class extends self.jzt{},rss:class extends self.jzt{},hss:class extends self.jzt{},oss:class extends self.jzt{},ass:class extends self.jzt{},lss:class extends self.jzt{},uss:class extends self.jzt{},css:class extends self.jzt{},fss:class extends self.jzt{},dss:class extends self.jzt{},pss:class extends self.jzt{},wss:class extends self.jzt{},Sss:class extends self.jzt{},vss:class extends self.jzt{},bss:class extends self.jzt{},xss:class extends self.jzt{},Mss:class extends self.jzt{},Gss:class extends self.jzt{},Iss:class extends self.jzt{},Dss:class extends self.jzt{},Oss:class extends self.jzt{},Lss:class extends self.jzt{},kss:class extends self.jzt{},Bss:class extends self.jzt{},Nss:class extends self.jzt{},Wss:class extends self.jzt{},jss:class extends self.jzt{},Vss:class extends self.jzt{},Uss:class extends self.jzt{},Hss:class extends self.jzt{},zss:class extends self.jzt{},Jss:class extends self.jzt{},qss:class extends self.jzt{},$ss:class extends self.jzt{},Xss:class extends self.jzt{},Yss:class extends self.jzt{},Zss:class extends self.jzt{},Kss:class extends self.jzt{},Qss:class extends self.jzt{},tis:class extends self.jzt{},sis:class extends self.jzt{},iis:class extends self.jzt{},eis:class extends self.jzt{},nis:class extends self.jzt{},ris:class extends self.jzt{},his:class extends self.jzt{},ois:class extends self.jzt{},ais:class extends self.jzt{},lis:class extends self.jzt{},dis:class extends self.jzt{},pis:class extends self.jzt{},mis:class extends self.jzt{},gis:class extends self.jzt{},yis:class extends self.jzt{},wis:class extends self.jzt{},Sis:class extends self.jzt{},vis:class extends self.jzt{},bis:class extends self.jzt{},xis:class extends self.jzt{},Mis:class extends self.jzt{},Tis:class extends self.jzt{},_is:class extends self.jzt{},Gis:class extends self.jzt{},Iis:class extends self.jzt{},Cis:class extends self.WJt{},Pis:class extends self.jzt{},Eis:class extends self.jzt{},Ais:class extends self.jzt{},Ris:class extends self.jzt{},Fis:class extends self.jzt{},Dis:class extends self.jzt{},Ois:class extends self.WJt{},Lis:class extends self.WJt{},kis:class extends self.WJt{},Bis:class extends self.WJt{},Nis:class extends self.WJt{},Wis:class extends self.WJt{},jis:class extends self.WJt{},Vis:class extends self.WJt{},Uis:class extends self.WJt{},His:class extends self.jzt{},zis:class extends self.WJt{},Jis:class extends self.WJt{},qis:class extends self.WJt{},$is:class extends self.WJt{},Xis:class extends self.WJt{},Yis:class extends self.WJt{},Zis:class extends self.WJt{},Kis:class extends self.WJt{},Qis:class extends self.WJt{},tes:class extends self.WJt{},ses:class extends self.jzt{},ies:class extends self.jzt{},Memory:class extends self.jzt{},ees:class extends self.jzt{},nes:class extends self.jzt{},res:class extends self.jzt{},hes:class extends self.jzt{},oes:class extends self.WJt{},aes:class extends self.WJt{},les:class extends self.jzt{},ues:class extends self.jzt{},ces:class extends self.jzt{},fes:class extends self.WJt{},des:class extends self.jzt{},pes:class extends self.jzt{},mes:class extends self.jzt{},ges:class extends self.jzt{},yes:class extends self.jzt{},wes:class extends self.jzt{},Ses:class extends self.jzt{},ves:class extends self.jzt{},bes:class extends self.jzt{},xes:class extends self.jzt{},Mes:class extends self.jzt{},Tes:class extends self.jzt{},_es:class extends self.jzt{}},runOnStartup(async t=>{t.addEventListener("beforeprojectstart",()=>(async t=>{t.addEventListener("tick",()=>{})})(t))});self.Bs.rns={};